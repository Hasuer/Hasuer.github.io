<!DOCTYPE html>
<html lang="en">
    <!-- title -->


    

<!-- keywords -->



<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="author" content="Hasuer">
    <meta name="renderer" content="webkit">
    <meta name="copyright" content="Hasuer">
    
        <meta name="keywords" content="hexo,hexo-theme,hexo-blog">
    
    <meta name="description" content="">
    <meta name="description" content="IntroductionAny problem that asks us to find the top&#x2F;smallest&#x2F;frequent ‘K’ elements among a given set falls under this pattern. The best data structure that comes to mind to keep track of ‘K’ elements">
<meta property="og:type" content="article">
<meta property="og:title" content="18. Pattern Top &#39;K&#39; Elements">
<meta property="og:url" content="https://hasuer.github.io/18-pattern-top-k-elements/index.html">
<meta property="og:site_name" content="Hasuer&#39;s Studio.">
<meta property="og:description" content="IntroductionAny problem that asks us to find the top&#x2F;smallest&#x2F;frequent ‘K’ elements among a given set falls under this pattern. The best data structure that comes to mind to keep track of ‘K’ elements">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://hasuer.github.io/18-pattern-top-k-elements/index/1.png">
<meta property="article:published_time" content="2024-05-18T08:53:51.000Z">
<meta property="article:modified_time" content="2024-05-28T03:29:44.825Z">
<meta property="article:author" content="Hasuer">
<meta property="article:tag" content="Interview">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hasuer.github.io/18-pattern-top-k-elements/index/1.png">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="icon" href="/assets/old_profile.ico">
    
    <title>18. Pattern Top &#39;K&#39; Elements · Hasuer&#39;s Studio</title>
    <!-- /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
/* This file is meant as a standalone workflow for
- testing support for link[rel=preload]
- enabling async CSS loading in browsers that do not support rel=preload
- applying rel preload css once loaded, whether supported or not.
*/ -->
<script>
    (function (w) {
        'use strict'
        // rel=preload support test
        if (!w.loadCSS) {
            w.loadCSS = function () {}
        }
        // define on the loadCSS obj
        var rp = (loadCSS.relpreload = {})
        // rel=preload feature support test
        // runs once and returns a function for compat purposes
        rp.support = (function () {
            var ret
            try {
                ret = w.document.createElement('link').relList.supports('preload')
            } catch (e) {
                ret = false
            }
            return function () {
                return ret
            }
        })()

        // if preload isn't supported, get an asynchronous load by using a non-matching media attribute
        // then change that media back to its intended value on load
        rp.bindMediaToggle = function (link) {
            // remember existing media attr for ultimate state, or default to 'all'
            var finalMedia = link.media || 'all'

            function enableStylesheet() {
                link.media = finalMedia
            }

            // bind load handlers to enable media
            if (link.addEventListener) {
                link.addEventListener('load', enableStylesheet)
            } else if (link.attachEvent) {
                link.attachEvent('onload', enableStylesheet)
            }

            // Set rel and non-applicable media type to start an async request
            // note: timeout allows this to happen async to let rendering continue in IE
            setTimeout(function () {
                link.rel = 'stylesheet'
                link.media = 'only x'
            })
            // also enable media after 3 seconds,
            // which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
            setTimeout(enableStylesheet, 3000)
        }

        // loop through link elements in DOM
        rp.poly = function () {
            // double check this to prevent external calls from running
            if (rp.support()) {
                return
            }
            var links = w.document.getElementsByTagName('link')
            for (var i = 0; i < links.length; i++) {
                var link = links[i]
                // qualify links to those with rel=preload and as=style attrs
                if (
                    link.rel === 'preload' &&
                    link.getAttribute('as') === 'style' &&
                    !link.getAttribute('data-loadcss')
                ) {
                    // prevent rerunning on link
                    link.setAttribute('data-loadcss', true)
                    // bind listeners to toggle media back
                    rp.bindMediaToggle(link)
                }
            }
        }

        // if unsupported, run the polyfill
        if (!rp.support()) {
            // run once at least
            rp.poly()

            // rerun poly on an interval until onload
            var run = w.setInterval(rp.poly, 500)
            if (w.addEventListener) {
                w.addEventListener('load', function () {
                    rp.poly()
                    w.clearInterval(run)
                })
            } else if (w.attachEvent) {
                w.attachEvent('onload', function () {
                    rp.poly()
                    w.clearInterval(run)
                })
            }
        }

        // commonjs
        if (typeof exports !== 'undefined') {
            exports.loadCSS = loadCSS
        } else {
            w.loadCSS = loadCSS
        }
    })(typeof global !== 'undefined' ? global : this)
</script>

    <style type="text/css">
    @font-face {
        font-family: 'Oswald-Regular';
        src: url("/font/Oswald-Regular.ttf");
    }

    body {
        margin: 0;
    }

    header,
    footer,
    .back-top,
    .sidebar,
    .container,
    .site-intro-meta,
    .toc-wrapper {
        display: none;
    }

    .site-intro {
        position: relative;
        z-index: 3;
        width: 100%;
        /* height: 50vh; */
        overflow: hidden;
    }

    .site-intro-placeholder {
        position: absolute;
        z-index: -2;
        top: 0;
        left: 0;
        width: calc(100% + 300px);
        height: 100%;
        background: repeating-linear-gradient(-45deg, #444 0, #444 80px, #333 80px, #333 160px);
        background-position: center center;
        transform: translate3d(-226px, 0, 0);
        animation: gradient-move 2.5s ease-out 0s infinite;
    }

    @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(0, 0, 0);
        }
    }
</style>

    <link rel="preload" href="/css/style.css?v=20210823" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="/css/dark.css?v=20210823" as="style">
    <link rel="stylesheet" href="/css/dark.css" media="(prefers-color-scheme: dark)">
    <link rel="stylesheet" href="/css/mobile.css?v=20210823" media="(max-width: 960px)">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" as="script">
    <link rel="preload" href="/scripts/main.js?v=20210823" as="script">
    <link rel="preload" href="/scripts/dark.js?v=20210823" as="script">
    <link rel="preload" href="/font/Oswald-Regular.ttf" as="font" crossorigin>
    <link rel="preload" href="https://at.alicdn.com/t/font_327081_1dta1rlogw17zaor.woff" as="font" crossorigin>
    <!-- algolia -->
    
    <!-- 百度统计  -->
    
    <!-- 谷歌统计  -->
    
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"></head>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script type="text/javascript">
        if (typeof window.$ == undefined) {
            console.warn('jquery load from jsdelivr failed, will load local script')
            document.write('<script src="/lib/jquery.min.js" />')
        }
    </script>
    
        <body class="post-body">
    
        <!-- header -->
        <header class="header header-mobile">
    <!-- top read progress line -->
    <div class="header-element">
        <div class="read-progress"></div>
    </div>
    <!-- sidebar menu button -->
    <div class="header-element">
        
            <div class="header-sidebar-menu">
        
            
                <div style="padding-left: 1px;">&#xe775;</div>
            
        </div>
    </div>
    <!-- header actions -->
    <div class="header-actions">
        <!-- theme mode switch button -->
        <span class="header-theme-btn header-element">
            <i class="fas fa-adjust"></i>
        </span>
        <!-- back to home page text -->
        <span class="home-link header-element">
            <a href=/>Hasuer's Studio.</a>
        </span>
    </div>
    <!-- toggle banner for post layout -->
    
        
            <div class="banner">
        
            <div class="blog-title header-element">
                <a href="/">Hasuer&#39;s Studio.</a>
            </div>
            <div class="post-title header-element">
                <a href="#" class="post-name">18. Pattern Top 'K' Elements</a>
            </div>
        </div>
    
</header>

        <!-- fixed footer -->
        <footer class="footer-fixed">
    <!-- back to top button -->
    <div class="footer-fixed-element">
        
            <div class="back-top back-top-hidden">
        
        
            <div>&#xe639;</div>
        
        </div>
    </div>
</footer>

        <!-- wrapper -->
        <div class="wrapper">
            <div class="site-intro" style="







    height:50vh;

">
    
    <!-- 主页  -->
    
        
    <!-- 404页  -->
            
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-img" style="background-image: url(/intro/post-bg.jpg)"></div>
    <div class="site-intro-meta">
        <!-- 标题  -->
        <h1 class="intro-title">
            <!-- 主页  -->
            
                18. Pattern Top 'K' Elements
            <!-- 404 -->
            
        </h1>
        <!-- 副标题 -->
        <p class="intro-subtitle">
            <!-- 主页副标题  -->
            
                
            <!-- 404 -->
            
        </p>
        <!-- 文章页 meta -->
        
            <div class="post-intros">
                <!-- 文章页标签  -->
                
                    <div class= post-intro-tags >
    
        
        
            
        
        
        <span class="post-category" data-categories="Grokking Interview Pattern"">
            <i class="fas fa-folder post-category-icon"></i>
            <span class="post-category-text">
                Grokking Interview Pattern
            </span>
        </span>
    
    
        <a class="post-tag" href="javascript:void(0);" data-tags="Interview">Interview</a>
    
</div>

                
                
                    <div class="post-intro-read">
                        <span>Word count: <span class="post-count word-count">9.2k</span>Reading time: <span class="post-count reading-time">55 min</span></span>
                    </div>
                
                <div class="post-intro-meta">
                    <!-- 撰写日期 -->
                    <span class="iconfont-archer post-intro-calander">&#xe676;</span>
                    <span class="post-intro-time">2024/05/18</span>
                    <!-- busuanzi -->
                    
                        <span id="busuanzi_container_page_pv" class="busuanzi-pv">
                            <span class="iconfont-archer post-intro-busuanzi">&#xe602;</span>
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    
                    <!-- 文章分享 -->
                    <span class="share-wrapper">
                        <span class="iconfont-archer share-icon">&#xe71d;</span>
                        <span class="share-text">Share</span>
                        <ul class="share-list">
                            <li class="iconfont-archer share-qr" data-type="qr">&#xe75b;
                                <div class="share-qrcode"></div>
                            </li>
                            <li class="iconfont-archer" data-type="weibo">&#xe619;</li>
                            <li class="iconfont-archer" data-type="qzone">&#xe62e;</li>
                            <li class="iconfont-archer" data-type="twitter">&#xe634;</li>
                            <li class="iconfont-archer" data-type="facebook">&#xe67a;</li>
                        </ul>
                    </span>
                </div>
            </div>
        
    </div>
</div>

            <script>
  // get user agent
  function getBrowserVersions() {
    var u = window.navigator.userAgent
    return {
      userAgent: u,
      trident: u.indexOf('Trident') > -1, //IE内核
      presto: u.indexOf('Presto') > -1, //opera内核
      webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
      gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
      mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
      ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
      android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
      iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者安卓QQ浏览器
      iPad: u.indexOf('iPad') > -1, //是否为iPad
      webApp: u.indexOf('Safari') == -1, //是否为web应用程序，没有头部与底部
      weixin: u.indexOf('MicroMessenger') == -1, //是否为微信浏览器
      uc: u.indexOf('UCBrowser') > -1, //是否为android下的UC浏览器
    }
  }
  var browser = {
    versions: getBrowserVersions(),
  }
  console.log('userAgent: ' + browser.versions.userAgent)

  // callback
  function fontLoaded() {
    console.log('font loaded')
    if (document.getElementsByClassName('site-intro-meta')) {
      document
        .getElementsByClassName('intro-title')[0]
        .classList.add('intro-fade-in')
      document
        .getElementsByClassName('intro-subtitle')[0]
        .classList.add('intro-fade-in')
      var postIntros = document.getElementsByClassName('post-intros')[0]
      if (postIntros) {
        postIntros.classList.add('post-fade-in')
      }
    }
  }

  // UC不支持跨域，所以直接显示
  function asyncCb() {
    if (browser.versions.uc) {
      console.log('UCBrowser')
      fontLoaded()
    } else {
      WebFont.load({
        custom: {
          families: ['Oswald-Regular'],
        },
        loading: function () {
          // 所有字体开始加载
          // console.log('font loading');
        },
        active: function () {
          // 所有字体已渲染
          fontLoaded()
        },
        inactive: function () {
          // 字体预加载失败，无效字体或浏览器不支持加载
          console.log('inactive: timeout')
          fontLoaded()
        },
        timeout: 5000, // Set the timeout to two seconds
      })
    }
  }

  function asyncErr() {
    console.warn('script load from CDN failed, will load local script')
  }

  // load webfont-loader async, and add callback function
  function async(u, cb, err) {
    var d = document,
      t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0]
    o.src = u
    if (cb) {
      o.addEventListener(
        'load',
        function (e) {
          cb(null, e)
        },
        false
      )
    }
    if (err) {
      o.addEventListener(
        'error',
        function (e) {
          err(null, e)
        },
        false
      )
    }
    s.parentNode.insertBefore(o, s)
  }

  var asyncLoadWithFallBack = function (arr, success, reject) {
    var currReject = function () {
      reject()
      arr.shift()
      if (arr.length) async(arr[0], success, currReject)
    }

    async(arr[0], success, currReject)
  }

  asyncLoadWithFallBack(
    [
      'https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js',
      'https://cdn.bootcss.com/webfont/1.6.28/webfontloader.js',
      "/lib/webfontloader.min.js",
    ],
    asyncCb,
    asyncErr
  )
</script>

            <img class="loading" src="/assets/loading.svg" style="display: block; margin: 6rem auto 0 auto; width: 6rem; height: 6rem;" />
            <div class="container container-unloaded">
                <main class="main post-page">
    <article class="article-entry">
        <h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>Any problem that asks us to find the top/smallest/frequent ‘K’ elements among a given set falls under this pattern.</p>
<p>The best data structure that comes to mind to keep track of ‘K’ elements is <strong><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Heap_(data_structure">Heap</a>)</strong>. This pattern will make use of the Heap to solve multiple problems dealing with ‘K’ elements at a time from a set of given elements.</p>
<p>Let’s jump onto our first problem to develop an understanding of this pattern.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">做这种pattern的题目有三种方式</span><br><span class="line"><span class="comment"># 1. 先全部塞进去，最后在弹出指定数量作为答案，这样可以保证相同的排序条件，先进去的被取出来</span></span><br><span class="line"><span class="comment"># 2. 先塞进去指定数量，然后每满足条件就替换，如果排序条件已经存在（带比较的数的条件和heap[0]的条件一样），那就不会替换，这样</span></span><br><span class="line"><span class="comment">#    也可以保证答案中会优先包含先进去的数</span></span><br><span class="line"><span class="comment"># 3. 每塞进去一个就判断是不是已经超过了指定长度，如果超过了就弹出一个，这样就会导致相同的排序条件，会优先保留后进来的，这是我们不想要的。</span></span><br><span class="line"><span class="comment">#    所以这道题选择第一种和第二种是合理的</span></span><br></pre></td></tr></table></figure>
<h2 id="Top-‘K’-Numbers-easy"><a href="#Top-‘K’-Numbers-easy" class="headerlink" title="Top ‘K’ Numbers (easy)"></a>Top ‘K’ Numbers (easy)</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Problem-Statement"><a href="#Problem-Statement" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>Given an unsorted array of numbers, find the ‘K’ largest numbers in it.</p>
<p>Note: For a detailed discussion about different approaches to solve this problem, take a look at <a target="_blank" rel="noopener" href="https://www.educative.io/collection/page/5668639101419520/5671464854355968/4817079184130048">Kth Smallest Number</a>(这是Miscellaneous类别的）</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: <span class="string">[3, 1, 5, 12, 2, 11]</span>, K = <span class="number">3</span></span><br><span class="line">Output: <span class="string">[5, 12, 11]</span></span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: <span class="string">[5, 12, 11, -1, 12]</span>, K = <span class="number">3</span></span><br><span class="line">Output: <span class="string">[12, 11, 12]</span></span><br></pre></td></tr></table></figure>
<p><strong>Constraints:</strong></p>
<ul>
<li>1 &lt;= nums.length &lt;= 10^5</li>
<li>-10^5 &lt;= nums[i] &lt;= 10^5</li>
<li>k is in the range [1, the number of unique elements in the array].</li>
<li>It is guaranteed that the answer is unique.</li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><p>A brute force solution could be to sort the array and return the largest K numbers. The time complexity of such an algorithm will be <strong><em>O(N\</em>logN)*</strong> as we need to use a sorting algorithm like <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Timsort">Timsort</a> if we use Java’s <code>Collection.sort()</code>. Can we do better than that?</p>
<p>The best data structure that comes to mind to keep track of top ‘K’ elements is <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Heap_(data_structure">Heap</a>). Let’s see if we can use a heap to find a better algorithm.</p>
<p>If we iterate through the array one element at a time and keep ‘K’ largest numbers in a heap such that each time we find a larger number than the smallest number in the heap, we do two things:</p>
<ol>
<li>Take out the smallest number from the heap, and</li>
<li>Insert the larger number into the heap.</li>
</ol>
<p>This will ensure that we always have ‘K’ largest numbers in the heap. The most efficient way to repeatedly find the smallest number among a set of numbers will be to use a min-heap. As we know, we can find the smallest number in a min-heap in constant time <strong><em>O(1)</em></strong>, since the smallest number is always at the root of the heap. Extracting the smallest number from a min-heap will take <strong><em>O(logN)</em></strong> (if the heap has ‘N’ elements) as the heap needs to readjust after the removal of an element.</p>
<p>Let’s take Example-1 to go through each step of our algorithm:</p>
<p>Given array: [3, 1, 5, 12, 2, 11], and K=3</p>
<ol>
<li>First, let’s insert ‘K’ elements in the min-heap.</li>
<li>After the insertion, the heap will have three numbers [3, 1, 5] with ‘1’ being the root as it is the smallest element.</li>
<li>We’ll iterate through the remaining numbers and perform the above-mentioned two steps if we find a number larger than the root of the heap.</li>
<li>The 4th number is ‘12’ which is larger than the root (which is ‘1’), so let’s take out ‘1’ and insert ‘12’. Now the heap will have [3, 5, 12] with ‘3’ being the root as it is the smallest element.</li>
<li>The 5th number is ‘2’ which is not bigger than the root of the heap (‘3’), so we can skip this as we already have top three numbers in the heap.</li>
<li>The last number is ‘11’ which is bigger than the root (which is ‘3’), so let’s take out ‘3’ and insert ‘11’. Finally, the heap has the largest three numbers: [5, 12, 11]</li>
</ol>
<p>As discussed above, it will take us <strong><em>O(logK)</em></strong> to extract the minimum number from the min-heap. So the overall time complexity of our algorithm will be <strong><em>O(K\</em>logK+(N-K)*logK)*</strong> since, first, we insert ‘K’ numbers in the heap and then iterate through the remaining numbers and at every step, in the worst case, we need to extract the minimum number and insert a new number in the heap. This algorithm is better than <strong><em>O(N\</em>logN)*</strong>.</p>
<p>Here is the visual representation of our algorithm:</p>
<p><img src="/18-pattern-top-k-elements/index/1.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">findKLargestNumbers</span>(<span class="params">self, nums, k</span>):</span></span><br><span class="line">    minHeap = []</span><br><span class="line">    <span class="comment"># put first &#x27;K&#x27; numbers in the min heap</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">      heappush(minHeap, nums[i])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># go through the remaining numbers of the array, if the number from the array is </span></span><br><span class="line">    <span class="comment"># bigger than the top(smallest) number of the min-heap, remove the top number from </span></span><br><span class="line">    <span class="comment"># heap and add the number from array</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k, <span class="built_in">len</span>(nums)):</span><br><span class="line">      <span class="keyword">if</span> nums[i] &gt; minHeap[<span class="number">0</span>]:</span><br><span class="line">        heappop(minHeap)</span><br><span class="line">        heappush(minHeap, nums[i])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># the heap has the top &#x27;K&#x27; numbers</span></span><br><span class="line">    <span class="keyword">return</span> minHeap</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">  sol = Solution()</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Here are the top K numbers: &quot;</span> +</span><br><span class="line">        <span class="built_in">str</span>(sol.findKLargestNumbers([<span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">2</span>, <span class="number">11</span>], <span class="number">3</span>)))</span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Here are the top K numbers: &quot;</span> +</span><br><span class="line">        <span class="built_in">str</span>(sol.findKLargestNumbers([<span class="number">5</span>, <span class="number">12</span>, <span class="number">11</span>, -<span class="number">1</span>, <span class="number">12</span>], <span class="number">3</span>)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity"><a href="#Time-complexity" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>As discussed above, the time complexity of this algorithm is <strong><em>O(KlogK+(N-K)logK)</em></strong>, which is asymptotically equal to <strong><em>O(NlogK)</em></strong></p>
<h4 id="Space-complexity"><a href="#Space-complexity" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(K)</em></strong> since we need to store the top ‘K’ numbers in the heap.</p>
<h2 id="Kth-Smallest-Number-easy"><a href="#Kth-Smallest-Number-easy" class="headerlink" title="Kth Smallest Number (easy)"></a>Kth Smallest Number (easy)</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Top Interview 150 | <a target="_blank" rel="noopener" href="https://leetcode.com/problems/kth-largest-element-in-an-array/">215. Kth Largest Element in an Array</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Problem-Statement-1"><a href="#Problem-Statement-1" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>Given an unsorted array of numbers, find Kth smallest number in it.</p>
<p>Please note that it is the Kth smallest number in the sorted order, not the Kth distinct element.</p>
<p>Note: For a detailed discussion about different approaches to solve this problem, take a look at <strong><em>Kth Smallest Number</em></strong>.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Input:</span> [<span class="number">1</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">2</span>, <span class="number">11</span>, <span class="number">5</span>], K = <span class="number">3</span></span><br><span class="line"><span class="symbol">Output:</span> <span class="number">5</span></span><br><span class="line"><span class="symbol">Explanation:</span> The <span class="number">3</span>rd smallest number <span class="built_in">is</span> <span class="comment">&#x27;5&#x27;, as the first two smaller numbers are [1, 2].</span></span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Inpu<span class="variable">t:</span> [<span class="number">1</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">2</span>, <span class="number">11</span>, <span class="number">5</span>], K = <span class="number">4</span></span><br><span class="line">Outpu<span class="variable">t:</span> <span class="number">5</span></span><br><span class="line">Explanation: The <span class="number">4</span><span class="keyword">th</span> smallest <span class="keyword">number</span> <span class="keyword">is</span> <span class="string">&#x27;5&#x27;</span>, <span class="keyword">as</span> the <span class="keyword">first</span> three small numbers are [<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>].</span><br></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Input:</span> [<span class="number">5</span>, <span class="number">12</span>, <span class="number">11</span>, -<span class="number">1</span>, <span class="number">12</span>], K = <span class="number">3</span></span><br><span class="line"><span class="symbol">Output:</span> <span class="number">11</span></span><br><span class="line"><span class="symbol">Explanation:</span> The <span class="number">3</span>rd smallest number <span class="built_in">is</span> <span class="comment">&#x27;11&#x27;, as the first two small numbers are [5, -1].</span></span><br></pre></td></tr></table></figure>
<p><strong>Constraints:</strong></p>
<ul>
<li>1 &lt;= k &lt;= nums.length &lt;= 10^5</li>
<li>-10^4 &lt;= nums[i] &lt;= 10^4</li>
</ul>
<h3 id="Solution-1"><a href="#Solution-1" class="headerlink" title="Solution"></a>Solution</h3><p>This problem follows the <em>Top ‘K’ Numbers</em> pattern but has two differences:</p>
<ol>
<li>Here we need to find the Kth <code>smallest</code> number, whereas in <em>Top ‘K’ Numbers</em> we were dealing with ‘K’ <code>largest</code> numbers.</li>
<li>In this problem, we need to find only one number (Kth smallest) compared to finding all ‘K’ largest numbers.</li>
</ol>
<p>We can follow the same approach as discussed in the ‘Top K Elements’ problem. To handle the first difference mentioned above, we can use a max-heap instead of a min-heap. As we know, the root is the biggest element in the max heap. So, since we want to keep track of the ‘K’ smallest numbers, we can compare every number with the root while iterating through all numbers, and if it is smaller than the root, we’ll take the root out and insert the smaller number.</p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><p>Here is what our algorithm will look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">findKthSmallestNumber</span>(<span class="params">self, nums, k</span>):</span></span><br><span class="line">    maxHeap = []</span><br><span class="line">    <span class="comment"># put first k numbers in the max heap</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">      heappush(maxHeap, -nums[i])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># go through the remaining numbers of the array, if the number from the array is </span></span><br><span class="line">    <span class="comment"># smaller than the top(biggest) number of the heap, remove the top number from heap </span></span><br><span class="line">    <span class="comment"># and add the number from array</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k, <span class="built_in">len</span>(nums)):</span><br><span class="line">      <span class="keyword">if</span> -nums[i] &gt; maxHeap[<span class="number">0</span>]:</span><br><span class="line">        heappop(maxHeap)</span><br><span class="line">        heappush(maxHeap, -nums[i])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># the root of the heap has the Kth smallest number</span></span><br><span class="line">    <span class="keyword">return</span> -maxHeap[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">  sol = Solution()</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Kth smallest number is: &quot;</span> +</span><br><span class="line">        <span class="built_in">str</span>(sol.findKthSmallestNumber([<span class="number">1</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">2</span>, <span class="number">11</span>, <span class="number">5</span>], <span class="number">3</span>)))</span><br><span class="line"></span><br><span class="line">  <span class="comment"># since there are two 5s in the input array, our 3rd and 4th smallest numbers should </span></span><br><span class="line">  <span class="comment"># be a &#x27;5&#x27;</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Kth smallest number is: &quot;</span> +</span><br><span class="line">        <span class="built_in">str</span>(sol.findKthSmallestNumber([<span class="number">1</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">2</span>, <span class="number">11</span>, <span class="number">5</span>], <span class="number">4</span>)))</span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Kth smallest number is: &quot;</span> +</span><br><span class="line">        <span class="built_in">str</span>(sol.findKthSmallestNumber([<span class="number">5</span>, <span class="number">12</span>, <span class="number">11</span>, -<span class="number">1</span>, <span class="number">12</span>], <span class="number">3</span>)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity-1"><a href="#Time-complexity-1" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>The time complexity of this algorithm is <strong><em>O(KlogK+(N-K)logK)</em></strong>, which is asymptotically equal to <strong><em>O(N\</em>logK)*</strong></p>
<h4 id="Space-complexity-1"><a href="#Space-complexity-1" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(K)</em></strong> because we need to store ‘K’ smallest numbers in the heap.</p>
<h3 id="An-Alternate-Approach"><a href="#An-Alternate-Approach" class="headerlink" title="An Alternate Approach"></a>An Alternate Approach</h3><p>Alternatively, we can use a <strong>Min Heap</strong> to find the Kth smallest number. We can insert all the numbers in the min-heap and then extract the top ‘K’ numbers from the heap to find the Kth smallest number. Initializing the min-heap with all numbers will take <strong><em>O(N)</em></strong> and extracting ‘K’ numbers will take <strong><em>O(KlogN)</em></strong>. Overall, the time complexity of this algorithm will be <strong><em>O(N+KlogN)</em></strong> and the space complexity will be <strong><em>O(N)</em></strong>.</p>
<h2 id="‘K’-Closest-Points-to-the-Origin-easy"><a href="#‘K’-Closest-Points-to-the-Origin-easy" class="headerlink" title="‘K’ Closest Points to the Origin (easy)"></a>‘K’ Closest Points to the Origin (easy)</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/k-closest-points-to-origin/">973. K Closest Points to Origin</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Problem-Statement-2"><a href="#Problem-Statement-2" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>Given an array of points in the a <strong>2D</strong> plane, find ‘K’ closest points to the origin.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: points = <span class="string">[[1,2],[1,3]]</span>, K = <span class="number">1</span></span><br><span class="line">Output: <span class="string">[[1,2]]</span></span><br><span class="line">Explanation: The Euclidean distance between (<span class="number">1</span>, <span class="number">2</span>) <span class="keyword">and</span> the origin is <span class="built_in">sqrt</span>(<span class="number">5</span>).</span><br><span class="line">The Euclidean distance between (<span class="number">1</span>, <span class="number">3</span>) <span class="keyword">and</span> the origin is <span class="built_in">sqrt</span>(<span class="number">10</span>).</span><br><span class="line">Since <span class="built_in">sqrt</span>(<span class="number">5</span>) &lt; <span class="built_in">sqrt</span>(<span class="number">10</span>), therefore (<span class="number">1</span>, <span class="number">2</span>) is closer to the origin.</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: point = <span class="string">[[1, 3], [3, 4], [2, -1]]</span>, K = <span class="number">2</span></span><br><span class="line">Output: <span class="string">[[1, 3], [2, -1]]</span></span><br></pre></td></tr></table></figure>
<p><strong>Constraints:</strong></p>
<ul>
<li>1 &lt;= k &lt;= points.length &lt;= 10^4</li>
<li>-10^4 &lt;= xi, yi &lt;= 10^4</li>
</ul>
<h3 id="Solution-2"><a href="#Solution-2" class="headerlink" title="Solution"></a>Solution</h3><p>The <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Euclidean_distance">Euclidean distance</a> of a point P(x,y) from the origin can be calculated through the following formula:</p>
<p>\sqrt{x^2 + y^2}√<em>x</em>2+<em>y</em>2</p>
<p>This problem follows the <strong><em>Top ‘K’ Numbers</em></strong> pattern. The only difference in this problem is that we need to find the closest point (to the origin) as compared to finding the largest numbers.</p>
<p>Following a similar approach, we can use a <strong>Max Heap</strong> to find ‘K’ points closest to the origin. While iterating through all points, if a point (say ‘P’) is closer to the origin than the top point of the max-heap, we will remove that top point from the heap and add ‘P’ to always keep the closest points in the heap.</p>
<h3 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h3><p>Here is what our algorithm will look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果要构造kth closest的point,也是构造大顶堆，只不过返回的时候返回第一个就可以</span></span><br><span class="line"><span class="comment"># 如果要构造kth farest的point, 就要构造小顶堆，返回的时候返回第一个就可以，越小的排在越前面，def __lt__(self, other)中就要改成return self.distance_from_origin() &lt; other.distance_from_origin()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="comment"># class Point:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># def __init__(self, x, y):</span></span><br><span class="line">  <span class="comment">#   self.x = x</span></span><br><span class="line">  <span class="comment">#   self.y = y</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># # Define a custom comparison method for max-heap.</span></span><br><span class="line">  <span class="comment"># def __lt__(self, other):</span></span><br><span class="line">  <span class="comment">#   return self.distance_from_origin() &gt; other.distance_from_origin()</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># def distance_from_origin(self):</span></span><br><span class="line">  <span class="comment">#   # Calculate the distance from the origin (squared for comparison).</span></span><br><span class="line">  <span class="comment">#   return (self.x * self.x) + (self.y * self.y)</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">findClosestPoints</span>(<span class="params">self, points, k</span>):</span></span><br><span class="line">    maxHeap = []</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Initialize the max-heap with the first &#x27;k&#x27; points.</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">      heappush(maxHeap, (-points[i].distance_from_origin(), points[i]))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k, <span class="built_in">len</span>(points)):</span><br><span class="line">      distance = points[i].distance_from_origin()</span><br><span class="line">      </span><br><span class="line">      <span class="comment"># If the current point is closer to the origin than the farthest point in max-heap, replace it.</span></span><br><span class="line">      <span class="keyword">if</span> distance &lt; -maxHeap[<span class="number">0</span>][<span class="number">0</span>]:</span><br><span class="line">        heappop(maxHeap)</span><br><span class="line">        heappush(maxHeap, (-distance, points[i]))</span><br><span class="line"></span><br><span class="line">    closestPoints = []</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Extract the closest points from the max-heap.</span></span><br><span class="line">    <span class="keyword">while</span> maxHeap:</span><br><span class="line">      closestPoints.append(maxHeap[<span class="number">0</span>][<span class="number">1</span>])</span><br><span class="line">      heappop(maxHeap)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> closestPoints</span><br><span class="line">  </span><br><span class="line"><span class="meta">  @staticmethod</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">print_point</span>(<span class="params">point</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[&quot;</span> + <span class="built_in">str</span>(point.x) + <span class="string">&quot;, &quot;</span> + <span class="built_in">str</span>(point.y) + <span class="string">&quot;] &quot;</span>, end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">  sol = Solution()</span><br><span class="line">  result = sol.findClosestPoints([Point(<span class="number">1</span>, <span class="number">3</span>), Point(<span class="number">3</span>, <span class="number">4</span>), Point(<span class="number">2</span>, -<span class="number">1</span>)], <span class="number">2</span>)</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Here are the k points closest to the origin: &quot;</span>, end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  <span class="keyword">for</span> point <span class="keyword">in</span> result:</span><br><span class="line">    Solution.print_point(point)  <span class="comment"># Call the static method correctly</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="comment"># ==================================leetcode======================================</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">distance_from_origin</span>(<span class="params">self, point</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">pow</span>(point[<span class="number">0</span>], <span class="number">2</span>) + <span class="built_in">pow</span>(point[<span class="number">1</span>], <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kClosest</span>(<span class="params">self, points, k</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type points: List[List[int]]</span></span><br><span class="line"><span class="string">        :type k: int</span></span><br><span class="line"><span class="string">        :rtype: List[List[int]]</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        max_heap = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">            heappush(max_heap, (-self.distance_from_origin(points[i]), points[i]))</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k, <span class="built_in">len</span>(points)):</span><br><span class="line">            <span class="keyword">if</span> self.distance_from_origin(points[i]) &lt; self.distance_from_origin(max_heap[<span class="number">0</span>][<span class="number">1</span>]):</span><br><span class="line">                heappop(max_heap)</span><br><span class="line">                heappush(max_heap, (-self.distance_from_origin(points[i]), points[i]))</span><br><span class="line">        res =[]</span><br><span class="line">        <span class="keyword">while</span> max_heap:</span><br><span class="line">            res.append(heappop(max_heap)[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity-2"><a href="#Time-complexity-2" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>The time complexity of this algorithm is <strong><em>(N\</em>logK)*</strong> as we iterating all points and pushing them into the heap.</p>
<h4 id="Space-complexity-2"><a href="#Space-complexity-2" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(K)</em></strong> because we need to store ‘K’ point in the heap.</p>
<h2 id="Connect-Ropes-easy"><a href="#Connect-Ropes-easy" class="headerlink" title="Connect Ropes (easy)"></a>Connect Ropes (easy)</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/minimum-cost-to-connect-sticks/description/">Leetcode 1167 会员</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Problem-Statement-3"><a href="#Problem-Statement-3" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>Given ‘N’ ropes with different lengths, we need to connect these ropes into one big rope with minimum cost. The cost of connecting two ropes is equal to the sum of their lengths.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Input</span>:<span class="meta"> [1, 3, 11, 5]</span></span><br><span class="line"><span class="attribute">Output</span>: <span class="number">33</span></span><br><span class="line"><span class="attribute">Explanation</span>: First connect <span class="number">1</span>+<span class="number">3</span>(=<span class="number">4</span>), then <span class="number">4</span>+<span class="number">5</span>(=<span class="number">9</span>), and then <span class="number">9</span>+<span class="number">11</span>(=<span class="number">20</span>). So the total cost is <span class="number">33</span> (<span class="number">4</span>+<span class="number">9</span>+<span class="number">20</span>)</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Input</span>:<span class="meta"> [3, 4, 5, 6]</span></span><br><span class="line"><span class="attribute">Output</span>: <span class="number">36</span></span><br><span class="line"><span class="attribute">Explanation</span>: First connect <span class="number">3</span>+<span class="number">4</span>(=<span class="number">7</span>), then <span class="number">5</span>+<span class="number">6</span>(=<span class="number">11</span>), <span class="number">7</span>+<span class="number">11</span>(=<span class="number">18</span>). Total cost is <span class="number">36</span> (<span class="number">7</span>+<span class="number">11</span>+<span class="number">18</span>)</span><br></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Input</span>:<span class="meta"> [1, 3, 11, 5, 2]</span></span><br><span class="line"><span class="attribute">Output</span>: <span class="number">42</span></span><br><span class="line"><span class="attribute">Explanation</span>: First connect <span class="number">1</span>+<span class="number">2</span>(=<span class="number">3</span>), then <span class="number">3</span>+<span class="number">3</span>(=<span class="number">6</span>), <span class="number">6</span>+<span class="number">5</span>(=<span class="number">11</span>), <span class="number">11</span>+<span class="number">11</span>(=<span class="number">22</span>). Total cost is <span class="number">42</span> (<span class="number">3</span>+<span class="number">6</span>+<span class="number">11</span>+<span class="number">22</span>)</span><br></pre></td></tr></table></figure>
<p><strong>Constraints:</strong></p>
<ul>
<li>1 &lt;= ropLengths.length &lt;= 10^4</li>
<li>1 &lt;= ropLengths[i] &lt;= 10^4</li>
</ul>
<h3 id="Solution-3"><a href="#Solution-3" class="headerlink" title="Solution"></a>Solution</h3><p>In this problem, following a greedy approach to connect the smallest ropes first will ensure the lowest cost. We can use a <strong>Min Heap</strong> to find the smallest ropes following a similar approach as discussed in <em>Kth Smallest Number</em>. Once we connect two ropes, we need to insert the resultant rope back in the <strong>Min Heap</strong> so that we can connect it with the remaining ropes.</p>
<h3 id="Code-2"><a href="#Code-2" class="headerlink" title="Code"></a>Code</h3><p>Here is what our algorithm will look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">minimumCostToConnectRopes</span>(<span class="params">self, ropeLengths</span>):</span></span><br><span class="line">    minHeap = []</span><br><span class="line">    <span class="comment"># add all ropes to the min heap</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> ropeLengths:</span><br><span class="line">      heappush(minHeap, i)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># go through the values of the heap, in each step take top (lowest) rope lengths from </span></span><br><span class="line">    <span class="comment"># the min heap connect them and push the result back to the min heap.</span></span><br><span class="line">    <span class="comment"># keep doing this until the heap is left with only one rope</span></span><br><span class="line">    result, temp = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">len</span>(minHeap) &gt; <span class="number">1</span>:</span><br><span class="line">      temp = heappop(minHeap) + heappop(minHeap)</span><br><span class="line">      result += temp</span><br><span class="line">      heappush(minHeap, temp)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">  sol = Solution()</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Minimum cost to connect ropes: &quot;</span> +</span><br><span class="line">        <span class="built_in">str</span>(sol.minimumCostToConnectRopes([<span class="number">1</span>, <span class="number">3</span>, <span class="number">11</span>, <span class="number">5</span>])))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Minimum cost to connect ropes: &quot;</span> +</span><br><span class="line">        <span class="built_in">str</span>(sol.minimumCostToConnectRopes([<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>])))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Minimum cost to connect ropes: &quot;</span> +</span><br><span class="line">        <span class="built_in">str</span>(sol.minimumCostToConnectRopes([<span class="number">1</span>, <span class="number">3</span>, <span class="number">11</span>, <span class="number">5</span>, <span class="number">2</span>])))</span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity-3"><a href="#Time-complexity-3" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>Given ‘N’ ropes, we need <strong><em>O(N\</em>logN)*</strong> to insert all the ropes in the heap. In each step, while processing the heap, we take out two elements from the heap and insert one. This means we will have a total of ‘N’ steps, having a total time complexity of <strong><em>O(N\</em>logN)*</strong>.</p>
<h4 id="Space-complexity-3"><a href="#Space-complexity-3" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(N)</em></strong> because we need to store all the ropes in the heap.</p>
<h2 id="Top-‘K’-Frequent-Numbers-medium"><a href="#Top-‘K’-Frequent-Numbers-medium" class="headerlink" title="Top ‘K’ Frequent Numbers (medium)"></a>Top ‘K’ Frequent Numbers (medium)</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/top-k-frequent-elements/">347. Top K Frequent Elements</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Problem-Statement-4"><a href="#Problem-Statement-4" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>Given an unsorted array of numbers, find the top ‘K’ frequently occurring numbers in it.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Input</span>: [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">11</span>], <span class="symbol">K</span> = <span class="number">2</span></span><br><span class="line"><span class="symbol">Output</span>: [<span class="number">12</span>, <span class="number">11</span>]</span><br><span class="line"><span class="symbol">Explanation</span>: <span class="symbol">Both</span> <span class="string">&#x27;11&#x27;</span> and <span class="string">&#x27;12&#x27;</span> apeared twice.</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Input</span>: [<span class="number">5</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">3</span>, <span class="number">11</span>], <span class="symbol">K</span> = <span class="number">2</span></span><br><span class="line"><span class="symbol">Output</span>: [<span class="number">11</span>, <span class="number">5</span>] or [<span class="number">11</span>, <span class="number">12</span>] or [<span class="number">11</span>, <span class="number">3</span>]</span><br><span class="line"><span class="symbol">Explanation</span>: <span class="symbol">Only</span> <span class="string">&#x27;11&#x27;</span> appeared twice, all other numbers appeared once.</span><br></pre></td></tr></table></figure>
<p><strong>Constraints:</strong></p>
<ul>
<li>1 &lt;= nums.length &lt;= 10^5</li>
<li>-10^5 &lt;= nums[i] &lt;= 10^5</li>
<li>k is in the range [1, the number of unique elements in the array].</li>
<li>It is guaranteed that the answer is unique.</li>
</ul>
<h3 id="Solution-4"><a href="#Solution-4" class="headerlink" title="Solution"></a>Solution</h3><p>This problem follows <em>Top ‘K’ Numbers</em>. The only difference is that in this problem, we need to find the most frequently occurring number compared to finding the largest numbers.</p>
<p>We can follow the same approach as discussed in the <strong>Top K Elements</strong> problem. However, in this problem, we first need to know the frequency of each number, for which we can use a <strong>HashMap</strong>. Once we have the frequency map, we can use a <strong>Min Heap</strong> to find the ‘K’ most frequently occurring number. In the <strong>Min Heap</strong>, instead of comparing numbers we will compare their frequencies in order to get frequently occurring numbers</p>
<h3 id="Code-3"><a href="#Code-3" class="headerlink" title="Code"></a>Code</h3><p>Here is what our algorithm will look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findTopKFrequentNumbers</span>(<span class="params">self, nums, k</span>):</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># find the frequency of each number</span></span><br><span class="line">        numFrequencyMap = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            numFrequencyMap[num] = numFrequencyMap.get(num, <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        minHeap = []</span><br><span class="line">        <span class="comment"># 2024.4.12 note: 建议使用方法1：先全部塞进去在去除前面的n-k个，理由见“&#x27;K&#x27; Closest Numbers”这道题，因为要是像这样写，答案就会不唯一，不过这道题的</span></span><br><span class="line">        <span class="comment"># example中允许有不唯一的时候输出其中任何一个就可以，所以问题不大</span></span><br><span class="line">        <span class="comment"># go through all numbers of the numFrequencyMap and push them in the minHeap, which</span></span><br><span class="line">        <span class="comment"># will have top k frequent numbers. If the heap size is more than k, we remove the</span></span><br><span class="line">        <span class="comment"># smallest(top) number</span></span><br><span class="line">        <span class="keyword">for</span> num, frequency <span class="keyword">in</span> numFrequencyMap.items():</span><br><span class="line">            heappush(minHeap, (frequency, num))</span><br><span class="line">            <span class="comment"># 2024.4.11 note:可以使用方法2：像之前一样，先push k 个，然后新的比heap[0]大的话，就替换heap[0]，但是在这个例子就比较麻烦</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(minHeap) &gt; k:</span><br><span class="line">                heappop(minHeap)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># create a list of top k numbers</span></span><br><span class="line">        topNumbers = []</span><br><span class="line">        <span class="keyword">while</span> minHeap:</span><br><span class="line">            topNumbers.append(heappop(minHeap)[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> topNumbers</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    sol = Solution()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Here are the K frequent numbers: &quot;</span> +</span><br><span class="line">          <span class="built_in">str</span>(sol.findTopKFrequentNumbers([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">11</span>], <span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Here are the K frequent numbers: &quot;</span> +</span><br><span class="line">          <span class="built_in">str</span>(sol.findTopKFrequentNumbers([<span class="number">5</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">3</span>, <span class="number">11</span>], <span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity-4"><a href="#Time-complexity-4" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>The time complexity of the above algorithm is <strong><em>O(N+N\</em>logK)*</strong>.</p>
<h4 id="Space-complexity-4"><a href="#Space-complexity-4" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(N)</em></strong>. Even though we are storing only ‘K’ numbers in the heap. For the frequency map, however, we need to store all the ‘N’ numbers.</p>
<h2 id="Frequency-Sort-medium"><a href="#Frequency-Sort-medium" class="headerlink" title="Frequency Sort (medium)"></a>Frequency Sort (medium)</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/sort-characters-by-frequency/">451. Sort Characters By Frequency</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Problem-Statement-5"><a href="#Problem-Statement-5" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>Given a string, sort it based on the decreasing frequency of its characters.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Input</span>: &quot;Programming&quot;</span><br><span class="line">Output: &quot;rrggmmPiano&quot;</span><br><span class="line">Explanation: <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="keyword">and</span> <span class="string">&#x27;m&#x27;</span> appeared twice, so they need <span class="keyword">to</span> appear <span class="keyword">before</span> <span class="keyword">any</span> other <span class="type">character</span>.</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Input:</span> <span class="string">&quot;abcbab&quot;</span></span><br><span class="line"><span class="symbol">Output:</span> <span class="string">&quot;bbbaac&quot;</span></span><br><span class="line"><span class="symbol">Explanation:</span> <span class="string">&#x27;b&#x27;</span> appeared three times, <span class="string">&#x27;a&#x27;</span> appeared twice, <span class="keyword">and</span> <span class="string">&#x27;c&#x27;</span> appeared only once.</span><br></pre></td></tr></table></figure>
<p><strong>Constraints:</strong></p>
<ul>
<li>1 &lt;= str.length &lt;= 5 * 10^5</li>
<li>str consists of uppercase and lowercase English letters and digits.</li>
</ul>
<h3 id="Solution-5"><a href="#Solution-5" class="headerlink" title="Solution"></a>Solution</h3><p>This problem follows the <strong>Top ‘K’ Elements</strong> pattern, and shares similarities with <em>Top ‘K’ Frequent Numbers</em>.</p>
<p>We can follow the same approach as discussed in the <em>Top ‘K’ Frequent Numbers</em> problem. First, we will find the frequencies of all characters, then use a max-heap to find the most occurring characters.</p>
<h3 id="Code-4"><a href="#Code-4" class="headerlink" title="Code"></a>Code</h3><p>Here is what our algorithm will look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sortCharacterByFrequency</span>(<span class="params">self, <span class="built_in">str</span></span>):</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># find the frequency of each character</span></span><br><span class="line">        charFrequencyMap = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> char <span class="keyword">in</span> <span class="built_in">str</span>:</span><br><span class="line">            charFrequencyMap[char] = charFrequencyMap.get(char, <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        maxHeap = []</span><br><span class="line">        <span class="comment"># 这个就是方法1， 先全部塞进去，这样就可以保证，相同的排序条件（这题中是频数），先出现的字母会依旧在前面</span></span><br><span class="line">        <span class="comment"># add all characters to the max heap</span></span><br><span class="line">        <span class="keyword">for</span> char, frequency <span class="keyword">in</span> charFrequencyMap.items():</span><br><span class="line">            heappush(maxHeap, (-frequency, char))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># build a string, appending the most occurring characters first</span></span><br><span class="line">        sortedString = []</span><br><span class="line">        <span class="keyword">while</span> maxHeap:</span><br><span class="line">            frequency, char = heappop(maxHeap)</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(-frequency):</span><br><span class="line">                sortedString.append(char)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(sortedString)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    sol = Solution()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;String after sorting characters by frequency: &quot;</span> +</span><br><span class="line">          sol.sortCharacterByFrequency(<span class="string">&quot;Programming&quot;</span>))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;String after sorting characters by frequency: &quot;</span> +</span><br><span class="line">          sol.sortCharacterByFrequency(<span class="string">&quot;abcbab&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity-5"><a href="#Time-complexity-5" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>The time complexity of the above algorithm is <strong><em>O(D\</em>logD)*</strong> where ‘D’ is the number of distinct characters in the input string. This means, in the worst case, when all characters are unique the time complexity of the algorithm will be <strong><em>O(N\</em>logN)*</strong> where ‘N’ is the total number of characters in the string.</p>
<h4 id="Space-complexity-5"><a href="#Space-complexity-5" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(N)</em></strong>, as in the worst case, we need to store all the ‘N’ characters in the HashMap.</p>
<h2 id="Kth-Largest-Number-in-a-Stream-medium"><a href="#Kth-Largest-Number-in-a-Stream-medium" class="headerlink" title="Kth Largest Number in a Stream (medium)"></a>Kth Largest Number in a Stream (medium)</h2><p>leetcode 703 一样的代码，leetcode报错，感觉是leetcode内部问题</p>
<p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/kth-largest-element-in-a-stream/">703. Kth Largest Element in a Stream</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Problem-Statement-6"><a href="#Problem-Statement-6" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>Design a class to efficiently find the Kth largest element in a stream of numbers.</p>
<p>The class should have the following two things:</p>
<ol>
<li>The constructor of the class should accept an integer array containing initial numbers from the stream and an integer ‘K’.</li>
<li>The class should expose a function <code>add(int num)</code> which will store the given number and return the Kth largest number.</li>
</ol>
<p><strong>Example 1:</strong></p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Input</span>: [<span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">2</span>, <span class="number">11</span>], K = <span class="number">4</span></span><br><span class="line"><span class="number">1.</span> Calling <span class="keyword">add</span>(<span class="number">6</span>) should <span class="keyword">return</span> <span class="string">&#x27;5&#x27;</span>.</span><br><span class="line"><span class="number">2.</span> Calling <span class="keyword">add</span>(<span class="number">13</span>) should <span class="keyword">return</span> <span class="string">&#x27;6&#x27;</span>.</span><br><span class="line"><span class="number">2.</span> Calling <span class="keyword">add</span>(<span class="number">4</span>) should still <span class="keyword">return</span> <span class="string">&#x27;6&#x27;</span>.</span><br><span class="line"> </span><br></pre></td></tr></table></figure>
<p><strong>Constraints:</strong></p>
<ul>
<li>1 &lt;= k &lt;= 10^4</li>
<li>0 &lt;= nums.length &lt;= 10^4</li>
<li>-10^4 &lt;= nums[i] &lt;= 10^4</li>
<li>-10^4 &lt;= val &lt;= 10^4</li>
<li>At most 10^4 calls will be made to add.</li>
<li>It is guaranteed that there will be at least <code>k</code> elements in the array when you search for the kth element.</li>
</ul>
<h3 id="Solution-6"><a href="#Solution-6" class="headerlink" title="Solution"></a>Solution</h3><p>This problem follows the <strong>Top ‘K’ Elements</strong> pattern and shares similarities with <em>Kth Smallest number</em>.</p>
<p>We can follow the same approach as discussed in the ‘Kth Smallest number’ problem. However, we will use a <strong>Min Heap</strong> (instead of a <strong>Max Heap</strong>) as we need to find the Kth largest number.</p>
<h3 id="Code-5"><a href="#Code-5" class="headerlink" title="Code"></a>Code</h3><p>Here is what our algorithm will look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, nums, k</span>):</span></span><br><span class="line">    self.minHeap = []</span><br><span class="line">    self.k = k</span><br><span class="line">    <span class="comment"># add the numbers in the min heap</span></span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">      self.add(num)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">self, num</span>):</span></span><br><span class="line">    <span class="comment"># add the new number in the min heap</span></span><br><span class="line">    heappush(self.minHeap, num)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># if heap has more than &#x27;k&#x27; numbers, remove one number</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(self.minHeap) &gt; self.k:</span><br><span class="line">      heappop(self.minHeap)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># return the &#x27;Kth largest number</span></span><br><span class="line">    <span class="keyword">return</span> self.minHeap[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line"></span><br><span class="line">  sol = Solution([<span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">2</span>, <span class="number">11</span>], <span class="number">4</span>)</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;4th largest number is: &quot;</span> + <span class="built_in">str</span>(sol.add(<span class="number">6</span>)))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;4th largest number is: &quot;</span> + <span class="built_in">str</span>(sol.add(<span class="number">13</span>)))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;4th largest number is: &quot;</span> + <span class="built_in">str</span>(sol.add(<span class="number">4</span>)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity-6"><a href="#Time-complexity-6" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>The time complexity of the <code>add()</code> function will be <strong><em>O(logK)</em></strong> since we are inserting the new number in the heap.</p>
<h4 id="Space-complexity-6"><a href="#Space-complexity-6" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(K)</em></strong> for storing numbers in the heap.</p>
<h2 id="‘K’-Closest-Numbers-medium"><a href="#‘K’-Closest-Numbers-medium" class="headerlink" title="‘K’ Closest Numbers (medium)"></a>‘K’ Closest Numbers (medium)</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/find-k-closest-elements/">658. Find K Closest Elements</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Problem-Statement-7"><a href="#Problem-Statement-7" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>Given a sorted number array and two integers ‘K’ and ‘X’, find ‘K’ closest numbers to ‘X’ in the array. Return the numbers in the sorted order. ‘X’ is not necessarily present in the array.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">Input</span>: [5, 6, 7, 8, 9], K = 3, <span class="meta">X</span> = 7</span><br><span class="line"><span class="meta">Output</span>: [6, 7, 8]</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">Input</span>: [2, 4, 5, 6, 9], K = 3, <span class="meta">X</span> = 6</span><br><span class="line"><span class="meta">Output</span>: [4, 5, 6]</span><br></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">Input</span>: [2, 4, 5, 6, 9], K = 3, <span class="meta">X</span> = 10</span><br><span class="line"><span class="meta">Output</span>: [5, 6, 9]</span><br></pre></td></tr></table></figure>
<h3 id="Solution-7"><a href="#Solution-7" class="headerlink" title="Solution"></a>Solution</h3><p>This problem follows the <em>Top ‘K’ Numbers</em> pattern. The biggest difference in this problem is that we need to find the closest (to ‘X’) numbers compared to finding the overall largest numbers. Another difference is that the given array is sorted.</p>
<p>Utilizing a similar approach, we can find the numbers closest to ‘X’ through the following algorithm:</p>
<ol>
<li>Since the array is sorted, we can first find the number closest to ‘X’ through <strong>Binary Search</strong>. Let’s say that number is ‘Y’（Y不需要一定是最接近的，如果arr中不存在x,那么只要是x的左右邻居就可以）.</li>
<li>The ‘K’ closest numbers to ‘Y’ will be adjacent to ‘Y’ in the array. We can search in both directions of ‘Y’ to find the closest numbers.</li>
<li>We can use a heap to efficiently search for the closest numbers. We will take ‘K’ numbers in both directions of ‘Y’ and push them in a <strong>Min Heap</strong> sorted by their absolute difference from ‘X’. This will ensure that the numbers with the smallest difference from ‘X’ (i.e., closest to ‘X’) can be extracted easily from the <strong>Min Heap</strong>.</li>
<li>Finally, we will extract the top ‘K’ numbers from the <strong>Min Heap</strong> to find the required numbers.</li>
</ol>
<h3 id="Code-6"><a href="#Code-6" class="headerlink" title="Code"></a>Code</h3><p>Here is what our algorithm will look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findClosestElements</span>(<span class="params">self, arr, K, X</span>):</span></span><br><span class="line">        index = self.binary_search(arr, X)</span><br><span class="line">        low, high = index - K, index + K</span><br><span class="line"></span><br><span class="line">        low = <span class="built_in">max</span>(low, <span class="number">0</span>)  <span class="comment"># &#x27;low&#x27; should not be less than zero</span></span><br><span class="line">        <span class="comment"># &#x27;high&#x27; should not be greater the size of the array</span></span><br><span class="line">        high = <span class="built_in">min</span>(high, <span class="built_in">len</span>(arr) - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        minHeap = []</span><br><span class="line">        <span class="comment"># add all candidate elements to the min heap, sorted by their absolute difference</span></span><br><span class="line">        <span class="comment"># from &#x27;X&#x27;</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(low, high + <span class="number">1</span>):</span><br><span class="line">            heappush(minHeap, (<span class="built_in">abs</span>(arr[i] - X), arr[i]))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># we need the top &#x27;K&#x27; elements having smallest difference from &#x27;X&#x27;</span></span><br><span class="line">        result = []</span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(K):</span><br><span class="line">            result.append(heappop(minHeap)[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">        result.sort()</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">binary_search</span>(<span class="params">self, arr, target</span>):</span></span><br><span class="line">        low, high = <span class="number">0</span>, <span class="built_in">len</span>(arr) - <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> low &lt;= high:</span><br><span class="line">            mid = <span class="built_in">int</span>(low + (high - low) / <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">if</span> arr[mid] == target:</span><br><span class="line">                <span class="keyword">return</span> mid</span><br><span class="line">            <span class="keyword">if</span> arr[mid] &lt; target:</span><br><span class="line">                low = mid + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                high = mid - <span class="number">1</span></span><br><span class="line">        <span class="comment"># 如果不存在这个的话，如果end != -1 and low != len(arr), 那么arr[high] &lt; target &lt; arr[low]</span></span><br><span class="line">        <span class="keyword">if</span> high &lt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> low</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> high</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    sol = Solution()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#x27;K&#x27; closest numbers to &#x27;X&#x27; are: &quot;</span> +</span><br><span class="line">          <span class="built_in">str</span>(sol.findClosestElements([<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>], <span class="number">3</span>, <span class="number">7</span>)))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#x27;K&#x27; closest numbers to &#x27;X&#x27; are: &quot;</span> +</span><br><span class="line">          <span class="built_in">str</span>(sol.findClosestElements([<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">9</span>], <span class="number">3</span>, <span class="number">6</span>)))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#x27;K&#x27; closest numbers to &#x27;X&#x27; are: &quot;</span> +</span><br><span class="line">          <span class="built_in">str</span>(sol.findClosestElements([<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">9</span>], <span class="number">3</span>, <span class="number">10</span>)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity-7"><a href="#Time-complexity-7" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>The time complexity of the above algorithm is <strong><em>O(logN + K\</em>logK)*</strong>. We need <strong><em>O(logN)</em></strong> for Binary Search and <strong><em>O(K\</em>logK)*</strong> to insert the numbers in the <strong>Min Heap</strong>, as well as to sort the output array.</p>
<h4 id="Space-complexity-7"><a href="#Space-complexity-7" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(K)</em></strong>, as we need to put a maximum of <strong><em>2K</em></strong> numbers in the heap.</p>
<h3 id="Alternate-Solution-using-Two-Pointers"><a href="#Alternate-Solution-using-Two-Pointers" class="headerlink" title="Alternate Solution using Two Pointers"></a>Alternate Solution using Two Pointers</h3><p>After finding the number closest to ‘X’ through <strong>Binary Search</strong>, we can use the <strong>Two Pointers</strong> approach to find the ‘K’ closest numbers. Let’s say the closest number is ‘Y’. We can have a <code>left</code> pointer to move back from ‘Y’ and a <code>right</code> pointer to move forward from ‘Y’. At any stage, whichever number pointed out by the <code>left</code> or the <code>right</code> pointer gives the smaller difference from ‘X’ will be added to our result list.</p>
<p>To keep the resultant list sorted we can use a <strong>Queue</strong>. So whenever we take the number pointed out by the <code>left</code> pointer, we will append it at the beginning of the list and whenever we take the number pointed out by the <code>right</code> pointer we will append it at the end of the list.</p>
<p>Here is what our algorithm will look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findClosestElements</span>(<span class="params">self, arr, K, X</span>):</span></span><br><span class="line">        result = deque()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Binary search to find the index of the element closest to X</span></span><br><span class="line">        index = self.binary_search(arr, X)</span><br><span class="line">        <span class="comment"># 如果不存在x,返回的index是x左边的那个数的index(index &gt;=0的时候)</span></span><br><span class="line">        <span class="comment"># 不然就是end，e.g. arr = [2,4,5,7], x = 1</span></span><br><span class="line">        leftPointer, rightPointer = index, index + <span class="number">1</span></span><br><span class="line">        n = <span class="built_in">len</span>(arr)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(K):</span><br><span class="line">            <span class="comment"># Check if there are elements on both sides of the chosen element</span></span><br><span class="line">            <span class="keyword">if</span> leftPointer &gt;= <span class="number">0</span> <span class="keyword">and</span> rightPointer &lt; n:</span><br><span class="line">                diff1 = <span class="built_in">abs</span>(X - arr[leftPointer])</span><br><span class="line">                diff2 = <span class="built_in">abs</span>(X - arr[rightPointer])</span><br><span class="line"></span><br><span class="line">                <span class="comment"># Choose the element with the smaller absolute difference</span></span><br><span class="line">                <span class="keyword">if</span> diff1 &lt;= diff2:  <span class="comment"># 这里的等于很重要，因为如果排序条件一样，优先返回左边的</span></span><br><span class="line">                    result.appendleft(arr[leftPointer])  <span class="comment"># Add the left element to the result</span></span><br><span class="line">                    leftPointer -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    result.append(arr[rightPointer])  <span class="comment"># Add the right element to the result</span></span><br><span class="line">                    rightPointer += <span class="number">1</span></span><br><span class="line">            <span class="comment"># If there are no elements on one side, add elements from the other side</span></span><br><span class="line">            <span class="keyword">elif</span> leftPointer &gt;= <span class="number">0</span>:  <span class="comment"># 优先left</span></span><br><span class="line">                result.appendleft(arr[leftPointer])</span><br><span class="line">                leftPointer -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> rightPointer &lt; n:</span><br><span class="line">                result.append(arr[rightPointer])</span><br><span class="line">                rightPointer += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Binary search method to find the index of the closest element to the target</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">binary_search</span>(<span class="params">self, arr, target</span>):</span></span><br><span class="line">        low, high = <span class="number">0</span>, <span class="built_in">len</span>(arr) - <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> low &lt;= high:</span><br><span class="line">            mid = <span class="built_in">int</span>(low + (high - low) / <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">if</span> arr[mid] == target:</span><br><span class="line">                <span class="keyword">return</span> mid</span><br><span class="line">            <span class="keyword">if</span> arr[mid] &lt; target:</span><br><span class="line">                low = mid + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                high = mid - <span class="number">1</span></span><br><span class="line">        <span class="comment"># 如果不存在这个的话，如果end != -1 and low != len(arr), 那么arr[high] &lt; target &lt; arr[low]</span></span><br><span class="line">        <span class="keyword">if</span> high &lt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> low</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> high</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    sol = Solution()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#x27;K&#x27; closest numbers to &#x27;X&#x27; are: &quot;</span> +</span><br><span class="line">          <span class="built_in">str</span>(sol.findClosestElements([<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>], <span class="number">3</span>, <span class="number">7</span>)))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#x27;K&#x27; closest numbers to &#x27;X&#x27; are: &quot;</span> +</span><br><span class="line">          <span class="built_in">str</span>(sol.findClosestElements([<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">9</span>], <span class="number">3</span>, <span class="number">6</span>)))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#x27;K&#x27; closest numbers to &#x27;X&#x27; are: &quot;</span> +</span><br><span class="line">          <span class="built_in">str</span>(sol.findClosestElements([<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">9</span>], <span class="number">3</span>, <span class="number">10</span>)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity-8"><a href="#Time-complexity-8" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>The time complexity of the above algorithm is <strong><em>O(logN + K)</em></strong>. We need <strong><em>O(logN)</em></strong> for Binary Search and <strong><em>O(K)</em></strong> for finding the ‘K’ closest numbers using the two pointers.</p>
<h4 id="Space-complexity-8"><a href="#Space-complexity-8" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>If we ignoring the space required for the output list, the algorithm runs in constant space <strong><em>O(1)</em></strong>.</p>
<h2 id="Maximum-Distinct-Elements-medium"><a href="#Maximum-Distinct-Elements-medium" class="headerlink" title="Maximum Distinct Elements (medium)"></a>Maximum Distinct Elements (medium)</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Similar | 题目意思怪怪的，看例子也不是标题中的unique | <a target="_blank" rel="noopener" href="https://leetcode.com/problems/least-number-of-unique-integers-after-k-removals/">1481. Least Number of Unique Integers after K Removals</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Problem-Statement-8"><a href="#Problem-Statement-8" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>Given an array of numbers and a number ‘K’, we need to remove ‘K’ numbers from the array such that we are left with maximum distinct numbers.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: [<span class="number">7</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">3</span>], <span class="keyword">and</span> K=<span class="number">2</span></span><br><span class="line">Output: <span class="number">3</span></span><br><span class="line">Explanation: We can <span class="keyword">remove</span> two occurrences <span class="keyword">of</span> <span class="number">3</span> <span class="keyword">to</span> be left <span class="keyword">with</span> <span class="number">3</span> <span class="keyword">distinct</span> numbers [<span class="number">7</span>, <span class="number">3</span>, <span class="number">8</span>], we have </span><br><span class="line"><span class="keyword">to</span> <span class="keyword">skip</span> <span class="number">5</span> because it <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">distinct</span> <span class="keyword">and</span> occurred twice. </span><br><span class="line">Another solution could be <span class="keyword">to</span> <span class="keyword">remove</span> one instance <span class="keyword">of</span> <span class="string">&#x27;5&#x27;</span> <span class="keyword">and</span> <span class="string">&#x27;3&#x27;</span> <span class="keyword">each</span> <span class="keyword">to</span> be left <span class="keyword">with</span> three </span><br><span class="line"><span class="keyword">distinct</span> numbers [<span class="number">7</span>, <span class="number">5</span>, <span class="number">8</span>], <span class="keyword">in</span> this <span class="keyword">case</span>, we have <span class="keyword">to</span> <span class="keyword">skip</span> <span class="number">3</span> because it occurred twice.</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Input</span>: [3, 5, 12, 11, 12], and K=3</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: We can remove <span class="keyword">one</span> occurrence of 12, after <span class="keyword">which</span> all numbers will become <span class="keyword">distinct</span>. Then </span><br><span class="line">we can delete any <span class="keyword">two</span> numbers <span class="keyword">which</span> will leave <span class="keyword">us</span> 2 <span class="keyword">distinct</span> numbers <span class="keyword">in</span> the result.</span><br></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [1, 2, 3, 3, 3, 3, 4, 4, 5, 5, 5], <span class="keyword">and</span> <span class="attribute">K</span>=2</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: We can <span class="builtin-name">remove</span> one occurrence of <span class="string">&#x27;4&#x27;</span> <span class="keyword">to</span> <span class="builtin-name">get</span> three distinct numbers.</span><br></pre></td></tr></table></figure>
<p><strong>Constraints:</strong></p>
<ul>
<li>1 &lt;= arr.length &lt;= 10^5</li>
<li>1 &lt;= arr[i] &lt;= 10^9</li>
<li>0 &lt;= k &lt;= arr.length</li>
</ul>
<h3 id="Solution-8"><a href="#Solution-8" class="headerlink" title="Solution"></a>Solution</h3><p>This problem follows the <em>Top ‘K’ Numbers</em> pattern, and shares similarities with <em>Top ‘K’ Frequent Numbers</em>.</p>
<p>We can following a similar approach as discussed in <em>Top ‘K’ Frequent Numbers</em> problem:</p>
<ol>
<li>First, we will find the frequencies of all the numbers.</li>
<li>Then, push all numbers that are not distinct (i.e., have a frequency higher than one) in a <strong>Min Heap</strong> based on their frequencies. At the same time, we will keep a running count of all the distinct numbers.</li>
<li>Following a greedy approach, in a stepwise fashion, we will remove the least frequent number from the heap (i.e., the top element of the min-heap), and try to make it distinct. We will see if we can remove all occurrences of a number except one. If we can, we will increment our running count of distinct numbers. We have to also keep a count of how many removals we have done.</li>
<li>If after removing elements from the heap, we are still left with some deletions, we have to remove some distinct elements.</li>
</ol>
<h3 id="Code-7"><a href="#Code-7" class="headerlink" title="Code"></a>Code</h3><p>Here is what our algorithm will look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">findMaximumDistinctElements</span>(<span class="params">self, nums, k</span>):</span></span><br><span class="line">    distinctElementsCount = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(nums) &lt;= k:</span><br><span class="line">      <span class="keyword">return</span> distinctElementsCount</span><br><span class="line"></span><br><span class="line">    <span class="comment"># find the frequency of each number</span></span><br><span class="line">    numFrequencyMap = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> nums:</span><br><span class="line">      numFrequencyMap[i] = numFrequencyMap.get(i, <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    minHeap = []</span><br><span class="line">    <span class="comment"># insert all numbers with frequency greater than &#x27;1&#x27; into the min-heap</span></span><br><span class="line">    <span class="keyword">for</span> num, frequency <span class="keyword">in</span> numFrequencyMap.items():</span><br><span class="line">      <span class="keyword">if</span> frequency == <span class="number">1</span>:</span><br><span class="line">        distinctElementsCount += <span class="number">1</span></span><br><span class="line">      <span class="keyword">else</span>:</span><br><span class="line">        heappush(minHeap, (frequency, num))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># following a greedy approach, try removing the least frequent numbers first from </span></span><br><span class="line">    <span class="comment"># the min-heap</span></span><br><span class="line">    <span class="keyword">while</span> k &gt; <span class="number">0</span> <span class="keyword">and</span> minHeap:</span><br><span class="line">      frequency, num = heappop(minHeap)</span><br><span class="line">      <span class="comment"># to make an element distinct, we need to remove all of its occurrences except one</span></span><br><span class="line">      k -= frequency - <span class="number">1</span></span><br><span class="line">      <span class="keyword">if</span> k &gt;= <span class="number">0</span>:</span><br><span class="line">        distinctElementsCount += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># if k &gt; 0, this means we have to remove some distinct numbers</span></span><br><span class="line">    <span class="keyword">if</span> k &gt; <span class="number">0</span>:</span><br><span class="line">      distinctElementsCount -= k</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> distinctElementsCount</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">  sol = Solution()</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Maximum distinct numbers after removing K numbers: &quot;</span> +</span><br><span class="line">        <span class="built_in">str</span>(sol.findMaximumDistinctElements([<span class="number">7</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">3</span>], <span class="number">2</span>)))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Maximum distinct numbers after removing K numbers: &quot;</span> +</span><br><span class="line">        <span class="built_in">str</span>(sol.findMaximumDistinctElements([<span class="number">3</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">12</span>], <span class="number">3</span>)))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Maximum distinct numbers after removing K numbers: &quot;</span> +</span><br><span class="line">        <span class="built_in">str</span>(sol.findMaximumDistinctElements([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>], <span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity-9"><a href="#Time-complexity-9" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>Since we will insert all numbers in a <strong>HashMap</strong> and a <strong>Min Heap</strong>, this will take <strong><em>O(N\</em>logN)*</strong> where ‘N’ is the total input numbers. While extracting numbers from the heap, in the worst case, we will need to take out ‘K’ numbers. This will happen when we have at least ‘K’ numbers with a frequency of two. Since the heap can have a maximum of ‘N/2’ numbers, therefore, extracting an element from the heap will take <strong><em>O(logN)</em></strong> and extracting ‘K’ numbers will take <strong><em>O(KlogN)</em></strong>. So overall, the time complexity of our algorithm will be <strong><em>O(N\</em>logN + KlogN)*</strong>.</p>
<p>We can optimize the above algorithm and only push ‘K’ elements in the heap, as in the worst case we will be extracting ‘K’ elements from the heap. This optimization will reduce the overall time complexity to <strong><em>O(N\</em>logK + KlogK)*</strong>.</p>
<h4 id="Space-complexity-9"><a href="#Space-complexity-9" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(N)</em></strong> as, in the worst case, we need to store all the ‘N’ characters in the <strong>HashMap</strong>.</p>
<h2 id="Sum-of-Elements-medium"><a href="#Sum-of-Elements-medium" class="headerlink" title="Sum of Elements (medium)"></a>Sum of Elements (medium)</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Problem-Statement-9"><a href="#Problem-Statement-9" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>Given an array, find the sum of all numbers between the K1’th and K2’th smallest elements of that array.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Inpu<span class="variable">t:</span> [<span class="number">1</span>, <span class="number">3</span>, <span class="number">12</span>, <span class="number">5</span>, <span class="number">15</span>, <span class="number">11</span>], <span class="built_in">and</span> K1=<span class="number">3</span>, K2=<span class="number">6</span></span><br><span class="line">Outpu<span class="variable">t:</span> <span class="number">23</span></span><br><span class="line">Explanation: The <span class="number">3</span>rd smallest <span class="keyword">number</span> <span class="keyword">is</span> <span class="number">5</span> <span class="built_in">and</span> <span class="number">6</span><span class="keyword">th</span> smallest <span class="keyword">number</span> <span class="number">15</span>. The sum of numbers coming</span><br><span class="line">between <span class="number">5</span> <span class="built_in">and</span> <span class="number">15</span> <span class="keyword">is</span> <span class="number">23</span> (<span class="number">11</span>+<span class="number">12</span>).</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Inpu<span class="variable">t:</span> [<span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">7</span>], <span class="built_in">and</span> K1=<span class="number">1</span>, K2=<span class="number">4</span></span><br><span class="line">Outpu<span class="variable">t:</span> <span class="number">12</span></span><br><span class="line">Explanation: The sum of the numbers between the <span class="number">1</span><span class="keyword">st</span> smallest <span class="keyword">number</span> (<span class="number">3</span>) <span class="built_in">and</span> the <span class="number">4</span><span class="keyword">th</span> smallest </span><br><span class="line"><span class="keyword">number</span> (<span class="number">8</span>) <span class="keyword">is</span> <span class="number">12</span> (<span class="number">5</span>+<span class="number">7</span>).</span><br></pre></td></tr></table></figure>
<h3 id="Solution-9"><a href="#Solution-9" class="headerlink" title="Solution"></a>Solution</h3><p>This problem follows the <em>Top ‘K’ Numbers</em> pattern, and shares similarities with <em>Kth Smallest Number</em>.</p>
<p>We can find the sum of all numbers coming between the K1’th and K2’th smallest numbers in the following steps:</p>
<ol>
<li>First, insert all numbers in a min-heap.</li>
<li>Remove the first <code>K1</code> smallest numbers from the min-heap.</li>
<li>Now take the next <code>K2-K1-1</code> numbers out of the heap and add them. This sum will be our required output.</li>
</ol>
<h3 id="Code-8"><a href="#Code-8" class="headerlink" title="Code"></a>Code</h3><p>Here is what our algorithm will look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 直观想到的就是直接sort排序，时间复杂度也是nlogn</span></span><br><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">findSumOfElements</span>(<span class="params">self, nums, k1, k2</span>):</span></span><br><span class="line">    minHeap = []</span><br><span class="line">    <span class="comment"># insert all numbers to the min heap</span></span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">      heappush(minHeap, num)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># remove k1 small numbers from the min heap</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(k1):</span><br><span class="line">      heappop(minHeap)</span><br><span class="line"></span><br><span class="line">    elementSum = <span class="number">0</span></span><br><span class="line">    <span class="comment"># sum next k2-k1-1 numbers</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(k2 - k1 - <span class="number">1</span>):</span><br><span class="line">      elementSum += heappop(minHeap)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> elementSum</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">  sol = Solution()</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Sum of all numbers between k1 and k2 smallest numbers: &quot;</span> +</span><br><span class="line">        <span class="built_in">str</span>(sol.findSumOfElements([<span class="number">1</span>, <span class="number">3</span>, <span class="number">12</span>, <span class="number">5</span>, <span class="number">15</span>, <span class="number">11</span>], <span class="number">3</span>, <span class="number">6</span>)))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Sum of all numbers between k1 and k2 smallest numbers: &quot;</span> +</span><br><span class="line">        <span class="built_in">str</span>(sol.findSumOfElements([<span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">7</span>], <span class="number">1</span>, <span class="number">4</span>)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity-10"><a href="#Time-complexity-10" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>Since we need to put all the numbers in a min-heap, the time complexity of the above algorithm will be <strong><em>O(N\</em>logN)*</strong> where ‘N’ is the total input numbers.</p>
<h4 id="Space-complexity-10"><a href="#Space-complexity-10" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(N)</em></strong>, as we need to store all the ‘N’ numbers in the heap.</p>
<h3 id="Alternate-Solution"><a href="#Alternate-Solution" class="headerlink" title="Alternate Solution"></a>Alternate Solution</h3><p>We can iterate the array and use a max-heap to keep track of the top K2 numbers. We can, then, add the top <code>K2-K1-1</code> numbers in the max-heap to find the sum of all numbers coming between the K1’th and K2’th smallest numbers. Here is what the algorithm will look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">findSumOfElements</span>(<span class="params">self, nums, k1, k2</span>):</span></span><br><span class="line">    maxHeap = []</span><br><span class="line">    <span class="comment"># keep smallest k2 numbers in the max heap</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">      <span class="keyword">if</span> i &lt; k2 - <span class="number">1</span>:</span><br><span class="line">        heappush(maxHeap, -nums[i])</span><br><span class="line">      <span class="keyword">elif</span> nums[i] &lt; -maxHeap[<span class="number">0</span>]:</span><br><span class="line">        heappop(maxHeap) <span class="comment"># as we are interested only in the smallest k2 numbers</span></span><br><span class="line">        heappush(maxHeap, -nums[i])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># get the sum of numbers between k1 and k2 indices</span></span><br><span class="line">    <span class="comment"># these numbers will be at the top of the max heap</span></span><br><span class="line">    elementSum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(k2 - k1 - <span class="number">1</span>):</span><br><span class="line">      elementSum += -heappop(maxHeap)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> elementSum</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">  sol = Solution()</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Sum of all numbers between k1 and k2 smallest numbers: &quot;</span> +</span><br><span class="line">        <span class="built_in">str</span>(sol.findSumOfElements([<span class="number">1</span>, <span class="number">3</span>, <span class="number">12</span>, <span class="number">5</span>, <span class="number">15</span>, <span class="number">11</span>], <span class="number">3</span>, <span class="number">6</span>)))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Sum of all numbers between k1 and k2 smallest numbers: &quot;</span> +</span><br><span class="line">        <span class="built_in">str</span>(sol.findSumOfElements([<span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">7</span>], <span class="number">1</span>, <span class="number">4</span>)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity-11"><a href="#Time-complexity-11" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>Since we need to put only the top K2 numbers in the max-heap at any time, the time complexity of the above algorithm will be <strong><em>O(N\</em>logK2)*</strong>.</p>
<h4 id="Space-complexity-11"><a href="#Space-complexity-11" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(K2)</em></strong>, as we need to store the smallest ‘K2’ numbers in the heap.</p>
<h2 id="Rearrange-String-hard"><a href="#Rearrange-String-hard" class="headerlink" title="*Rearrange String (hard)"></a>*Rearrange String (hard)</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/reorganize-string/">767. Reorganize String</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Problem-Statement-10"><a href="#Problem-Statement-10" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>Given a string, find if its letters can be rearranged in such a way that no two same characters come next to each other.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Input:</span> <span class="string">&quot;aappp&quot;</span></span><br><span class="line"><span class="symbol">Output:</span> <span class="string">&quot;papap&quot;</span></span><br><span class="line"><span class="symbol">Explanation:</span> <span class="keyword">In</span> <span class="string">&quot;papap&quot;</span>, none <span class="keyword">of</span> the repeating characters come <span class="keyword">next</span> <span class="keyword">to</span> <span class="keyword">each</span> other.</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Input:</span> <span class="string">&quot;Programming&quot;</span></span><br><span class="line"><span class="symbol">Output:</span> <span class="string">&quot;rgmrgmPiano&quot;</span> <span class="built_in">or</span> <span class="string">&quot;gmringmrPoa&quot;</span> <span class="built_in">or</span> <span class="string">&quot;gmrPagimnor&quot;</span>, etc.</span><br><span class="line"><span class="symbol">Explanation:</span> None <span class="keyword">of</span> the repeating characters come <span class="keyword">next</span> <span class="keyword">to</span> <span class="keyword">each</span> other.</span><br></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Input:</span> <span class="string">&quot;aapa&quot;</span></span><br><span class="line"><span class="symbol">Output:</span> <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="symbol">Explanation:</span> <span class="keyword">In</span> all arrangements of <span class="string">&quot;aapa&quot;</span>, atleast two <span class="string">&#x27;a&#x27;</span> will come together e.g., <span class="string">&quot;apaa&quot;</span>, <span class="string">&quot;paaa&quot;</span>.</span><br></pre></td></tr></table></figure>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 500</code></li>
<li><code>s</code> consists of lowercase English letters.</li>
</ul>
<h3 id="Solution-10"><a href="#Solution-10" class="headerlink" title="Solution"></a>Solution</h3><p>This problem follows the <em>Top ‘K’ Numbers</em> pattern. We can follow a greedy approach to find an arrangement of the given string where no two same characters come next to each other.</p>
<p>We can work in a stepwise fashion to create a string with all characters from the input string. Following a greedy approach, we should first append the most frequent characters to the output strings, for which we can use a <strong>Max Heap</strong>. By appending the most frequent character first, we have the best chance to find a string where no two same characters come next to each other.</p>
<p>So in each step, we should append one occurrence of the highest frequency character to the output string. We will not put this character back in the heap to ensure that no two same characters are adjacent to each other. In the next step, we should process the next most frequent character from the heap in the same way and then, at the end of this step, insert the character from the previous step back to the heap after decrementing its frequency.</p>
<p>Following this algorithm, if we can append all the characters from the input string to the output string, we would have successfully found an arrangement of the given string where no two same characters appeared adjacent to each other.</p>
<h3 id="Code-9"><a href="#Code-9" class="headerlink" title="Code"></a>Code</h3><p>Here is what our algorithm will look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">rearrangeString</span>(<span class="params">self, str1</span>):</span></span><br><span class="line">    charFrequencyMap = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> char <span class="keyword">in</span> str1:</span><br><span class="line">      charFrequencyMap[char] = charFrequencyMap.get(char, <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    maxHeap = []</span><br><span class="line">    <span class="comment"># add all characters to the max heap</span></span><br><span class="line">    <span class="keyword">for</span> char, frequency <span class="keyword">in</span> charFrequencyMap.items():</span><br><span class="line">      heappush(maxHeap, (-frequency, char))</span><br><span class="line"></span><br><span class="line">    previousChar, previousFrequency = <span class="literal">None</span>, <span class="number">0</span></span><br><span class="line">    resultString = []</span><br><span class="line">    <span class="keyword">while</span> maxHeap:</span><br><span class="line">      frequency, char = heappop(maxHeap)</span><br><span class="line">      <span class="comment"># add the previous entry back in the heap if its frequency is greater than zero</span></span><br><span class="line">      <span class="keyword">if</span> previousChar <span class="keyword">and</span> -previousFrequency &gt; <span class="number">0</span>:</span><br><span class="line">        heappush(maxHeap, (previousFrequency, previousChar))</span><br><span class="line">      <span class="comment"># append the current character to the result string and decrement its count</span></span><br><span class="line">      resultString.append(char)</span><br><span class="line">      previousChar = char</span><br><span class="line">      previousFrequency = frequency+<span class="number">1</span>  <span class="comment"># decrement the frequency</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># if we were successful in appending all the characters to the result string, return it</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(resultString) <span class="keyword">if</span> <span class="built_in">len</span>(resultString) == <span class="built_in">len</span>(str1) <span class="keyword">else</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">  sol = Solution()</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Rearranged string:  &quot;</span> + sol.rearrangeString(<span class="string">&quot;aappp&quot;</span>))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Rearranged string:  &quot;</span> + sol.rearrangeString(<span class="string">&quot;Programming&quot;</span>))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Rearranged string:  &quot;</span> + sol.rearrangeString(<span class="string">&quot;aapa&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity-12"><a href="#Time-complexity-12" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>The time complexity of the above algorithm is <strong><em>O(N\</em>logN)*</strong> where ‘N’ is the number of characters in the input string.</p>
<h4 id="Space-complexity-12"><a href="#Space-complexity-12" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(N)</em></strong>, as in the worst case, we need to store all the ‘N’ characters in the <strong>HashMap</strong>.</p>
<h2 id="Problem-Challenge-1"><a href="#Problem-Challenge-1" class="headerlink" title="Problem Challenge 1"></a>Problem Challenge 1</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/rearrange-string-k-distance-apart/description/">Leetcode 358 会员</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Rearrange-String-K-Distance-Apart-hard"><a href="#Rearrange-String-K-Distance-Apart-hard" class="headerlink" title="Rearrange String K Distance Apart (hard)"></a>Rearrange String K Distance Apart (hard)</h3><p>Given a string and a number ‘K’, find if the string can be rearranged such that the same characters are at least ‘K’ distance apart from each other.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Input</span>: <span class="string">&quot;mmpp&quot;</span>, K=<span class="number">2</span></span><br><span class="line"><span class="attribute">Output</span>: <span class="string">&quot;mpmp&quot;</span> or <span class="string">&quot;pmpm&quot;</span></span><br><span class="line"><span class="attribute">Explanation</span>: <span class="literal">All</span> same characters are <span class="number">2</span> distance apart.</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Input:</span> <span class="string">&quot;Programming&quot;</span>, K=<span class="number">3</span></span><br><span class="line"><span class="symbol">Output:</span> <span class="string">&quot;rgmPrgmiano&quot;</span> <span class="keyword">or </span><span class="string">&quot;gmringmrPoa&quot;</span> <span class="keyword">or </span><span class="string">&quot;gmrPagimnor&quot;</span> <span class="keyword">and </span>a few more</span><br><span class="line"><span class="symbol">Explanation:</span> All same characters are <span class="number">3</span> <span class="keyword">distance </span>apart.</span><br></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Input</span>: <span class="string">&quot;aab&quot;</span>, K=<span class="number">2</span></span><br><span class="line"><span class="attribute">Output</span>: <span class="string">&quot;aba&quot;</span></span><br><span class="line"><span class="attribute">Explanation</span>: <span class="literal">All</span> same characters are <span class="number">2</span> distance apart.</span><br></pre></td></tr></table></figure>
<p><strong>Example 4:</strong></p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Input:</span> <span class="string">&quot;aappa&quot;</span>, K=<span class="number">3</span></span><br><span class="line"><span class="symbol">Output:</span> <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="symbol">Explanation:</span> We cannot find an arrangement <span class="keyword">of</span> the <span class="type">string</span> <span class="keyword">where</span> any two <span class="comment">&#x27;a&#x27; are 3 distance apart.</span></span><br></pre></td></tr></table></figure>
<p><strong>Constraints:</strong></p>
<ul>
<li>1 &lt;= str.length &lt;= 3 * 10^5</li>
<li><code>str</code> consists of only lowercase English letters.</li>
<li><code>0 &lt;= k &lt;= str.length</code></li>
</ul>
<h3 id="Solution-11"><a href="#Solution-11" class="headerlink" title="Solution"></a>Solution</h3><p>This problem follows the <em>Top ‘K’ Numbers</em> pattern and is quite similar to <em>Rearrange String</em>. The only difference is that in the ‘Rearrange String’ the same characters need not be adjacent i.e., they should be at least ‘2’ distance apart (in other words, there should be at least one character between two same characters), while in the current problem, the same characters should be ‘K’ distance apart.</p>
<p>Following a similar approach, since we were inserting a character back in the heap in the next iteration, in this problem, we will re-insert the character after ‘K’ iterations. We can keep track of previous characters in a queue to insert them back in the heap after ‘K’ iterations.</p>
<h3 id="Code-10"><a href="#Code-10" class="headerlink" title="Code"></a>Code</h3><p>Here is what our algorithm will look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">reorganizeString</span>(<span class="params">self, <span class="built_in">str</span>, k</span>):</span></span><br><span class="line">    <span class="keyword">if</span> k &lt;= <span class="number">1</span>: </span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">str</span></span><br><span class="line"></span><br><span class="line">    charFrequencyMap = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> char <span class="keyword">in</span> <span class="built_in">str</span>:</span><br><span class="line">      charFrequencyMap[char] = charFrequencyMap.get(char, <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    maxHeap = []</span><br><span class="line">    <span class="comment"># add all characters to the max heap</span></span><br><span class="line">    <span class="keyword">for</span> char, frequency <span class="keyword">in</span> charFrequencyMap.items():</span><br><span class="line">      heappush(maxHeap, (-frequency, char))</span><br><span class="line"></span><br><span class="line">    queue = deque()</span><br><span class="line">    resultString = []</span><br><span class="line">    <span class="keyword">while</span> maxHeap:</span><br><span class="line">      frequency, char = heappop(maxHeap)</span><br><span class="line">      <span class="comment"># append the current character to the result string and decrement its count</span></span><br><span class="line">      resultString.append(char)</span><br><span class="line">      <span class="comment"># decrement the frequency and append to the queue</span></span><br><span class="line">      queue.append((char, frequency+<span class="number">1</span>))</span><br><span class="line">      <span class="keyword">if</span> <span class="built_in">len</span>(queue) == k:</span><br><span class="line">        char, frequency = queue.popleft()</span><br><span class="line">        <span class="keyword">if</span> -frequency &gt; <span class="number">0</span>:</span><br><span class="line">          heappush(maxHeap, (frequency, char))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># if we were successful in appending all the characters to the result string, return it</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(resultString) <span class="keyword">if</span> <span class="built_in">len</span>(resultString) == <span class="built_in">len</span>(<span class="built_in">str</span>) <span class="keyword">else</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">  sol = Solution()</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Reorganized string: &quot;</span> + sol.reorganizeString(<span class="string">&quot;Programming&quot;</span>, <span class="number">3</span>))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Reorganized string: &quot;</span> + sol.reorganizeString(<span class="string">&quot;mmpp&quot;</span>, <span class="number">2</span>))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Reorganized string: &quot;</span> + sol.reorganizeString(<span class="string">&quot;aab&quot;</span>, <span class="number">2</span>))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Reorganized string: &quot;</span> + sol.reorganizeString(<span class="string">&quot;aapa&quot;</span>, <span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity-13"><a href="#Time-complexity-13" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>The time complexity of the above algorithm is <strong><em>O(N\</em>logN)*</strong> where ‘N’ is the number of characters in the input string.</p>
<h4 id="Space-complexity-13"><a href="#Space-complexity-13" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(N)</em></strong>, as in the worst case, we need to store all the ‘N’ characters in the HashMap.</p>
<h2 id="Problem-Challenge-2"><a href="#Problem-Challenge-2" class="headerlink" title="#Problem Challenge 2"></a>#Problem Challenge 2</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/task-scheduler/">621. Task Scheduler</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Scheduling-Tasks-hard"><a href="#Scheduling-Tasks-hard" class="headerlink" title="Scheduling Tasks (hard)"></a>Scheduling Tasks (hard)</h3><p>You are given a list of tasks that need to be run, in any order, on a server. Each task will take one CPU interval to execute but once a task has finished, it has a cooling period during which it can’t be run again. If the cooling period for all tasks is ‘K’ intervals, find the minimum number of CPU intervals that the server needs to finish all tasks.</p>
<p>If at any time the server can’t execute any task then it must stay idle.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [a, a, a, b, c, c], K=<span class="number">2</span></span><br><span class="line">Output: <span class="number">7</span></span><br><span class="line">E<span class="function"><span class="title">xplanation</span>: a -&gt;</span> <span class="function"><span class="title">c</span> -&gt;</span> <span class="function"><span class="title">b</span> -&gt;</span> <span class="function"><span class="title">a</span> -&gt;</span> <span class="function"><span class="title">c</span> -&gt;</span> <span class="function"><span class="title">idle</span> -&gt;</span> a</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [a, b, a], K=<span class="number">3</span></span><br><span class="line">Output: <span class="number">5</span></span><br><span class="line">E<span class="function"><span class="title">xplanation</span>: a -&gt;</span> <span class="function"><span class="title">b</span> -&gt;</span> <span class="function"><span class="title">idle</span> -&gt;</span> <span class="function"><span class="title">idle</span> -&gt;</span> a</span><br></pre></td></tr></table></figure>
<p><strong>Constraints:</strong></p>
<ul>
<li>1 &lt;= tasks.length &lt;= 10^4</li>
<li><code>tasks[i]</code> is an uppercase English letter.</li>
<li>0 &lt;= k &lt;= 100</li>
</ul>
<h3 id="Solution-12"><a href="#Solution-12" class="headerlink" title="Solution"></a>Solution</h3><p>This problem follows the <code>Top &#39;K&#39; Numbers</code> pattern and is quite similar to <code>Rearrange String K Distance Apart</code>. We need to rearrange tasks such that same tasks are ‘K’ distance apart.</p>
<p>Following a similar approach, we will use a <strong>Max Heap</strong> to execute the highest frequency task first. After executing a task we decrease its frequency and put it in a waiting list. In each iteration, we will try to execute as many as <code>k+1</code> tasks. For the next iteration, we will put all the waiting tasks back in the <strong>Max Heap</strong>. If, for any iteration, we are not able to execute <code>k+1</code> tasks, the CPU has to remain idle for the remaining time in the next iteration.</p>
<h3 id="Code-11"><a href="#Code-11" class="headerlink" title="Code"></a>Code</h3><p>Here is what our algorithm will look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">scheduleTasks</span>(<span class="params">self, tasks, k</span>):</span></span><br><span class="line">    intervalCount = <span class="number">0</span></span><br><span class="line">    taskFrequencyMap = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> char <span class="keyword">in</span> tasks:</span><br><span class="line">      taskFrequencyMap[char] = taskFrequencyMap.get(char, <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    maxHeap = []</span><br><span class="line">    <span class="comment"># add all tasks to the max heap</span></span><br><span class="line">    <span class="keyword">for</span> char, frequency <span class="keyword">in</span> taskFrequencyMap.items():</span><br><span class="line">      heappush(maxHeap, (-frequency, char))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> maxHeap:</span><br><span class="line">      waitList = []</span><br><span class="line">      n = k + <span class="number">1</span>  <span class="comment"># try to execute as many as &#x27;k+1&#x27; tasks from the max-heap</span></span><br><span class="line">      <span class="keyword">while</span> n &gt; <span class="number">0</span> <span class="keyword">and</span> maxHeap:</span><br><span class="line">        intervalCount += <span class="number">1</span></span><br><span class="line">        frequency, char = heappop(maxHeap)</span><br><span class="line">        <span class="keyword">if</span> -frequency &gt; <span class="number">1</span>:</span><br><span class="line">          <span class="comment"># decrement the frequency and add to the waitList</span></span><br><span class="line">          waitList.append((frequency+<span class="number">1</span>, char))</span><br><span class="line">        n -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">      <span class="comment"># put all the waiting list back on the heap</span></span><br><span class="line">      <span class="keyword">for</span> frequency, char <span class="keyword">in</span> waitList:</span><br><span class="line">        heappush(maxHeap, (frequency, char))</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> maxHeap:</span><br><span class="line">        intervalCount += n  <span class="comment"># we&#x27;ll be having &#x27;n&#x27; idle intervals for the next iteration</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> intervalCount</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">  sol = Solution()</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Minimum intervals needed to execute all tasks: &quot;</span> +</span><br><span class="line">        <span class="built_in">str</span>(sol.scheduleTasks([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;c&#x27;</span>], <span class="number">2</span>)))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Minimum intervals needed to execute all tasks: &quot;</span> +</span><br><span class="line">        <span class="built_in">str</span>(sol.scheduleTasks([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>], <span class="number">3</span>)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity-14"><a href="#Time-complexity-14" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>The time complexity of the above algorithm is <strong><em>O(N\</em>logN)*</strong> where ‘N’ is the number of tasks. Our <code>while loop</code> will iterate once for each occurrence of the task in the input (i.e. ‘N’) and in each iteration we will remove a task from the heap which will take <strong><em>O(logN)</em></strong> time. Hence the overall time complexity of our algorithm is <strong><em>O(N\</em>logN)*</strong>.</p>
<h4 id="Space-complexity-14"><a href="#Space-complexity-14" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(N)</em></strong>, as in the worst case, we need to store all the ‘N’ tasks in the <strong>HashMap</strong>.</p>
<h2 id="Problem-Challenge-3"><a href="#Problem-Challenge-3" class="headerlink" title="Problem Challenge 3"></a>Problem Challenge 3</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/maximum-frequency-stack/">895. Maximum Frequency Stack</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Frequency-Stack-hard"><a href="#Frequency-Stack-hard" class="headerlink" title="Frequency Stack (hard)"></a>Frequency Stack (hard)</h3><p>Design a class that simulates a Stack data structure, implementing the following two operations:</p>
<ol>
<li><code>push(int num)</code>: Pushes the number ‘num’ on the stack.</li>
<li><code>pop()</code>: Returns the most frequent number in the stack. If there is a tie, return the number which was pushed later.</li>
</ol>
<p><strong>Example:</strong></p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">After following <span class="keyword">push</span> operations: <span class="keyword">push</span>(<span class="number">1</span>), <span class="keyword">push</span>(<span class="number">2</span>), <span class="keyword">push</span>(<span class="number">3</span>), <span class="keyword">push</span>(<span class="number">2</span>), <span class="keyword">push</span>(<span class="number">1</span>), <span class="keyword">push</span>(<span class="number">2</span>), <span class="keyword">push</span>(<span class="number">5</span>)</span><br><span class="line"> </span><br><span class="line"><span class="number">1</span>. <span class="keyword">pop</span>() should <span class="keyword">return</span> <span class="number">2</span>, as it is the most frequent number</span><br><span class="line"><span class="number">2</span>. <span class="keyword">Next</span> <span class="keyword">pop</span>() should <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"><span class="number">3</span>. <span class="keyword">Next</span> <span class="keyword">pop</span>() should <span class="keyword">return</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>
<p><strong>Constraints:</strong></p>
<ul>
<li>0 &lt;= val &lt;= 10^9</li>
<li>At most 2 * 10^4 calls will be made to push and pop.</li>
<li>It is guaranteed that there will be at least one element in the stack before calling pop.</li>
</ul>
<h3 id="Solution-13"><a href="#Solution-13" class="headerlink" title="Solution"></a>Solution</h3><p>This problem follows the <em>Top ‘K’ Elements</em> pattern, and shares similarities with <em>Top ‘K’ Frequent Numbers</em>.</p>
<p>We can use a <strong>Max Heap</strong> to store the numbers. Instead of comparing the numbers we will compare their frequencies so that the root of the heap is always the most frequently occurring number. There are two issues that need to be resolved though:</p>
<ol>
<li>How can we keep track of the frequencies of numbers in the heap? When we are pushing a new number to the <strong>Max Heap</strong>, we don’t know how many times the number has already appeared in the <strong>Max Heap</strong>. To resolve this, we will maintain a <strong>HashMap</strong> to store the current frequency of each number. Thus whenever we push a new number in the heap, we will increment its frequency in the HashMap and when we pop, we will decrement its frequency.</li>
<li>If two numbers have the same frequency, we will need to return the number which was pushed later while popping. To resolve this, we need to attach a sequence number to every number to know which number came first.</li>
</ol>
<p>In short, we will keep three things with every number that we push to the heap:</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> <span class="built_in">number</span><span class="comment"> // value of the number</span></span><br><span class="line"><span class="number">2.</span> frequency<span class="comment"> // current frequency of the number when it was pushed to the heap</span></span><br><span class="line"><span class="number">3.</span> sequenceNumber<span class="comment"> // a sequence number, to know what number came first</span></span><br></pre></td></tr></table></figure>
<h3 id="Code-12"><a href="#Code-12" class="headerlink" title="Code"></a>Code</h3><p>Here is what our algorithm will look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 需要注意的是，在pop之后，已经在heap中的三元组中的frequency_map[num]的值还是旧的，但是没有问题，因为在栈中的顺序不会改变</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Element</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, number, frequency, sequenceNumber</span>):</span></span><br><span class="line">        self.number = number</span><br><span class="line">        self.frequency = frequency</span><br><span class="line">        self.sequenceNumber = sequenceNumber</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span>(<span class="params">self, other</span>):</span></span><br><span class="line">        <span class="comment"># higher frequency wins</span></span><br><span class="line">        <span class="keyword">if</span> self.frequency != other.frequency:</span><br><span class="line">            <span class="keyword">return</span> self.frequency &gt; other.frequency</span><br><span class="line">        <span class="comment"># if both elements have same frequency, return the element that was pushed later</span></span><br><span class="line">        <span class="keyword">return</span> self.sequenceNumber &gt; other.sequenceNumber</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.sequenceNumber = <span class="number">0</span></span><br><span class="line">        self.maxHeap = []</span><br><span class="line">        self.frequencyMap = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span>(<span class="params">self, num</span>):</span></span><br><span class="line">        self.frequencyMap[num] = self.frequencyMap.get(num, <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line">        heappush(self.maxHeap, Element(</span><br><span class="line">            num, self.frequencyMap[num], self.sequenceNumber))</span><br><span class="line">        self.sequenceNumber += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span>(<span class="params">self</span>):</span></span><br><span class="line">        num = heappop(self.maxHeap).number</span><br><span class="line">        <span class="comment"># decrement the frequency or remove if this is the last number</span></span><br><span class="line">        <span class="keyword">if</span> self.frequencyMap[num] &gt; <span class="number">1</span>:</span><br><span class="line">            self.frequencyMap[num] -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">del</span> self.frequencyMap[num]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> num</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    sol = Solution()</span><br><span class="line">    sol.push(<span class="number">1</span>)</span><br><span class="line">    sol.push(<span class="number">2</span>)</span><br><span class="line">    sol.push(<span class="number">3</span>)</span><br><span class="line">    sol.push(<span class="number">2</span>)</span><br><span class="line">    sol.push(<span class="number">1</span>)</span><br><span class="line">    sol.push(<span class="number">2</span>)</span><br><span class="line">    sol.push(<span class="number">5</span>)</span><br><span class="line">    <span class="built_in">print</span>(sol.pop())</span><br><span class="line">    <span class="built_in">print</span>(sol.pop())</span><br><span class="line">    <span class="built_in">print</span>(sol.pop())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#=======================leetcode=========================</span></span><br><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FrequencyStack</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.sequence_number = <span class="number">0</span></span><br><span class="line">        self.max_heap = []</span><br><span class="line">        self.frequency_map = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span>(<span class="params">self, num</span>):</span></span><br><span class="line">        self.frequency_map[num] = self.frequency_map.get(num, <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line">        heappush(self.max_heap, (-self.frequency_map[num], -self.sequence_number, num))</span><br><span class="line">        self.sequence_number += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span>(<span class="params">self</span>):</span></span><br><span class="line">        num = heappop(self.max_heap)[<span class="number">2</span>]</span><br><span class="line">        <span class="keyword">if</span> self.frequency_map[num] &gt; <span class="number">1</span>:</span><br><span class="line">            self.frequency_map[num] -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">del</span> self.frequency_map[num]</span><br><span class="line">        <span class="keyword">return</span> num</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    stack = FrequencyStack()</span><br><span class="line">    stack.push(<span class="number">1</span>)</span><br><span class="line">    stack.push(<span class="number">2</span>)</span><br><span class="line">    stack.push(<span class="number">3</span>)</span><br><span class="line">    stack.push(<span class="number">2</span>)</span><br><span class="line">    stack.push(<span class="number">1</span>)</span><br><span class="line">    stack.push(<span class="number">2</span>)</span><br><span class="line">    stack.push(<span class="number">5</span>)</span><br><span class="line">    <span class="built_in">print</span>(stack.pop())</span><br><span class="line">    <span class="built_in">print</span>(stack.pop())</span><br><span class="line">    <span class="built_in">print</span>(stack.pop())</span><br><span class="line">    <span class="built_in">print</span>(stack.pop())</span><br><span class="line">    <span class="built_in">print</span>(stack.pop())</span><br><span class="line">    <span class="built_in">print</span>(stack.pop())</span><br><span class="line">    <span class="built_in">print</span>(stack.pop())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

    </article>
    <!-- license -->
    
        <div class="license-wrapper">
            <p>Author：<a href="https://hasuer.github.io">Hasuer</a>
            <p>Link：<a href="https://hasuer.github.io/18-pattern-top-k-elements/index.html">https://hasuer.github.io/18-pattern-top-k-elements/index.html</a>
            <p>Publish date：<a href="https://hasuer.github.io/18-pattern-top-k-elements/index.html">May 18th 2024, 4:53:51 pm</a>
            <p>Update date：<a href="https://hasuer.github.io/18-pattern-top-k-elements/index.html">May 28th 2024, 11:29:44 am</a>
            <p>License：本文采用<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc/4.0/">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可</p>
        </div>
    
    <!-- paginator -->
    <ul class="post-paginator">
        <li class="next">
            
                <div class="nextSlogan">Next Post</div>
                <a href="/19-pattern-k-way-merge/index.html" title="19. Pattern K-way merge">
                    <div class="nextTitle">19. Pattern K-way merge</div>
                </a>
            
        </li>
        <li class="previous">
            
                <div class="prevSlogan">Previous Post</div>
                <a href="/17-pattern-bitwise-xor/index.html" title="17. Pattern Bitwise XOR">
                    <div class="prevTitle">17. Pattern Bitwise XOR</div>
                </a>
            
        </li>
    </ul>
    <!-- comment -->
    
        <div class="post-comment">
            <!-- 来必力 City 版安装代码 -->


            

            

            

            <!-- utteranc评论 -->


            <!-- partial('_partial/comment/changyan') -->
            <!--PC版-->


            
            

        </div>
    
    <!-- timeliness note -->
    <!-- idea from: https://hexo.fluid-dev.com/posts/hexo-injector/#%E6%96%87%E7%AB%A0%E6%97%B6%E6%95%88%E6%80%A7%E6%8F%90%E7%A4%BA -->
    
    <!-- Mathjax -->
    
</main>

                <!-- profile -->
                
            </div>
            <footer class="footer footer-unloaded">
    <!-- social  -->
    
        <div class="social">
            
    
        
            
                <a href="mailto:12345@qq.com" class="iconfont-archer email" title=email ></a>
            
        
    
        
            
                <a href="//github.com/HasuerYu" class="iconfont-archer github" target="_blank" title=github></a>
            
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


        </div>
    
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">Archer</a></span>
    </div>
    <!-- website approve for Chinese user -->
    
    <!-- 不蒜子  -->
    
        <div class="busuanzi-container">
            
             
                <span id="busuanzi_container_site_pv">PV: <span id="busuanzi_value_site_pv"></span> :)</span>
            
        </div>
    	
</footer>

        </div>
        <!-- toc -->
        
            <div class="toc-wrapper toc-wrapper-loding" style=







    top:50vh;

>
                <div class="toc-catalog">
                    <span class="iconfont-archer catalog-icon">&#xe613;</span><span>CATALOG</span>
                </div>
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Top-%E2%80%98K%E2%80%99-Numbers-easy"><span class="toc-number">2.</span> <span class="toc-text">Top ‘K’ Numbers (easy)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement"><span class="toc-number">2.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution"><span class="toc-number">2.2.</span> <span class="toc-text">Solution</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity"><span class="toc-number">2.2.1.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity"><span class="toc-number">2.2.2.</span> <span class="toc-text">Space complexity</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Kth-Smallest-Number-easy"><span class="toc-number">3.</span> <span class="toc-text">Kth Smallest Number (easy)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-1"><span class="toc-number">3.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-1"><span class="toc-number">3.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code"><span class="toc-number">3.3.</span> <span class="toc-text">Code</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity-1"><span class="toc-number">3.3.1.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity-1"><span class="toc-number">3.3.2.</span> <span class="toc-text">Space complexity</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#An-Alternate-Approach"><span class="toc-number">3.4.</span> <span class="toc-text">An Alternate Approach</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%98K%E2%80%99-Closest-Points-to-the-Origin-easy"><span class="toc-number">4.</span> <span class="toc-text">‘K’ Closest Points to the Origin (easy)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-2"><span class="toc-number">4.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-2"><span class="toc-number">4.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-1"><span class="toc-number">4.3.</span> <span class="toc-text">Code</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity-2"><span class="toc-number">4.3.1.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity-2"><span class="toc-number">4.3.2.</span> <span class="toc-text">Space complexity</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Connect-Ropes-easy"><span class="toc-number">5.</span> <span class="toc-text">Connect Ropes (easy)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-3"><span class="toc-number">5.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-3"><span class="toc-number">5.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-2"><span class="toc-number">5.3.</span> <span class="toc-text">Code</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity-3"><span class="toc-number">5.3.1.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity-3"><span class="toc-number">5.3.2.</span> <span class="toc-text">Space complexity</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Top-%E2%80%98K%E2%80%99-Frequent-Numbers-medium"><span class="toc-number">6.</span> <span class="toc-text">Top ‘K’ Frequent Numbers (medium)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-4"><span class="toc-number">6.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-4"><span class="toc-number">6.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-3"><span class="toc-number">6.3.</span> <span class="toc-text">Code</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity-4"><span class="toc-number">6.3.1.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity-4"><span class="toc-number">6.3.2.</span> <span class="toc-text">Space complexity</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Frequency-Sort-medium"><span class="toc-number">7.</span> <span class="toc-text">Frequency Sort (medium)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-5"><span class="toc-number">7.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-5"><span class="toc-number">7.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-4"><span class="toc-number">7.3.</span> <span class="toc-text">Code</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity-5"><span class="toc-number">7.3.1.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity-5"><span class="toc-number">7.3.2.</span> <span class="toc-text">Space complexity</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Kth-Largest-Number-in-a-Stream-medium"><span class="toc-number">8.</span> <span class="toc-text">Kth Largest Number in a Stream (medium)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-6"><span class="toc-number">8.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-6"><span class="toc-number">8.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-5"><span class="toc-number">8.3.</span> <span class="toc-text">Code</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity-6"><span class="toc-number">8.3.1.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity-6"><span class="toc-number">8.3.2.</span> <span class="toc-text">Space complexity</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%98K%E2%80%99-Closest-Numbers-medium"><span class="toc-number">9.</span> <span class="toc-text">‘K’ Closest Numbers (medium)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-7"><span class="toc-number">9.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-7"><span class="toc-number">9.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-6"><span class="toc-number">9.3.</span> <span class="toc-text">Code</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity-7"><span class="toc-number">9.3.1.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity-7"><span class="toc-number">9.3.2.</span> <span class="toc-text">Space complexity</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Alternate-Solution-using-Two-Pointers"><span class="toc-number">9.4.</span> <span class="toc-text">Alternate Solution using Two Pointers</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity-8"><span class="toc-number">9.4.1.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity-8"><span class="toc-number">9.4.2.</span> <span class="toc-text">Space complexity</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maximum-Distinct-Elements-medium"><span class="toc-number">10.</span> <span class="toc-text">Maximum Distinct Elements (medium)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-8"><span class="toc-number">10.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-8"><span class="toc-number">10.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-7"><span class="toc-number">10.3.</span> <span class="toc-text">Code</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity-9"><span class="toc-number">10.3.1.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity-9"><span class="toc-number">10.3.2.</span> <span class="toc-text">Space complexity</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sum-of-Elements-medium"><span class="toc-number">11.</span> <span class="toc-text">Sum of Elements (medium)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-9"><span class="toc-number">11.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-9"><span class="toc-number">11.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-8"><span class="toc-number">11.3.</span> <span class="toc-text">Code</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity-10"><span class="toc-number">11.3.1.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity-10"><span class="toc-number">11.3.2.</span> <span class="toc-text">Space complexity</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Alternate-Solution"><span class="toc-number">11.4.</span> <span class="toc-text">Alternate Solution</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity-11"><span class="toc-number">11.4.1.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity-11"><span class="toc-number">11.4.2.</span> <span class="toc-text">Space complexity</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Rearrange-String-hard"><span class="toc-number">12.</span> <span class="toc-text">*Rearrange String (hard)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-10"><span class="toc-number">12.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-10"><span class="toc-number">12.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-9"><span class="toc-number">12.3.</span> <span class="toc-text">Code</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity-12"><span class="toc-number">12.3.1.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity-12"><span class="toc-number">12.3.2.</span> <span class="toc-text">Space complexity</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-Challenge-1"><span class="toc-number">13.</span> <span class="toc-text">Problem Challenge 1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Rearrange-String-K-Distance-Apart-hard"><span class="toc-number">13.1.</span> <span class="toc-text">Rearrange String K Distance Apart (hard)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-11"><span class="toc-number">13.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-10"><span class="toc-number">13.3.</span> <span class="toc-text">Code</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity-13"><span class="toc-number">13.3.1.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity-13"><span class="toc-number">13.3.2.</span> <span class="toc-text">Space complexity</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-Challenge-2"><span class="toc-number">14.</span> <span class="toc-text">#Problem Challenge 2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Scheduling-Tasks-hard"><span class="toc-number">14.1.</span> <span class="toc-text">Scheduling Tasks (hard)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-12"><span class="toc-number">14.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-11"><span class="toc-number">14.3.</span> <span class="toc-text">Code</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity-14"><span class="toc-number">14.3.1.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity-14"><span class="toc-number">14.3.2.</span> <span class="toc-text">Space complexity</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-Challenge-3"><span class="toc-number">15.</span> <span class="toc-text">Problem Challenge 3</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Frequency-Stack-hard"><span class="toc-number">15.1.</span> <span class="toc-text">Frequency Stack (hard)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-13"><span class="toc-number">15.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-12"><span class="toc-number">15.3.</span> <span class="toc-text">Code</span></a></li></ol></li></ol>
            </div>
        
        <!-- sidebar -->
        <div class="sidebar sidebar-hide">
    <ul class="sidebar-tabs sidebar-tabs-active-0">
        <li class="sidebar-tab-archives"><span class="iconfont-archer">&#xe67d;</span><span class="tab-name">Archive</span></li>
        <li class="sidebar-tab-tags"><span class="iconfont-archer">&#xe61b;</span><span class="tab-name">Tag</span></li>
        <li class="sidebar-tab-categories"><span class="iconfont-archer">&#xe666;</span><span class="tab-name">Cate</span></li>
    </ul>
    <div class="sidebar-content sidebar-content-show-archive">
        <div class="sidebar-panel-archives">
    <!-- 在 ejs 中将 archive 按照时间排序 -->
    
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    
    
    
    
    <div class="total-and-search">
        <div class="total-archive">
        Total : 41
        </div>
        <!-- search  -->
        
    </div>
    
    <div class="post-archive">
    
        
            
            
            <div class="archive-year"> 2024 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/02</span>
            <a class="archive-post-title" href="/34-conclusions/index.html">34. Conclusions</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/02</span>
            <a class="archive-post-title" href="/33-test-your-knowledge-hard/index.html">33. Test Your Knowledge (Hard)</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/01</span>
            <a class="archive-post-title" href="/32-test-your-knowledge-medium/index.html">32. Test Your Knowledge (Medium)</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/31</span>
            <a class="archive-post-title" href="/31-test-your-knowledge-easy-md/index.html">31. Test Your Knowledge (Easy).md</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/30</span>
            <a class="archive-post-title" href="/30-revision/index.html">30. Revision</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/29</span>
            <a class="archive-post-title" href="/29-miscellaneous/index.html">29. Miscellaneous</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/28</span>
            <a class="archive-post-title" href="/28-pattern-multi-thread/index.html">28. Pattern Multi-thread</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/27</span>
            <a class="archive-post-title" href="/27-pattern-prefix-sum/index.html">27. Pattern Prefix Sum</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/26</span>
            <a class="archive-post-title" href="/26-pattern-ordered-set/index.html">26. Pattern Ordered Set</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/25</span>
            <a class="archive-post-title" href="/25-pattern-union-find/index.html">25. Pattern Union Find</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/24</span>
            <a class="archive-post-title" href="/24-pattern-topological-sort-graph/index.html">24. Pattern Topological Sort (Graph)</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/23</span>
            <a class="archive-post-title" href="/23-pattern-trie/index.html">23. Pattern Trie</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/22</span>
            <a class="archive-post-title" href="/22-pattern-backtracking/index.html">22. Pattern Backtracking</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/21</span>
            <a class="archive-post-title" href="/21-pattern-01-knapsack-dynamic-programming/index.html">21. Pattern  01 Knapsack (Dynamic Programming)</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/20</span>
            <a class="archive-post-title" href="/20-pattern-greedy-algorithms/index.html">20. Pattern Greedy Algorithms</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/19</span>
            <a class="archive-post-title" href="/19-pattern-k-way-merge/index.html">19. Pattern K-way merge</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/18</span>
            <a class="archive-post-title" href="/18-pattern-top-k-elements/index.html">18. Pattern Top 'K' Elements</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/17</span>
            <a class="archive-post-title" href="/17-pattern-bitwise-xor/index.html">17. Pattern Bitwise XOR</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/16</span>
            <a class="archive-post-title" href="/16-pattern-modified-binary-search/index.html">16. Pattern Modified Binary Search</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/15</span>
            <a class="archive-post-title" href="/15-pattern-subsets/index.html">15. Pattern Subsets</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/14</span>
            <a class="archive-post-title" href="/14-pattern-two-heaps/index.html">14. Pattern Two Heaps</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/13</span>
            <a class="archive-post-title" href="/13-pattern-island-matrix-traversal/index.html">13. Pattern Island (Matrix traversal)</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/12</span>
            <a class="archive-post-title" href="/12-pattern-graphs/index.html">12. Pattern Graphs</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/11</span>
            <a class="archive-post-title" href="/11-pattern-tree-depth-first-search/index.html">11. Pattern Tree Depth First Search</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/10</span>
            <a class="archive-post-title" href="/10-pattern-tree-breadth-first-search/index.html">10. Pattern Tree Breadth First Search</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/09</span>
            <a class="archive-post-title" href="/9-pattern-hash-maps/index.html">9. Pattern Hash Maps</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/08</span>
            <a class="archive-post-title" href="/8-pattern-monotonic-stack/index.html">8. Pattern Monotonic Stack</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/07</span>
            <a class="archive-post-title" href="/7-pattern-stack/index.html">7. Pattern Stack</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/06</span>
            <a class="archive-post-title" href="/6-pattern-in-place-reversal-of-a-linkedlist/index.html">6. Pattern In-place Reversal of a LinkedList</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/05</span>
            <a class="archive-post-title" href="/5-pattern-cyclic-sort/index.html">5. Pattern Cyclic Sort</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/04</span>
            <a class="archive-post-title" href="/4-pattern-merge-intervals/index.html">4. Pattern Merge Intervals</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/3-pattern-sliding-window/index.html">3. Pattern Sliding Window</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/2-pattern-fast-slow-pointers/index.html">2. Pattern Fast_Slow pointers</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/1-pattern-two-pointers/index.html">1. Pattern Two Pointers</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/30</span>
            <a class="archive-post-title" href="/0-introduction/index.html">0.Introduction</a>
        </li>
    
        
            
            
                
                </ul>
            
            <div class="archive-year"> 2022 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/12</span>
            <a class="archive-post-title" href="/ubuntu20-04%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEmysql8-%E8%AF%A6%E7%BB%86/index.html">Ubuntu20.04安装配置MySQL8(详细)</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/25</span>
            <a class="archive-post-title" href="/axios%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">Axios学习笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/23</span>
            <a class="archive-post-title" href="/promise%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">Promise学习笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/23</span>
            <a class="archive-post-title" href="/nginx%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">Nginx学习笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/23</span>
            <a class="archive-post-title" href="/ajax%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">AJAX学习笔记</a>
        </li>
    
        
            
            
                
                </ul>
            
            <div class="archive-year"> 2021 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/07</span>
            <a class="archive-post-title" href="/git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">Git学习笔记</a>
        </li>
    
    </div>
</div>

        <div class="sidebar-panel-tags">
    <div class="sidebar-tags-name">
        
            <span class="sidebar-tag-name" data-tags="Interview">
                <span class="iconfont-archer">&#xe606;</span>
                Interview
            </span>
        
    </div>
    <div class="iconfont-archer sidebar-tags-empty">&#xe678;</div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
        缺失模块，请参考主题文档进行安装配置：https://github.com/fi3ework/hexo-theme-archer#%E5%AE%89%E8%A3%85%E4%B8%BB%E9%A2%98
    </div> 
    <div class="sidebar-tags-list"></div>
</div>

        <div class="sidebar-panel-categories">
    <div class="sidebar-categories-name">
    
        <span class="sidebar-category-name" data-categories="技术笔记">
            <span class="iconfont-archer">&#xe60a;</span>
            技术笔记
        </span>
    
        <span class="sidebar-category-name" data-categories="Grokking-Interview-Pattern">
            <span class="iconfont-archer">&#xe60a;</span>
            Grokking-Interview-Pattern
        </span>
    
    </div>
    <div class="iconfont-archer sidebar-categories-empty">&#xe678;</div>
    <div class="sidebar-categories-list"></div>
</div>

    </div>
</div>

        <!-- site-meta -->
        <script>
    var siteMeta = {
        root: "/",
        author: "Hasuer"
    }
</script>

        <!-- import experimental options here -->
        <!-- Custom Font -->


        <!-- main func -->
        <script src="/scripts/main.js?v=20210823"></script>
        <!-- dark mode -->
        <script src="/scripts/dark.js?v=20210823"></script>
        <!-- fancybox -->
        <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" defer></script>
        <!-- algolia -->
        
        <!-- busuanzi -->
        
            <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
        
        <!-- CNZZ -->
        
        <!-- async load share.js -->
        
            <script src="/scripts/share.js?v=20210823" async></script>
        
        <!-- mermaid -->
        
    </body>
</html>
