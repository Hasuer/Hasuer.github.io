<!DOCTYPE html>
<html lang="en">
    <!-- title -->


    

<!-- keywords -->



<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="author" content="Hasuer">
    <meta name="renderer" content="webkit">
    <meta name="copyright" content="Hasuer">
    
        <meta name="keywords" content="hexo,hexo-theme,hexo-blog">
    
    <meta name="description" content="">
    <meta name="description" content="Introduction to Island PatternMany coding interview problems involve traversing 2D arrays (aka matrix or grid). The Island pattern describes all the efficient ways to traverse a matrix. This pattern w">
<meta property="og:type" content="article">
<meta property="og:title" content="13. Pattern Island (Matrix traversal)">
<meta property="og:url" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index.html">
<meta property="og:site_name" content="Hasuer&#39;s Studio.">
<meta property="og:description" content="Introduction to Island PatternMany coding interview problems involve traversing 2D arrays (aka matrix or grid). The Island pattern describes all the efficient ways to traverse a matrix. This pattern w">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/1.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/2.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/3.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/4.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/5.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/6.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/7.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/8.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/9.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/10.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/11.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/12.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/13.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/14.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/15.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/16.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/17.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/18.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/19.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/20.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/21.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/22.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/23.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/24.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/25.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/26.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/27.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/28.png">
<meta property="og:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/29.png">
<meta property="article:published_time" content="2024-05-02T01:43:32.000Z">
<meta property="article:modified_time" content="2024-05-16T12:13:16.329Z">
<meta property="article:author" content="Hasuer">
<meta property="article:tag" content="Interview">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hasuer.github.io/13-pattern-island-matrix-traversal/index/1.png">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="icon" href="/assets/old_profile.ico">
    
    <title>13. Pattern Island (Matrix traversal) · Hasuer&#39;s Studio</title>
    <!-- /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
/* This file is meant as a standalone workflow for
- testing support for link[rel=preload]
- enabling async CSS loading in browsers that do not support rel=preload
- applying rel preload css once loaded, whether supported or not.
*/ -->
<script>
    (function (w) {
        'use strict'
        // rel=preload support test
        if (!w.loadCSS) {
            w.loadCSS = function () {}
        }
        // define on the loadCSS obj
        var rp = (loadCSS.relpreload = {})
        // rel=preload feature support test
        // runs once and returns a function for compat purposes
        rp.support = (function () {
            var ret
            try {
                ret = w.document.createElement('link').relList.supports('preload')
            } catch (e) {
                ret = false
            }
            return function () {
                return ret
            }
        })()

        // if preload isn't supported, get an asynchronous load by using a non-matching media attribute
        // then change that media back to its intended value on load
        rp.bindMediaToggle = function (link) {
            // remember existing media attr for ultimate state, or default to 'all'
            var finalMedia = link.media || 'all'

            function enableStylesheet() {
                link.media = finalMedia
            }

            // bind load handlers to enable media
            if (link.addEventListener) {
                link.addEventListener('load', enableStylesheet)
            } else if (link.attachEvent) {
                link.attachEvent('onload', enableStylesheet)
            }

            // Set rel and non-applicable media type to start an async request
            // note: timeout allows this to happen async to let rendering continue in IE
            setTimeout(function () {
                link.rel = 'stylesheet'
                link.media = 'only x'
            })
            // also enable media after 3 seconds,
            // which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
            setTimeout(enableStylesheet, 3000)
        }

        // loop through link elements in DOM
        rp.poly = function () {
            // double check this to prevent external calls from running
            if (rp.support()) {
                return
            }
            var links = w.document.getElementsByTagName('link')
            for (var i = 0; i < links.length; i++) {
                var link = links[i]
                // qualify links to those with rel=preload and as=style attrs
                if (
                    link.rel === 'preload' &&
                    link.getAttribute('as') === 'style' &&
                    !link.getAttribute('data-loadcss')
                ) {
                    // prevent rerunning on link
                    link.setAttribute('data-loadcss', true)
                    // bind listeners to toggle media back
                    rp.bindMediaToggle(link)
                }
            }
        }

        // if unsupported, run the polyfill
        if (!rp.support()) {
            // run once at least
            rp.poly()

            // rerun poly on an interval until onload
            var run = w.setInterval(rp.poly, 500)
            if (w.addEventListener) {
                w.addEventListener('load', function () {
                    rp.poly()
                    w.clearInterval(run)
                })
            } else if (w.attachEvent) {
                w.attachEvent('onload', function () {
                    rp.poly()
                    w.clearInterval(run)
                })
            }
        }

        // commonjs
        if (typeof exports !== 'undefined') {
            exports.loadCSS = loadCSS
        } else {
            w.loadCSS = loadCSS
        }
    })(typeof global !== 'undefined' ? global : this)
</script>

    <style type="text/css">
    @font-face {
        font-family: 'Oswald-Regular';
        src: url("/font/Oswald-Regular.ttf");
    }

    body {
        margin: 0;
    }

    header,
    footer,
    .back-top,
    .sidebar,
    .container,
    .site-intro-meta,
    .toc-wrapper {
        display: none;
    }

    .site-intro {
        position: relative;
        z-index: 3;
        width: 100%;
        /* height: 50vh; */
        overflow: hidden;
    }

    .site-intro-placeholder {
        position: absolute;
        z-index: -2;
        top: 0;
        left: 0;
        width: calc(100% + 300px);
        height: 100%;
        background: repeating-linear-gradient(-45deg, #444 0, #444 80px, #333 80px, #333 160px);
        background-position: center center;
        transform: translate3d(-226px, 0, 0);
        animation: gradient-move 2.5s ease-out 0s infinite;
    }

    @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(0, 0, 0);
        }
    }
</style>

    <link rel="preload" href="/css/style.css?v=20210823" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="/css/dark.css?v=20210823" as="style">
    <link rel="stylesheet" href="/css/dark.css" media="(prefers-color-scheme: dark)">
    <link rel="stylesheet" href="/css/mobile.css?v=20210823" media="(max-width: 960px)">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" as="script">
    <link rel="preload" href="/scripts/main.js?v=20210823" as="script">
    <link rel="preload" href="/scripts/dark.js?v=20210823" as="script">
    <link rel="preload" href="/font/Oswald-Regular.ttf" as="font" crossorigin>
    <link rel="preload" href="https://at.alicdn.com/t/font_327081_1dta1rlogw17zaor.woff" as="font" crossorigin>
    <!-- algolia -->
    
    <!-- 百度统计  -->
    
    <!-- 谷歌统计  -->
    
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"></head>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script type="text/javascript">
        if (typeof window.$ == undefined) {
            console.warn('jquery load from jsdelivr failed, will load local script')
            document.write('<script src="/lib/jquery.min.js" />')
        }
    </script>
    
        <body class="post-body">
    
        <!-- header -->
        <header class="header header-mobile">
    <!-- top read progress line -->
    <div class="header-element">
        <div class="read-progress"></div>
    </div>
    <!-- sidebar menu button -->
    <div class="header-element">
        
            <div class="header-sidebar-menu">
        
            
                <div style="padding-left: 1px;">&#xe775;</div>
            
        </div>
    </div>
    <!-- header actions -->
    <div class="header-actions">
        <!-- theme mode switch button -->
        <span class="header-theme-btn header-element">
            <i class="fas fa-adjust"></i>
        </span>
        <!-- back to home page text -->
        <span class="home-link header-element">
            <a href=/>Hasuer's Studio.</a>
        </span>
    </div>
    <!-- toggle banner for post layout -->
    
        
            <div class="banner">
        
            <div class="blog-title header-element">
                <a href="/">Hasuer&#39;s Studio.</a>
            </div>
            <div class="post-title header-element">
                <a href="#" class="post-name">13. Pattern Island (Matrix traversal)</a>
            </div>
        </div>
    
</header>

        <!-- fixed footer -->
        <footer class="footer-fixed">
    <!-- back to top button -->
    <div class="footer-fixed-element">
        
            <div class="back-top back-top-hidden">
        
        
            <div>&#xe639;</div>
        
        </div>
    </div>
</footer>

        <!-- wrapper -->
        <div class="wrapper">
            <div class="site-intro" style="







    height:50vh;

">
    
    <!-- 主页  -->
    
        
    <!-- 404页  -->
            
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-img" style="background-image: url(/intro/post-bg.jpg)"></div>
    <div class="site-intro-meta">
        <!-- 标题  -->
        <h1 class="intro-title">
            <!-- 主页  -->
            
                13. Pattern Island (Matrix traversal)
            <!-- 404 -->
            
        </h1>
        <!-- 副标题 -->
        <p class="intro-subtitle">
            <!-- 主页副标题  -->
            
                
            <!-- 404 -->
            
        </p>
        <!-- 文章页 meta -->
        
            <div class="post-intros">
                <!-- 文章页标签  -->
                
                    <div class= post-intro-tags >
    
        
        
            
        
        
        <span class="post-category" data-categories="Algorithm"">
            <i class="fas fa-folder post-category-icon"></i>
            <span class="post-category-text">
                Algorithm
            </span>
        </span>
    
    
        <a class="post-tag" href="javascript:void(0);" data-tags="Interview">Interview</a>
    
</div>

                
                
                    <div class="post-intro-read">
                        <span>Word count: <span class="post-count word-count">7.8k</span>Reading time: <span class="post-count reading-time">48 min</span></span>
                    </div>
                
                <div class="post-intro-meta">
                    <!-- 撰写日期 -->
                    <span class="iconfont-archer post-intro-calander">&#xe676;</span>
                    <span class="post-intro-time">2024/05/02</span>
                    <!-- busuanzi -->
                    
                        <span id="busuanzi_container_page_pv" class="busuanzi-pv">
                            <span class="iconfont-archer post-intro-busuanzi">&#xe602;</span>
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    
                    <!-- 文章分享 -->
                    <span class="share-wrapper">
                        <span class="iconfont-archer share-icon">&#xe71d;</span>
                        <span class="share-text">Share</span>
                        <ul class="share-list">
                            <li class="iconfont-archer share-qr" data-type="qr">&#xe75b;
                                <div class="share-qrcode"></div>
                            </li>
                            <li class="iconfont-archer" data-type="weibo">&#xe619;</li>
                            <li class="iconfont-archer" data-type="qzone">&#xe62e;</li>
                            <li class="iconfont-archer" data-type="twitter">&#xe634;</li>
                            <li class="iconfont-archer" data-type="facebook">&#xe67a;</li>
                        </ul>
                    </span>
                </div>
            </div>
        
    </div>
</div>

            <script>
  // get user agent
  function getBrowserVersions() {
    var u = window.navigator.userAgent
    return {
      userAgent: u,
      trident: u.indexOf('Trident') > -1, //IE内核
      presto: u.indexOf('Presto') > -1, //opera内核
      webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
      gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
      mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
      ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
      android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
      iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者安卓QQ浏览器
      iPad: u.indexOf('iPad') > -1, //是否为iPad
      webApp: u.indexOf('Safari') == -1, //是否为web应用程序，没有头部与底部
      weixin: u.indexOf('MicroMessenger') == -1, //是否为微信浏览器
      uc: u.indexOf('UCBrowser') > -1, //是否为android下的UC浏览器
    }
  }
  var browser = {
    versions: getBrowserVersions(),
  }
  console.log('userAgent: ' + browser.versions.userAgent)

  // callback
  function fontLoaded() {
    console.log('font loaded')
    if (document.getElementsByClassName('site-intro-meta')) {
      document
        .getElementsByClassName('intro-title')[0]
        .classList.add('intro-fade-in')
      document
        .getElementsByClassName('intro-subtitle')[0]
        .classList.add('intro-fade-in')
      var postIntros = document.getElementsByClassName('post-intros')[0]
      if (postIntros) {
        postIntros.classList.add('post-fade-in')
      }
    }
  }

  // UC不支持跨域，所以直接显示
  function asyncCb() {
    if (browser.versions.uc) {
      console.log('UCBrowser')
      fontLoaded()
    } else {
      WebFont.load({
        custom: {
          families: ['Oswald-Regular'],
        },
        loading: function () {
          // 所有字体开始加载
          // console.log('font loading');
        },
        active: function () {
          // 所有字体已渲染
          fontLoaded()
        },
        inactive: function () {
          // 字体预加载失败，无效字体或浏览器不支持加载
          console.log('inactive: timeout')
          fontLoaded()
        },
        timeout: 5000, // Set the timeout to two seconds
      })
    }
  }

  function asyncErr() {
    console.warn('script load from CDN failed, will load local script')
  }

  // load webfont-loader async, and add callback function
  function async(u, cb, err) {
    var d = document,
      t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0]
    o.src = u
    if (cb) {
      o.addEventListener(
        'load',
        function (e) {
          cb(null, e)
        },
        false
      )
    }
    if (err) {
      o.addEventListener(
        'error',
        function (e) {
          err(null, e)
        },
        false
      )
    }
    s.parentNode.insertBefore(o, s)
  }

  var asyncLoadWithFallBack = function (arr, success, reject) {
    var currReject = function () {
      reject()
      arr.shift()
      if (arr.length) async(arr[0], success, currReject)
    }

    async(arr[0], success, currReject)
  }

  asyncLoadWithFallBack(
    [
      'https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js',
      'https://cdn.bootcss.com/webfont/1.6.28/webfontloader.js',
      "/lib/webfontloader.min.js",
    ],
    asyncCb,
    asyncErr
  )
</script>

            <img class="loading" src="/assets/loading.svg" style="display: block; margin: 6rem auto 0 auto; width: 6rem; height: 6rem;" />
            <div class="container container-unloaded">
                <main class="main post-page">
    <article class="article-entry">
        <h2 id="Introduction-to-Island-Pattern"><a href="#Introduction-to-Island-Pattern" class="headerlink" title="Introduction to Island Pattern"></a>Introduction to Island Pattern</h2><p>Many coding interview problems involve traversing 2D arrays (aka matrix or grid). The <strong>Island pattern</strong> describes all the efficient ways to traverse a matrix. This pattern will go through many problems to explain matrix traversal using <strong>Depth First Search (DFS)</strong> and <strong>Breadth First Search (BFS)</strong> approaches and their variants.</p>
<p>Let’s jump onto our first problem to develop an understanding of this pattern.</p>
<h2 id="Number-of-Islands"><a href="#Number-of-Islands" class="headerlink" title="Number of Islands"></a><strong>Number of Islands</strong></h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Top Interview 150 | <a target="_blank" rel="noopener" href="https://leetcode.com/problems/number-of-islands/">200. Number of Islands</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> </p>
<h3 id="Problem-Statement"><a href="#Problem-Statement" class="headerlink" title="Problem Statement"></a><strong>Problem Statement</strong></h3><p>Given a 2D array (i.e., a matrix) containing only 1s (land) and 0s (water), count the number of islands in it.</p>
<p>An <strong>island</strong> is a connected set of 1s (land) and is surrounded by either an edge or 0s (water). Each cell is considered connected to other cells horizontally or vertically (not diagonally).</p>
<p><strong>Example 1</strong></p>
<p><strong>Input</strong>: matrix =</p>
<p><img src="/13-pattern-island-matrix-traversal/index/1.png"></p>
<p><strong>Output</strong>: 1<br><strong>Explanation</strong>: The matrix has only one island. See the highlighted cells below.</p>
<p><img src="/13-pattern-island-matrix-traversal/index/2.png"></p>
<p><strong>Example 2</strong></p>
<p><strong>Input</strong>: matrix =</p>
<p><img src="/13-pattern-island-matrix-traversal/index/3.png"></p>
<p><strong>Output</strong>: 3<br><strong>Explanation</strong>: The matrix has three islands. See the highlighted cells below.</p>
<p><img src="/13-pattern-island-matrix-traversal/index/4.png"></p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>m == matrix.length</code></li>
<li><code>n == matrix[i].length</code></li>
<li><code>1 &lt;= m, n &lt;= 300</code></li>
<li><code>matrix[i][j] is &#39;0&#39; or &#39;1&#39;.</code></li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a><strong>Solution</strong></h3><p>We can traverse the matrix linearly to find islands.</p>
<p>Whenever we find a cell with the value ‘1’ (i.e., land), we have found an island. Using that cell as the root node, we will perform a <strong>Depth First Search (DFS)</strong> or <strong>Breadth First Search (BFS)</strong> to find all of its connected land cells. During our DFS or BFS traversal, we will find and mark all the horizontally and vertically connected land cells. </p>
<p>We need to have a mechanism to mark each land cell to ensure that each land cell is visited only once. To mark a cell visited, we have two options:</p>
<ol>
<li>We can update the given input matrix. Whenever we see a ‘1’, we will make it ‘0’.</li>
<li>A separate boolean matrix can be used to record whether or not each cell has been visited. </li>
</ol>
<p>Following is the DFS or BFS traversal of the example-2 mentioned above:</p>
<p><img src="/13-pattern-island-matrix-traversal/index/5.png"></p>
<p>By following the above algorithm, every time DFS or BFS is triggered, we are sure that we have found an island. We will keep a running count to calculate the total number of islands.</p>
<p>Below, we will see three solutions based on:</p>
<ol>
<li>DFS</li>
<li>BFS</li>
<li>BFS with visited matrix</li>
</ol>
<h3 id="Code-DFS"><a href="#Code-DFS" class="headerlink" title="Code (DFS)"></a><strong>Code (DFS)</strong></h3><p>Here is what our DFS algorithm will look like. We will update the input matrix to mark cells visited.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dfs一般使用stack或者递归</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">countIslands</span>(<span class="params">self, matrix</span>):</span></span><br><span class="line">      rows = <span class="built_in">len</span>(matrix)</span><br><span class="line">      cols = <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">      totalIslands = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">          <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">              <span class="keyword">if</span> (matrix[i][j] == <span class="number">1</span>):  <span class="comment"># only if the cell is a land</span></span><br><span class="line">                  <span class="comment"># we have found an island</span></span><br><span class="line">                  totalIslands += <span class="number">1</span></span><br><span class="line">                  self.visit_is_land_DFS(matrix, i, j)</span><br><span class="line">      <span class="keyword">return</span> totalIslands</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">visit_is_land_DFS</span>(<span class="params">self, matrix,  x,  y</span>):</span></span><br><span class="line">      <span class="keyword">if</span> (x &lt; <span class="number">0</span> <span class="keyword">or</span> x &gt;= <span class="built_in">len</span>(matrix) <span class="keyword">or</span> y &lt; <span class="number">0</span> <span class="keyword">or</span> y &gt;= <span class="built_in">len</span>(matrix[<span class="number">0</span>])):</span><br><span class="line">          <span class="keyword">return</span>  <span class="comment"># return, if it is not a valid cell</span></span><br><span class="line">      <span class="keyword">if</span> (matrix[x][y] == <span class="number">0</span>):</span><br><span class="line">          <span class="keyword">return</span>  <span class="comment"># return, if it is a water cell</span></span><br><span class="line"></span><br><span class="line">      matrix[x][y] = <span class="number">0</span>  <span class="comment"># mark the cell visited by making it a water cell</span></span><br><span class="line"></span><br><span class="line">      <span class="comment"># recursively visit all neighboring cells (horizontally &amp; vertically)</span></span><br><span class="line">      self.visit_is_land_DFS(matrix, x + <span class="number">1</span>, y)  <span class="comment"># lower cell</span></span><br><span class="line">      self.visit_is_land_DFS(matrix, x - <span class="number">1</span>, y)  <span class="comment"># upper cell</span></span><br><span class="line">      self.visit_is_land_DFS(matrix, x, y + <span class="number">1</span>)  <span class="comment"># right cell</span></span><br><span class="line">      self.visit_is_land_DFS(matrix, x, y - <span class="number">1</span>)  <span class="comment"># left cell</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">  sol = Solution()</span><br><span class="line">  <span class="built_in">print</span>(sol.countIslands([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>], [</span><br><span class="line">        <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]]))</span><br><span class="line">  <span class="built_in">print</span>(sol.countIslands([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>], [</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>Time Complexity</strong><br>Time complexity of the above algorithm will be <strong><em>O(M \</em> N)*</strong>, where ‘M’ is the number of rows and ‘N’ is the number of columns of the input matrix. This is due to the fact that we have to traverse the whole matrix to find the islands.</p>
<p><strong>Space Complexity</strong><br>DFS recursion stack can go <strong><em>O(M \</em> N)*</strong> deep when the whole matrix is filled with ‘1’s. Hence, the space complexity will be <strong><em>O(M \</em> N)*</strong> , where ‘M’ is the number of rows and ‘N’ is the number of columns of the input matrix.</p>
<h3 id="Code-DFS-DFS-with-visited-matrix"><a href="#Code-DFS-DFS-with-visited-matrix" class="headerlink" title="Code (DFS) (DFS with visited matrix)"></a><strong>Code (DFS)</strong> (DFS with visited matrix)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 过leetcode</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countIslands</span>(<span class="params">self, matrix</span>):</span></span><br><span class="line">        rows = <span class="built_in">len</span>(matrix)</span><br><span class="line">        cols = <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">        totalIslands = <span class="number">0</span></span><br><span class="line">        visited = [[<span class="literal">False</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(cols)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(rows)]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">                <span class="keyword">if</span> (matrix[i][j] == <span class="number">1</span> <span class="keyword">and</span> <span class="keyword">not</span> visited[i][j]):  <span class="comment"># only if the cell is a land</span></span><br><span class="line">                    <span class="comment"># we have found an island</span></span><br><span class="line">                    totalIslands += <span class="number">1</span></span><br><span class="line">                    self.visit_is_land_DFS(matrix, visited, i, j)</span><br><span class="line">        <span class="keyword">return</span> totalIslands</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">visit_is_land_DFS</span>(<span class="params">self, matrix, visited, x, y</span>):</span></span><br><span class="line">        stack = deque()</span><br><span class="line">        stack.append((x, y))</span><br><span class="line">        <span class="comment"># stack = deque([(x, y)]) # 这一行可以代替上面两行</span></span><br><span class="line">        <span class="keyword">while</span> stack:</span><br><span class="line">            x, y = stack.pop()</span><br><span class="line">            <span class="keyword">if</span> (x &lt; <span class="number">0</span> <span class="keyword">or</span> x &gt;= <span class="built_in">len</span>(matrix) <span class="keyword">or</span> y &lt; <span class="number">0</span> <span class="keyword">or</span> y &gt;= <span class="built_in">len</span>(matrix[<span class="number">0</span>])):</span><br><span class="line">                <span class="keyword">continue</span>  <span class="comment"># continue, if it is not a valid cell</span></span><br><span class="line">            <span class="keyword">if</span> (visited[x][y] <span class="keyword">or</span> matrix[x][y] == <span class="number">0</span>):</span><br><span class="line">                <span class="keyword">continue</span>  <span class="comment"># continue if the cell is water or visited</span></span><br><span class="line"></span><br><span class="line">            visited[x][y] = <span class="literal">True</span>  <span class="comment"># mark the cell visited by making it a water cell</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># recursively visit all neighboring cells (horizontally &amp; vertically)</span></span><br><span class="line">            stack.append((x + <span class="number">1</span>, y))  <span class="comment"># lower cell</span></span><br><span class="line">            stack.append((x - <span class="number">1</span>, y))  <span class="comment"># upper cell</span></span><br><span class="line">            stack.append((x, y + <span class="number">1</span>))  <span class="comment"># right cell</span></span><br><span class="line">            stack.append((x, y - <span class="number">1</span>))  <span class="comment"># left cell</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    sol = Solution()</span><br><span class="line">    <span class="built_in">print</span>(sol.countIslands([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>], [</span><br><span class="line">        <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]]))</span><br><span class="line">    <span class="built_in">print</span>(sol.countIslands([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>], [</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Code-BFS"><a href="#Code-BFS" class="headerlink" title="Code (BFS)"></a><strong>Code (BFS)</strong></h3><p>Here is what our BFS algorithm will look like. We will update the input matrix to mark cells visited.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># BFS一般使用queue,很少见递归</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">count_is_lands_BFS</span>(<span class="params">self, matrix</span>):</span></span><br><span class="line">      rows = <span class="built_in">len</span>(matrix)</span><br><span class="line">      cols = <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">      totalIslands = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">          <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">              <span class="keyword">if</span> (matrix[i][j] == <span class="number">1</span>):  <span class="comment"># only if the cell is a land</span></span><br><span class="line">                  <span class="comment"># we have found an island</span></span><br><span class="line">                  totalIslands += <span class="number">1</span></span><br><span class="line">                  self.visit_is_land_BFS(matrix, i, j)</span><br><span class="line">      <span class="keyword">return</span> totalIslands</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">visit_is_land_BFS</span>(<span class="params">self, matrix,  x,  y</span>):</span></span><br><span class="line">      neighbors = deque([(x, y)])</span><br><span class="line">      <span class="keyword">while</span> neighbors:</span><br><span class="line">          row, col = neighbors.popleft()</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span> row &lt; <span class="number">0</span> <span class="keyword">or</span> row &gt;= <span class="built_in">len</span>(matrix) <span class="keyword">or</span> col &lt; <span class="number">0</span> <span class="keyword">or</span> col &gt;= <span class="built_in">len</span>(matrix[<span class="number">0</span>]):</span><br><span class="line">              <span class="keyword">continue</span>  <span class="comment"># continue, if it is not a valid cell</span></span><br><span class="line">          <span class="keyword">if</span> matrix[row][col] == <span class="number">0</span>:</span><br><span class="line">              <span class="keyword">continue</span>  <span class="comment"># continue if it is a water cell</span></span><br><span class="line"></span><br><span class="line">          matrix[row][col] = <span class="number">0</span>  <span class="comment"># mark the cell visited by making it a water cell</span></span><br><span class="line"></span><br><span class="line">          <span class="comment"># insert all neighboring cells to the queue for BFS</span></span><br><span class="line">          <span class="comment"># append元素，entend列表</span></span><br><span class="line">          neighbors.extend([(row + <span class="number">1</span>, col)])  <span class="comment"># lower cell</span></span><br><span class="line">          neighbors.extend([(row - <span class="number">1</span>, col)])  <span class="comment"># upper cell</span></span><br><span class="line">          neighbors.extend([(row, col + <span class="number">1</span>)])  <span class="comment"># right cell</span></span><br><span class="line">          neighbors.extend([(row, col - <span class="number">1</span>)])  <span class="comment"># left cell</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">  sol = Solution()</span><br><span class="line">  <span class="built_in">print</span>(sol.count_is_lands_BFS([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>], [</span><br><span class="line">        <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]]))</span><br><span class="line">  <span class="built_in">print</span>(sol.count_is_lands_BFS([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>], [</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>Time Complexity</strong><br>Time complexity of the above algorithm will be <strong>O(M * N)</strong>, where ‘M’ is the number of rows and ‘N’ is the number of columns.</p>
<p><strong>Space Complexity</strong><br>Space complexity of the above algorithm will be <strong>*O(min(M, N))</strong>. In the worst case, when the matrix is completely filled with land cells, the size of the queue can grow up to <strong><em>min(M, N)</em></strong>.</p>
<h3 id="Code-BFS-with-visited-matrix"><a href="#Code-BFS-with-visited-matrix" class="headerlink" title="Code (BFS with visited matrix)"></a><strong>Code (BFS with visited matrix)</strong></h3><p>Here is what our BFS algorithm will look like. We will keep a separate boolean matrix to record whether or not each cell has been visited.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">count_is_lands_BFS</span>(<span class="params">self, matrix</span>):</span></span><br><span class="line">      rows = <span class="built_in">len</span>(matrix)</span><br><span class="line">      cols = <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">      totalIslands = <span class="number">0</span></span><br><span class="line">      visited = [[<span class="literal">False</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(cols)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(rows)]</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">          <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">              <span class="comment"># if the cell has not been visited before and is a land</span></span><br><span class="line">              <span class="keyword">if</span> (matrix[i][j] == <span class="number">1</span> <span class="keyword">and</span> <span class="keyword">not</span> visited[i][j]):</span><br><span class="line">                  <span class="comment"># we have found an island</span></span><br><span class="line">                  totalIslands += <span class="number">1</span></span><br><span class="line">                  self.visit_is_land_BFS(matrix, visited, i, j)</span><br><span class="line">      <span class="keyword">return</span> totalIslands</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">visit_is_land_BFS</span>(<span class="params">self, matrix, visited, x,  y</span>):</span></span><br><span class="line">      neighbors = deque([(x, y)])</span><br><span class="line">      <span class="keyword">while</span> neighbors:</span><br><span class="line">          row, col = neighbors.popleft()</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span> row &lt; <span class="number">0</span> <span class="keyword">or</span> row &gt;= <span class="built_in">len</span>(matrix) <span class="keyword">or</span> col &lt; <span class="number">0</span> <span class="keyword">or</span> col &gt;= <span class="built_in">len</span>(matrix[<span class="number">0</span>]):</span><br><span class="line">              <span class="keyword">continue</span>  <span class="comment"># continue, if it is not a valid cell</span></span><br><span class="line">          <span class="keyword">if</span> matrix[row][col] == <span class="number">0</span> <span class="keyword">or</span> visited[row][col]:</span><br><span class="line">              <span class="keyword">continue</span>  <span class="comment"># continue if the cell is water or visited</span></span><br><span class="line"></span><br><span class="line">          visited[row][col] = <span class="literal">True</span> <span class="comment"># mark the visited array</span></span><br><span class="line"></span><br><span class="line">          <span class="comment"># insert all neighboring cells to the queue for BFS</span></span><br><span class="line">          <span class="comment"># append元素，entend列表</span></span><br><span class="line">          neighbors.extend([(row + <span class="number">1</span>, col)])  <span class="comment"># lower cell</span></span><br><span class="line">          neighbors.extend([(row - <span class="number">1</span>, col)])  <span class="comment"># upper cell</span></span><br><span class="line">          neighbors.extend([(row, col + <span class="number">1</span>)])  <span class="comment"># right cell</span></span><br><span class="line">          neighbors.extend([(row, col - <span class="number">1</span>)])  <span class="comment"># left cell</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">  sol = Solution()</span><br><span class="line">  <span class="built_in">print</span>(sol.count_is_lands_BFS([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>], [</span><br><span class="line">        <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]]))</span><br><span class="line">  <span class="built_in">print</span>(sol.count_is_lands_BFS([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>], [</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>Time Complexity</strong><br>Time complexity of the above algorithm will be <strong><em>O(M \</em> N)*</strong>, where ‘M’ is the number of rows and ‘N’ is the number of columns.</p>
<p><strong>Space Complexity</strong><br>Because of the visited array and max size of the queue, the space complexity will be <strong><em>O(M \</em> N)*</strong>, where ‘M’ is the number of rows and ‘N’ is the number of columns of the input matrix.</p>
<h2 id="Biggest-Island"><a href="#Biggest-Island" class="headerlink" title="Biggest Island"></a>Biggest Island</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/max-area-of-island/">695. Max Area of Island</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> </p>
<h3 id="Problem-Statement-1"><a href="#Problem-Statement-1" class="headerlink" title="Problem Statement"></a><strong>Problem Statement</strong></h3><p>Given a 2D array (i.e., a matrix) containing only 1s (land) and 0s (water), find the biggest island in it. Write a function to return the area of the biggest island. </p>
<p>An <strong>island</strong> is a connected set of 1s (land) and is surrounded by either an edge or 0s (water). Each cell is considered connected to other cells horizontally or vertically (not diagonally).</p>
<p><strong>Example 1</strong></p>
<p><strong>Input</strong>: matrix =</p>
<p><img src="/13-pattern-island-matrix-traversal/index/6.png"></p>
<p><strong>Output</strong>: 5<br><strong>Explanation</strong>: The matrix has three islands. The biggest island has 5 cells .</p>
<p><img src="/13-pattern-island-matrix-traversal/index/7.png"></p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>m == matrix.length</code></li>
<li><code>n == matrix[i].length</code></li>
<li><code>1 &lt;= m, n &lt;= 50</code></li>
<li><code>matrix[i][j] is &#39;0&#39; or &#39;1&#39;.</code></li>
</ul>
<h3 id="Solution-1"><a href="#Solution-1" class="headerlink" title="Solution"></a><strong>Solution</strong></h3><p>The question follows the Island pattern and is quite similar to Number of Islands problem.</p>
<p>We will traverse the matrix linearly to find islands.</p>
<p>Whenever we find a cell with the value ‘1’ (i.e., land), we have found an island. Using that cell as the root node, we will perform a <strong>Depth First Search (DFS)</strong> or <strong>Breadth First Search (BFS)</strong> to find all of its connected land cells. During our DFS or BFS traversal, we will find and mark all the horizontally and vertically connected land cells. </p>
<p>We will keep a variable to remember the max area of any island.</p>
<p><strong>Algorithm Walkthrough</strong></p>
<p>Here is the detailed walkthrough of the DFS algorithm:</p>
<ol>
<li>We first initialize <code>biggestIslandArea</code> to 0. This variable will keep track of the largest island’s area we have encountered so far.</li>
<li>Then, we traverse each cell in the matrix. If the cell’s value is 1 (land), we begin a DFS search from this cell using the <code>visitIslandDFS</code> function. This function will visit the cell and all its neighboring cells that are part of the same island.</li>
<li>In the <code>visitIslandDFS</code> function, we first check if the current cell (x, y) is within the boundaries of the matrix and if it’s a land cell. If it’s not, we return 0.</li>
<li>We then mark the current cell as visited by setting its value to 0 (water). This helps avoid visiting the same cell again and ending up in an infinite loop.</li>
<li>We initialize the <code>area</code> of the current island to 1 (counting the current cell), and then add to it the areas returned by the recursive DFS calls for the neighboring cells (top, bottom, left, and right).</li>
<li>After we finish the DFS for a cell (meaning we have visited all cells in the island that the cell is a part of), we update <code>biggestIslandArea</code> with the maximum of its current value and the area of the island we just finished exploring.</li>
<li>Finally, after traversing all cells in the matrix, we return <code>biggestIslandArea</code>, which now holds the area of the largest island.</li>
</ol>
<p><strong>Here is the visual representation of the algorithm:</strong></p>
<p><img src="/13-pattern-island-matrix-traversal/index/8.png"></p>
<h3 id="Code-DFS-1"><a href="#Code-DFS-1" class="headerlink" title="Code (DFS)"></a><strong>Code (DFS)</strong></h3><p>Here is what our DFS algorithm will look like. We will update the input matrix to mark nodes visited.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 官方使用的是DFS的递归，但是我比较习惯使用while</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">maxAreaOfIsland</span>(<span class="params">self, matrix</span>):</span></span><br><span class="line">      rows = <span class="built_in">len</span>(matrix)</span><br><span class="line">      cols = <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">      biggestIslandArea = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">          <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">              <span class="keyword">if</span> (matrix[i][j] == <span class="number">1</span>):  <span class="comment"># only if the cell is a land</span></span><br><span class="line">                  <span class="comment"># we have found an island</span></span><br><span class="line">                  biggestIslandArea = <span class="built_in">max</span>(</span><br><span class="line">                      biggestIslandArea, self.visit_is_land_DFS(matrix, i, j))</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> biggestIslandArea</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">visit_is_land_DFS</span>(<span class="params">self, matrix,  x,  y</span>):</span></span><br><span class="line">      <span class="keyword">if</span> (x &lt; <span class="number">0</span> <span class="keyword">or</span> x &gt;= <span class="built_in">len</span>(matrix) <span class="keyword">or</span> y &lt; <span class="number">0</span> <span class="keyword">or</span> y &gt;= <span class="built_in">len</span>(matrix[<span class="number">0</span>])):</span><br><span class="line">          <span class="keyword">return</span> <span class="number">0</span>  <span class="comment"># return, if it is not a valid cell</span></span><br><span class="line">      <span class="keyword">if</span> (matrix[x][y] == <span class="number">0</span>):</span><br><span class="line">          <span class="keyword">return</span> <span class="number">0</span>  <span class="comment"># return, if it is a water cell</span></span><br><span class="line"></span><br><span class="line">      matrix[x][y] = <span class="number">0</span>  <span class="comment"># mark the cell visited by making it a water cell</span></span><br><span class="line"></span><br><span class="line">      area = <span class="number">1</span> <span class="comment"># counting the current cell</span></span><br><span class="line">      <span class="comment"># recursively visit all neighboring cells (horizontally &amp; vertically)</span></span><br><span class="line">      area += self.visit_is_land_DFS(matrix, x + <span class="number">1</span>, y)  <span class="comment"># lower cell</span></span><br><span class="line">      area += self.visit_is_land_DFS(matrix, x - <span class="number">1</span>, y)  <span class="comment"># upper cell</span></span><br><span class="line">      area += self.visit_is_land_DFS(matrix, x, y + <span class="number">1</span>)  <span class="comment"># right cell</span></span><br><span class="line">      area += self.visit_is_land_DFS(matrix, x, y - <span class="number">1</span>)  <span class="comment"># left cell</span></span><br><span class="line">      <span class="keyword">return</span> area</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">  sol = Solution()</span><br><span class="line">  <span class="built_in">print</span>(sol.maxAreaOfIsland([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>], [</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]]))</span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 自己实现的DFS的while版本, 过了leetcode</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxAreaOfIsland</span>(<span class="params">self, matrix</span>):</span></span><br><span class="line">        rows = <span class="built_in">len</span>(matrix)</span><br><span class="line">        cols = <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">        biggestIslandArea = <span class="number">0</span></span><br><span class="line">        visited = [[<span class="literal">False</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(cols)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(rows)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">                <span class="keyword">if</span> (matrix[i][j] == <span class="number">1</span>):  <span class="comment"># only if the cell is a land</span></span><br><span class="line">                    <span class="comment"># we have found an island</span></span><br><span class="line">                    biggestIslandArea = <span class="built_in">max</span>(</span><br><span class="line">                        biggestIslandArea, self.visit_is_land_DFS(matrix, visited, i, j))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> biggestIslandArea</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">visit_is_land_DFS</span>(<span class="params">self, matrix, visited, x, y</span>):</span></span><br><span class="line">        stack = deque([(x, y)])</span><br><span class="line">        area = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> stack:</span><br><span class="line">            x, y = stack.pop()</span><br><span class="line">            <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">or</span> x &gt;= <span class="built_in">len</span>(matrix) <span class="keyword">or</span> y &lt; <span class="number">0</span> <span class="keyword">or</span> y &gt;= <span class="built_in">len</span>(matrix[<span class="number">0</span>]):</span><br><span class="line">                <span class="keyword">continue</span>  <span class="comment"># return, if it is not a valid cell</span></span><br><span class="line">            <span class="keyword">if</span> matrix[x][y] == <span class="number">0</span> <span class="keyword">or</span> visited[x][y]:</span><br><span class="line">                <span class="keyword">continue</span>  <span class="comment"># return, if it is a water cell</span></span><br><span class="line"></span><br><span class="line">            area += <span class="number">1</span></span><br><span class="line">            visited[x][y] = <span class="literal">True</span>  <span class="comment"># mark the cell visited by making it a water cell</span></span><br><span class="line">            <span class="comment"># recursively visit all neighboring cells (horizontally &amp; vertically)</span></span><br><span class="line">            stack.append((x + <span class="number">1</span>, y))  <span class="comment"># lower cell</span></span><br><span class="line">            stack.append((x - <span class="number">1</span>, y))  <span class="comment"># upper cell</span></span><br><span class="line">            stack.append((x, y + <span class="number">1</span>))  <span class="comment"># right cell</span></span><br><span class="line">            stack.append((x, y - <span class="number">1</span>))  <span class="comment"># left cell</span></span><br><span class="line">        <span class="keyword">return</span> area</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    sol = Solution()</span><br><span class="line">    <span class="built_in">print</span>(sol.maxAreaOfIsland([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>], [</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Complexity-Analysis"><a href="#Complexity-Analysis" class="headerlink" title="Complexity Analysis"></a>Complexity Analysis</h3><p><strong>Time Complexity</strong><br>Time complexity of the above algorithm will be <strong>O(M * N)</strong>, where ‘M’ is the number of rows and ‘N’ is the number of columns of the input matrix. This is due to the fact that we have to traverse the whole matrix to find islands.</p>
<p><strong>Space Complexity</strong><br>DFS recursion stack can go <strong>O(M * N)</strong> deep when the whole matrix is filled with ‘1’s. Hence, the space complexity will be <strong>O(M * N)</strong>, where ‘M’ is the number of rows and ‘N’ is the number of columns of the input matrix.</p>
<h2 id="Flood-Fill"><a href="#Flood-Fill" class="headerlink" title="Flood Fill"></a>Flood Fill</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/flood-fill/">733. Flood Fill</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> </p>
<h3 id="Problem-Statement-2"><a href="#Problem-Statement-2" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>Any image can be represented by a 2D integer array (i.e., a matrix) where each cell represents the pixel value of the image.</p>
<p>Flood fill algorithm takes a starting cell (i.e., a pixel) and a color. The given color is applied to all horizontally and vertically connected cells with the same color as that of the starting cell. Recursively, the algorithm fills cells with the new color until it encounters a cell with a different color than the starting cell.</p>
<p>Given a matrix, a starting cell, and a color, flood fill the matrix.</p>
<p><strong>Example 1</strong>:</p>
<p><strong>Input</strong>: matrix =</p>
<p><img src="/13-pattern-island-matrix-traversal/index/9.png"></p>
<p>starting cell = (1, 3)<br>new color = 2</p>
<p><strong>Output</strong>:</p>
<p><img src="/13-pattern-island-matrix-traversal/index/10.png"></p>
<p><strong>Example 2</strong>:</p>
<p><strong>Input</strong>: matrix =</p>
<p><img src="/13-pattern-island-matrix-traversal/index/11.png"></p>
<p>starting cell = (3, 2)</p>
<p>new color = 5</p>
<p><strong>Output</strong>:</p>
<p><img src="/13-pattern-island-matrix-traversal/index/12.png"></p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>m == matrix.length</code></li>
<li><code>n == - m == matrix[i].length</code></li>
<li><code>1 &lt;= m, n &lt;= 50</code></li>
<li>0 &lt;= - m == matrix[i][j], color &lt; 216</li>
<li><code>0 &lt;= x &lt; m</code></li>
<li><code>0 &lt;= y &lt; n</code></li>
</ul>
<h3 id="Solution-2"><a href="#Solution-2" class="headerlink" title="Solution"></a>Solution</h3><p>The question follows the Island pattern and is quite similar to Number of Islands problem.</p>
<p>From the given starting cell, we can perform a <strong>Depth First Search (DFS) or Breadth First Search (BFS)</strong> to find all of its connected cells with the same color. During our DFS or BFS traversal, we will update the cells with the new color.</p>
<p>Following is the DFS or BFS traversal of the example-2 mentioned above:</p>
<p><img src="/13-pattern-island-matrix-traversal/index/13.png"></p>
<h3 id="Code-DFS-2"><a href="#Code-DFS-2" class="headerlink" title="Code (DFS)"></a>Code (DFS)</h3><p>Here is what our DFS algorithm will look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 官方使用的是DFS的递归，但是我比较习惯使用while</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">floodFill</span>(<span class="params">self, matrix, x, y, newColor</span>):</span></span><br><span class="line">      <span class="keyword">if</span> matrix[x][y] != newColor:</span><br><span class="line">          self.fill_DFS(matrix, x, y, matrix[x][y], newColor)</span><br><span class="line">      <span class="keyword">return</span> matrix</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">fill_DFS</span>(<span class="params">self, matrix,  x,  y, oldColor, newColor</span>):</span></span><br><span class="line">      <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">or</span> x &gt;= <span class="built_in">len</span>(matrix) <span class="keyword">or</span> y &lt; <span class="number">0</span> <span class="keyword">or</span> y &gt;= <span class="built_in">len</span>(matrix[<span class="number">0</span>]):</span><br><span class="line">          <span class="keyword">return</span>  <span class="comment"># return, if it is not a valid cell</span></span><br><span class="line">      <span class="keyword">if</span> matrix[x][y] != oldColor:</span><br><span class="line">          <span class="keyword">return</span>  <span class="comment"># return, if it is not the required color</span></span><br><span class="line"></span><br><span class="line">      matrix[x][y] = newColor  <span class="comment"># // update the cell to the new color</span></span><br><span class="line"></span><br><span class="line">      <span class="comment"># recursively visit all neighboring cells (horizontally &amp; vertically)</span></span><br><span class="line">      self.fill_DFS(matrix, x + <span class="number">1</span>, y, oldColor, newColor)  <span class="comment"># lower cell</span></span><br><span class="line">      self.fill_DFS(matrix, x - <span class="number">1</span>, y, oldColor, newColor)  <span class="comment"># upper cell</span></span><br><span class="line">      self.fill_DFS(matrix, x, y + <span class="number">1</span>, oldColor, newColor)  <span class="comment"># right cell</span></span><br><span class="line">      self.fill_DFS(matrix, x, y - <span class="number">1</span>, oldColor, newColor)  <span class="comment"># left cell</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">  sol = Solution()</span><br><span class="line">  <span class="built_in">print</span>(sol.floodFill([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>], [</span><br><span class="line">        <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]], <span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>))</span><br><span class="line">  <span class="built_in">print</span>(sol.floodFill([[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], [</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]], <span class="number">3</span>, <span class="number">2</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 自己实现的DFS while, 过了leetcode</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">floodFill</span>(<span class="params">self, matrix, x, y, newColor</span>):</span></span><br><span class="line">        <span class="keyword">if</span> matrix[x][y] != newColor:</span><br><span class="line">            self.fill_DFS(matrix, x, y, matrix[x][y], newColor)</span><br><span class="line">        <span class="keyword">return</span> matrix</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fill_DFS</span>(<span class="params">self, matrix, x, y, oldColor, newColor</span>):</span></span><br><span class="line">        stack = deque([(x, y)])</span><br><span class="line">        <span class="keyword">while</span> stack:</span><br><span class="line">            x, y = stack.pop()</span><br><span class="line">            <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">or</span> x &gt;= <span class="built_in">len</span>(matrix) <span class="keyword">or</span> y &lt; <span class="number">0</span> <span class="keyword">or</span> y &gt;= <span class="built_in">len</span>(matrix[<span class="number">0</span>]):</span><br><span class="line">                <span class="keyword">continue</span>  <span class="comment"># continue, if it is not a valid cell</span></span><br><span class="line">            <span class="keyword">if</span> matrix[x][y] != oldColor:</span><br><span class="line">                <span class="keyword">continue</span>  <span class="comment"># continue, if it is not the required color</span></span><br><span class="line"></span><br><span class="line">            matrix[x][y] = newColor  <span class="comment"># // update the cell to the new color</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># recursively visit all neighboring cells (horizontally &amp; vertically)</span></span><br><span class="line">            stack.append((x + <span class="number">1</span>, y))  <span class="comment"># lower cell</span></span><br><span class="line">            stack.append((x - <span class="number">1</span>, y))  <span class="comment"># upper cell</span></span><br><span class="line">            stack.append((x, y + <span class="number">1</span>))  <span class="comment"># right cell</span></span><br><span class="line">            stack.append((x, y - <span class="number">1</span>))  <span class="comment"># left cell</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    sol = Solution()</span><br><span class="line">    <span class="built_in">print</span>(sol.floodFill([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>], [</span><br><span class="line">        <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]], <span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>))</span><br><span class="line">    <span class="built_in">print</span>(sol.floodFill([[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], [</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]], <span class="number">3</span>, <span class="number">2</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Time-Complexity"><a href="#Time-Complexity" class="headerlink" title="Time Complexity"></a>Time Complexity</h3><p>Time complexity the above algorithm will be <strong>O(M * N)</strong>, where ‘M’ is the number of rows and ‘N’ is the number of columns of the input matrix. This is due to the fact that, in the worst case, we might have to fill the whole matrix.</p>
<h3 id="Space-Complexity"><a href="#Space-Complexity" class="headerlink" title="Space Complexity"></a>Space Complexity</h3><p>DFS recursion stack can go <strong>O(M * N)</strong> deep when we have to fill the whole matrix. Hence, the space complexity will be <strong>O(M * N)</strong> , where ‘M’ is the number of rows and ‘N’ is the number of columns of the input matrix.</p>
<h2 id="Number-of-Closed-Islands"><a href="#Number-of-Closed-Islands" class="headerlink" title="Number of Closed Islands"></a>Number of Closed Islands</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Similar | <a target="_blank" rel="noopener" href="https://leetcode.com/problems/number-of-closed-islands/">1254. Number of Closed Islands</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> Leetcode 中 ‘0’ and ‘1’的含义反过来了，所以只要改一下这个就过了</p>
<h3 id="Problem-Statement-3"><a href="#Problem-Statement-3" class="headerlink" title="Problem Statement"></a><strong>Problem Statement</strong></h3><p>You are given a 2D matrix containing only 1s (land) and 0s (water).</p>
<p>An <strong>island</strong> is a connected set of 1s (land) and is surrounded by either an edge or 0s (water). Each cell is considered connected to other cells horizontally or vertically (not diagonally).</p>
<p>A <strong>closed island</strong> is an island that is totally surrounded by 0s (i.e., water). This means all horizontally and vertically connected cells of a closed island are water. This also means that, by definition, a closed island can’t touch an edge (as then the edge cells are not connected to any water cell).</p>
<p>Write a function to find the number of closed islands in the given matrix.</p>
<p><strong>Example 1</strong></p>
<p><strong>Input</strong>: matrix =</p>
<p><img src="/13-pattern-island-matrix-traversal/index/14.png"></p>
<p><strong>Output</strong>: 1 Explanation: The given matrix has two islands, but only the highlighted island is a closed island. The other island is touching the boundary that’s why is is not considered a closed island.</p>
<p><strong>Example 2</strong></p>
<p><strong>Input</strong>: matrix =</p>
<p><img src="/13-pattern-island-matrix-traversal/index/15.png"></p>
<p><strong>Output</strong>: 2</p>
<p><strong>Explanation</strong>: The given matrix has two islands and both of them are closed islands.</p>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= grid.length, grid[0].length &lt;= 100</code></li>
<li><code>0 &lt;= grid[i][j] &lt;=1</code></li>
</ul>
<h3 id="Solution-3"><a href="#Solution-3" class="headerlink" title="Solution"></a><strong>Solution</strong></h3><p>The question follows the Island pattern and is quite similar to Number of Islands problem.</p>
<p>We will traverse the matrix linearly to find islands. We can use the Depth First Search (DFS) or Breadth First Search (BFS) to traverse an island i.e., to find all of its connected land cells.</p>
<p>How do we decide if an island is a closed island?</p>
<p>To find that out, while traversing an island we need to ensure two things:</p>
<ol>
<li>The island does not touch an edge.</li>
<li>Outside boundary of the island are water cells.</li>
</ol>
<p>For the first condition, whenever we go outside the boundary of the matrix during DFS or BFS, it means that one of the cells of the island is touching an edge; so, the island is not closed. Following code will cover this condition:</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (x &lt; <span class="number">0</span> || x &gt;= <span class="built_in">matrix</span>.<span class="built_in">length</span> || y &lt; <span class="number">0</span> || y &gt;= <span class="built_in">matrix</span>[<span class="number">0</span>].<span class="built_in">length</span>)</span><br><span class="line">     <span class="built_in">return</span> <span class="literal">false</span>; // returning <span class="literal">false</span> since the island <span class="built_in">is</span> touching an edge</span><br></pre></td></tr></table></figure>
<p>For the second condition, we need to ensure that all the boundary cells of the island are water. Following code will take care of that:</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (matrix[x][y] == <span class="number">0</span> || visited[x][y])</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">true</span>; // <span class="keyword">returning</span> <span class="keyword">true</span> <span class="keyword">as</span> the island <span class="keyword">is</span> surrounded <span class="keyword">by</span> water</span><br></pre></td></tr></table></figure>
<p><strong>Here is the visual representation of the algorithm:</strong></p>
<p><img src="/13-pattern-island-matrix-traversal/index/16.png"></p>
<p><img src="/13-pattern-island-matrix-traversal/index/17.png"></p>
<h3 id="Code-DFS-3"><a href="#Code-DFS-3" class="headerlink" title="Code (DFS)"></a><strong>Code (DFS)</strong></h3><p>Here is what our DFS algorithm will look like. We will use a separate array to mark nodes visited.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 官方使用的是DFS的递归，但是我比较习惯使用while</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countClosedIslands</span>(<span class="params">self, matrix</span>):</span></span><br><span class="line">        rows = <span class="built_in">len</span>(matrix)</span><br><span class="line">        cols = <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">        visited = [[<span class="literal">False</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(cols)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(rows)]</span><br><span class="line">        countClosedIslands = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">                <span class="comment"># only if the cell is a land and not visited</span></span><br><span class="line">                <span class="keyword">if</span> (matrix[i][j] == <span class="number">1</span> <span class="keyword">and</span> <span class="keyword">not</span> visited[i][j]):</span><br><span class="line">                    <span class="keyword">if</span> self.is_closed_is_land_DFS(matrix, visited, i, j):</span><br><span class="line">                        countClosedIslands += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> countClosedIslands</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">is_closed_is_land_DFS</span>(<span class="params">self, matrix,  visited, x,  y</span>):</span></span><br><span class="line">        <span class="keyword">if</span> (x &lt; <span class="number">0</span> <span class="keyword">or</span> x &gt;= <span class="built_in">len</span>(matrix) <span class="keyword">or</span> y &lt; <span class="number">0</span> <span class="keyword">or</span> y &gt;= <span class="built_in">len</span>(matrix[<span class="number">0</span>])):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span>  <span class="comment"># returning false since the island is touching an edge</span></span><br><span class="line">        <span class="keyword">if</span> (matrix[x][y] == <span class="number">0</span> <span class="keyword">or</span> visited[x][y]):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span>  <span class="comment"># returning true as the island is surrounded by water</span></span><br><span class="line"></span><br><span class="line">        visited[x][y] = <span class="literal">True</span>  <span class="comment"># mark the cell visited</span></span><br><span class="line"></span><br><span class="line">        isClosed = <span class="literal">True</span></span><br><span class="line">        <span class="comment"># recursively visit all neighboring cells (horizontally &amp; vertically)</span></span><br><span class="line">        isClosed &amp;= self.is_closed_is_land_DFS(matrix, visited, x + <span class="number">1</span>, y)  <span class="comment"># lower cell</span></span><br><span class="line">        isClosed &amp;= self.is_closed_is_land_DFS(matrix, visited, x - <span class="number">1</span>, y)  <span class="comment"># upper cell</span></span><br><span class="line">        isClosed &amp;= self.is_closed_is_land_DFS(matrix, visited, x, y + <span class="number">1</span>)  <span class="comment"># right cell</span></span><br><span class="line">        isClosed &amp;= self.is_closed_is_land_DFS(matrix, visited, x, y - <span class="number">1</span>)  <span class="comment"># left cell</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> isClosed</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">  sol = Solution()</span><br><span class="line">  <span class="built_in">print</span>(sol.countClosedIslands([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], [</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]]))</span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(sol.countClosedIslands([[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [</span><br><span class="line">        <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 自己实现的DFS while，可以过leetcode</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countClosedIslands</span>(<span class="params">self, matrix</span>):</span></span><br><span class="line">        rows = <span class="built_in">len</span>(matrix)</span><br><span class="line">        cols = <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">        visited = [[<span class="literal">False</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(cols)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(rows)]</span><br><span class="line">        countClosedIslands = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">                <span class="comment"># only if the cell is a land and not visited</span></span><br><span class="line">                <span class="keyword">if</span> (matrix[i][j] == <span class="number">1</span> <span class="keyword">and</span> <span class="keyword">not</span> visited[i][j]):</span><br><span class="line">                    <span class="keyword">if</span> self.is_closed_is_land_DFS(matrix, visited, i, j):</span><br><span class="line">                        countClosedIslands += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> countClosedIslands</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">is_closed_is_land_DFS</span>(<span class="params">self, matrix, visited, x, y</span>):</span></span><br><span class="line">        is_closed = <span class="literal">True</span></span><br><span class="line">        stack = deque([(x, y)])</span><br><span class="line">        <span class="keyword">while</span> stack:</span><br><span class="line">            x, y = stack.pop()</span><br><span class="line">            <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">or</span> x &gt;= <span class="built_in">len</span>(matrix) <span class="keyword">or</span> y &lt; <span class="number">0</span> <span class="keyword">or</span> y &gt;= <span class="built_in">len</span>(matrix[<span class="number">0</span>]):</span><br><span class="line">                <span class="keyword">continue</span>  <span class="comment"># returning false since the island is touching an edge</span></span><br><span class="line">            <span class="keyword">if</span> matrix[x][y] == <span class="number">1</span> <span class="keyword">and</span> (x == <span class="number">0</span> <span class="keyword">or</span> x == <span class="built_in">len</span>(matrix) - <span class="number">1</span> <span class="keyword">or</span> y == <span class="number">0</span> <span class="keyword">or</span> y == <span class="built_in">len</span>(matrix[<span class="number">0</span>]) - <span class="number">1</span>):</span><br><span class="line">                is_closed = <span class="literal">False</span></span><br><span class="line">            <span class="keyword">if</span> matrix[x][y] == <span class="number">0</span> <span class="keyword">or</span> visited[x][y]:</span><br><span class="line">                <span class="keyword">continue</span>  <span class="comment"># returning true as the island is surrounded by water</span></span><br><span class="line"></span><br><span class="line">            visited[x][y] = <span class="literal">True</span>  <span class="comment"># mark the cell visited</span></span><br><span class="line">            <span class="comment"># recursively visit all neighboring cells (horizontally &amp; vertically)</span></span><br><span class="line">            stack.append((x + <span class="number">1</span>, y))  <span class="comment"># lower cell</span></span><br><span class="line">            stack.append((x - <span class="number">1</span>, y))  <span class="comment"># upper cell</span></span><br><span class="line">            stack.append((x, y + <span class="number">1</span>))  <span class="comment"># right cell</span></span><br><span class="line">            stack.append((x, y - <span class="number">1</span>))  <span class="comment"># left cell</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> is_closed</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    sol = Solution()</span><br><span class="line">    <span class="built_in">print</span>(sol.countClosedIslands([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], [</span><br><span class="line">        <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]]))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(sol.countClosedIslands([[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [</span><br><span class="line">        <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Time-Complexity-1"><a href="#Time-Complexity-1" class="headerlink" title="Time Complexity"></a><strong>Time Complexity</strong></h3><p>Time complexity of the above algorithm will be <strong>O(M * N)</strong>, where ‘M’ is the number of rows and ‘N’ is the number of columns of the input matrix. This is due to the fact that we have to traverse the whole matrix to find islands.</p>
<h3 id="Space-Complexity-1"><a href="#Space-Complexity-1" class="headerlink" title="Space Complexity"></a><strong>Space Complexity</strong></h3><p>DFS recursion stack can go M<em>N deep when the whole matrix is filled with ‘1’s. Hence, the space complexity will be **O(M \</em> N)**, where ‘M’ is the number of rows and ‘N’ is the number of columns of the input matrix.</p>
<h2 id="Problem-Challenge-1"><a href="#Problem-Challenge-1" class="headerlink" title="Problem Challenge 1"></a>Problem Challenge 1</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/island-perimeter/">463. Island Perimeter</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> </p>
<h3 id="Problem-Statement-4"><a href="#Problem-Statement-4" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>You are given a 2D matrix containing only 1s (land) and 0s (water).</p>
<p>An <strong>island</strong> is a connected set of 1s (land) and is surrounded by either an edge or 0s (water). Each cell is considered connected to other cells horizontally or vertically (not diagonally).</p>
<p>There are <strong>no lakes</strong> on the island, so the water inside the island is not connected to the water around it. A cell is a square with a side length of 1..</p>
<p>The given matrix has only one island, write a function to find the perimeter of that island.</p>
<p><strong>Example 1</strong></p>
<p><strong>Input</strong>: matrix =</p>
<p><img src="/13-pattern-island-matrix-traversal/index/18.png"></p>
<p><strong>Output</strong>: 14</p>
<p><strong>Explanation</strong>: The boundary of the island constitutes 14 sides.</p>
<p><strong>Example 2</strong></p>
<p><strong>Input</strong>: matrix =</p>
<p><img src="/13-pattern-island-matrix-traversal/index/19.png"></p>
<p><strong>Output</strong>: 12</p>
<p><strong>Explanation</strong>: The boundary of the island constitute 12 sides.</p>
<h3 id="Solution-4"><a href="#Solution-4" class="headerlink" title="Solution"></a>Solution</h3><p>The question follows the Island pattern and is quite similar to Number of Islands problem.</p>
<p>We will traverse the matrix linearly to find the island. We can use the <strong>Depth First Search (DFS)</strong> or <strong>Breadth First Search (BFS)</strong> to traverse the island i.e., to find all of its connected land cells.</p>
<p>How do we calculate the boundary if the island?</p>
<p>Each cell has four sides. Each side of an island cell can be shared with another cell; we can include the side in the island perimeter only if the other cell is a water.</p>
<p><img src="/13-pattern-island-matrix-traversal/index/20.png"></p>
<p>If a cell side is on boundary, we should include that side in the perimeter.</p>
<p>Following piece of code will cover these two conditions:</p>
<figure class="highlight rsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (x &lt; <span class="number">0</span> || x &gt;= <span class="keyword">matrix</span>.<span class="built_in">length</span> || y &lt; <span class="number">0</span> || y &gt;= <span class="keyword">matrix</span>[<span class="number">0</span>].<span class="built_in">length</span>)</span><br><span class="line">   <span class="keyword">return</span> <span class="number">1</span>; <span class="comment">// returning 1, since this a boundary cell initiated this DFS call</span></span><br><span class="line"> <span class="keyword">if</span> (<span class="keyword">matrix</span>[x][y] == <span class="number">0</span>)</span><br><span class="line">   <span class="keyword">return</span> <span class="number">1</span>; <span class="comment">// returning 1, because of the shared side b/w a water and a land cell</span></span><br></pre></td></tr></table></figure>
<h3 id="Code-DFS-4"><a href="#Code-DFS-4" class="headerlink" title="Code (DFS)"></a>Code (DFS)</h3><p>Here is what our DFS algorithm will look like. We will use a separate matrix to mark nodes visited.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 官方使用的是DFS的递归，但是我比较习惯使用while</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findIslandPerimeter</span>(<span class="params">self, matrix</span>):</span></span><br><span class="line">        rows = <span class="built_in">len</span>(matrix)</span><br><span class="line">        cols = <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">        visited = [[<span class="literal">False</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(cols)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(rows)]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">                <span class="comment"># only if the cell is a land and not visited</span></span><br><span class="line">                <span class="keyword">if</span> matrix[i][j] == <span class="number">1</span> <span class="keyword">and</span> <span class="keyword">not</span> visited[i][j]:</span><br><span class="line">                    <span class="keyword">return</span> self.is_land_perimeter_DFS(matrix, visited, i, j)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">is_land_perimeter_DFS</span>(<span class="params">self, matrix, visited, x, y</span>):</span></span><br><span class="line">        <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">or</span> x &gt;= <span class="built_in">len</span>(matrix) <span class="keyword">or</span> y &lt; <span class="number">0</span> <span class="keyword">or</span> y &gt;= <span class="built_in">len</span>(matrix[<span class="number">0</span>]):</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>  <span class="comment"># returning 1, since this a boundary cell initiated this DFS call</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> matrix[x][y] == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>  <span class="comment"># returning 1, because of the shared side b/w a water and a land cell</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> visited[x][y]:  <span class="comment"># 到这一步的时候，matrix[x][y]已经是1了</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>  <span class="comment"># we have already taken care of this cell</span></span><br><span class="line"></span><br><span class="line">        visited[x][y] = <span class="literal">True</span>  <span class="comment"># mark the cell visited</span></span><br><span class="line"></span><br><span class="line">        edgeCount = <span class="number">0</span></span><br><span class="line">        <span class="comment"># recursively visit all neighboring cells (horizontally &amp; vertically)</span></span><br><span class="line">        edgeCount += self.is_land_perimeter_DFS(matrix, visited, x + <span class="number">1</span>, y)  <span class="comment"># lower cell</span></span><br><span class="line">        edgeCount += self.is_land_perimeter_DFS(matrix, visited, x - <span class="number">1</span>, y)  <span class="comment"># upper cell</span></span><br><span class="line">        edgeCount += self.is_land_perimeter_DFS(matrix, visited, x, y + <span class="number">1</span>)  <span class="comment"># right cell</span></span><br><span class="line">        edgeCount += self.is_land_perimeter_DFS(matrix, visited, x, y - <span class="number">1</span>)  <span class="comment"># left cell</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> edgeCount</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    sol = Solution()</span><br><span class="line">    <span class="built_in">print</span>(sol.findIslandPerimeter([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                   [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                   [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                   [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                   [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]]))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(sol.findIslandPerimeter([[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                   [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                   [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                   [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">                                   [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 自己实现的DFS while，可以过leetcode</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findIslandPerimeter</span>(<span class="params">self, matrix</span>):</span></span><br><span class="line">        rows = <span class="built_in">len</span>(matrix)</span><br><span class="line">        cols = <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">        visited = [[<span class="literal">False</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(cols)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(rows)]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">                <span class="comment"># only if the cell is a land and not visited</span></span><br><span class="line">                <span class="keyword">if</span> matrix[i][j] == <span class="number">1</span> <span class="keyword">and</span> <span class="keyword">not</span> visited[i][j]:</span><br><span class="line">                    <span class="keyword">return</span> self.is_land_perimeter_DFS(matrix, visited, i, j)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">is_land_perimeter_DFS</span>(<span class="params">self, matrix, visited, x, y</span>):</span></span><br><span class="line">        stack = deque([(x, y)])</span><br><span class="line">        edge_count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> stack:</span><br><span class="line">            x, y = stack.pop()</span><br><span class="line">            <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">or</span> x &gt;= <span class="built_in">len</span>(matrix) <span class="keyword">or</span> y &lt; <span class="number">0</span> <span class="keyword">or</span> y &gt;= <span class="built_in">len</span>(matrix[<span class="number">0</span>]):</span><br><span class="line">                edge_count += <span class="number">1</span>  <span class="comment"># returning 1, since this a boundary cell initiated this DFS call</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> matrix[x][y] == <span class="number">0</span>:</span><br><span class="line">                edge_count += <span class="number">1</span>  <span class="comment"># returning 1, because of the shared side b/w a water and a land cell</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> visited[x][y]:  <span class="comment"># 到这一步的时候，matrix[x][y]已经是1了</span></span><br><span class="line">                <span class="keyword">continue</span>  <span class="comment"># we have already taken care of this cell</span></span><br><span class="line"></span><br><span class="line">            visited[x][y] = <span class="literal">True</span>  <span class="comment"># mark the cell visited</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># recursively visit all neighboring cells (horizontally &amp; vertically)</span></span><br><span class="line">            stack.append((x + <span class="number">1</span>, y))  <span class="comment"># lower cell</span></span><br><span class="line">            stack.append((x - <span class="number">1</span>, y))  <span class="comment"># upper cell</span></span><br><span class="line">            stack.append((x, y + <span class="number">1</span>))  <span class="comment"># right cell</span></span><br><span class="line">            stack.append((x, y - <span class="number">1</span>))  <span class="comment"># left cell</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> edge_count</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    sol = Solution()</span><br><span class="line">    <span class="built_in">print</span>(sol.findIslandPerimeter([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                   [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                   [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                   [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                   [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]]))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(sol.findIslandPerimeter([[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                   [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                   [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                   [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">                                   [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Time-Complexity-2"><a href="#Time-Complexity-2" class="headerlink" title="Time Complexity"></a>Time Complexity</h3><p>Time complexity of the above algorithm will be <strong>O(M * N)</strong>, where ‘M’ is the number of rows and ‘N’ is the number of columns of the input matrix. This is due to the fact that we have to traverse the whole matrix to find the island.</p>
<h3 id="Space-Complexity-2"><a href="#Space-Complexity-2" class="headerlink" title="Space Complexity"></a>Space Complexity</h3><p>DFS recursion stack can go <strong>O(M * N)</strong> deep when the whole matrix is filled with ‘1’s. Hence, the space complexity will be <strong>O(M * N)</strong>, where ‘M’ is the number of rows and ‘N’ is the number of columns of the input matrix.</p>
<h2 id="Problem-Challenge-2"><a href="#Problem-Challenge-2" class="headerlink" title="Problem Challenge 2"></a>Problem Challenge 2</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/number-of-distinct-islands/description/">Leetcode 会员</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> </p>
<h3 id="Problem-Statement-5"><a href="#Problem-Statement-5" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>You are given a 2D matrix containing only 1s (land) and 0s (water).</p>
<p>An <strong>island</strong> is a connected set of 1s (land) and is surrounded by either an edge or 0s (water). Each cell is considered connected to other cells horizontally or vertically (not diagonally).</p>
<p>Two islands are considered the same if and only if they can be translated (not rotated or reflected) to equal each other.</p>
<p>Write a function to find the number of distinct islands in the given matrix.</p>
<p><strong>Example 1</strong></p>
<p><strong>Input</strong>: matrix =</p>
<p><img src="/13-pattern-island-matrix-traversal/index/21.png"></p>
<p><strong>Output</strong>: 2</p>
<p><strong>Explanation</strong>: There are four islands in the given matrix, but three of them are the same; hence, there are only two distinct islands.</p>
<p><strong>Example 2</strong></p>
<p><strong>Input</strong>: matrix =</p>
<p><img src="/13-pattern-island-matrix-traversal/index/22.png"></p>
<p><strong>Output</strong>: 2</p>
<p><strong>Explanation</strong>: There are three islands in the given matrix, but two of them are the same; hence, there are only two distinct islands.</p>
<h3 id="Solution-5"><a href="#Solution-5" class="headerlink" title="Solution"></a>Solution</h3><p>The question follows the Island pattern and is quite similar to Number of Islands problem.</p>
<p>We will traverse the matrix linearly to find islands. We can use the <strong>Depth First Search (DFS)</strong> or <strong>Breadth First Search (BFS)</strong> to traverse an island i.e., to find all of its connected land cells.</p>
<p>How do we decide if two islands are same?</p>
<p>If two islands are same, their traversal path should be same too. This means, if we perform a DFS or BFS on two equal islands starting from their top-left cell, the traversal pattern should be exactly same for both the islands. For example, here is the DFS traversal of the example-2 mentioned above:</p>
<p><img src="/13-pattern-island-matrix-traversal/index/23.png"></p>
<p>We can clearly see that the two equal islands have same traversal pattern.</p>
<p>We can utilize this fact to develop an algorithm.</p>
<p>While traversing an island, we can construct a string that maps the traversal path of the island. For example, here is the DFS traversal of the two same islands mentioned in Example-2 ( ‘R’ for right move, ‘D’ for down move, ‘O’ for origin denoting the start): <strong>ORDR</strong></p>
<p>We can start inserting these traversal strings of each island in a HashSet. This will ensure that we will not have any duplicate traversal string in the HashSet, thus giving us distinct islands. When we finish traversing the matrix, the HashSet will contain the distinct traversal path of all islands. Hence, the total number of elements in the HashSet will be equal to distinct number of islands.</p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><p>Here is the code for this algorithm:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 官方使用的是DFS的递归，但是我比较习惯使用while</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findDistinctIslandsDFS</span>(<span class="params">self, matrix</span>):</span></span><br><span class="line">        rows = <span class="built_in">len</span>(matrix)</span><br><span class="line">        cols = <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">        visited = [[<span class="literal">False</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(cols)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(rows)]</span><br><span class="line">        islandsSet = <span class="built_in">set</span>()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">                <span class="comment"># only if the cell is a land and not visited</span></span><br><span class="line">                <span class="keyword">if</span> (matrix[i][j] == <span class="number">1</span> <span class="keyword">and</span> <span class="keyword">not</span> visited[i][j]):</span><br><span class="line">                    traversal = self.traverse_is_land_DFS(matrix, visited, i, j, <span class="string">&quot;O&quot;</span>);  <span class="comment"># origin</span></span><br><span class="line">                    islandsSet.add(traversal)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(islandsSet)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">traverse_is_land_DFS</span>(<span class="params">self, matrix, visited, x, y, direction</span>):</span></span><br><span class="line">        <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">or</span> x &gt;= <span class="built_in">len</span>(matrix) <span class="keyword">or</span> y &lt; <span class="number">0</span> <span class="keyword">or</span> y &gt;= <span class="built_in">len</span>(matrix[<span class="number">0</span>]):</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>  <span class="comment"># return if it is not a valid cell</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> matrix[x][y] == <span class="number">0</span> <span class="keyword">or</span> visited[x][y]:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>  <span class="comment"># return if it is a water cell or is visited</span></span><br><span class="line"></span><br><span class="line">        visited[x][y] = <span class="literal">True</span>  <span class="comment"># mark the cell visited</span></span><br><span class="line"></span><br><span class="line">        islandTraversal = direction</span><br><span class="line">        <span class="comment"># recursively visit all neighboring cells (horizontally &amp; vertically)</span></span><br><span class="line">        islandTraversal += self.traverse_is_land_DFS(matrix, visited, x + <span class="number">1</span>, y, <span class="string">&quot;D&quot;</span>)  <span class="comment"># down</span></span><br><span class="line">        islandTraversal += self.traverse_is_land_DFS(matrix, visited, x - <span class="number">1</span>, y, <span class="string">&quot;U&quot;</span>)  <span class="comment"># up</span></span><br><span class="line">        islandTraversal += self.traverse_is_land_DFS(matrix, visited, x, y + <span class="number">1</span>, <span class="string">&quot;R&quot;</span>)  <span class="comment"># right</span></span><br><span class="line">        islandTraversal += self.traverse_is_land_DFS(matrix, visited, x, y - <span class="number">1</span>, <span class="string">&quot;L&quot;</span>)  <span class="comment"># left</span></span><br><span class="line"></span><br><span class="line">        islandTraversal += <span class="string">&quot;B&quot;</span>  <span class="comment"># back</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> islandTraversal</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    sol = Solution()</span><br><span class="line">    <span class="built_in">print</span>(sol.findDistinctIslandsDFS([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                                      [<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                                      [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                      [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">                                      [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>]]))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(sol.findDistinctIslandsDFS([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">                                      [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">                                      [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                      [<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                      [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>]]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 自己实现的DFS while，可以过leetcode</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findDistinctIslandsDFS</span>(<span class="params">self, matrix</span>):</span></span><br><span class="line">        rows = <span class="built_in">len</span>(matrix)</span><br><span class="line">        cols = <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">        visited = [[<span class="literal">False</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(cols)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(rows)]</span><br><span class="line">        islandsSet = <span class="built_in">set</span>()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">                <span class="comment"># only if the cell is a land and not visited</span></span><br><span class="line">                <span class="keyword">if</span> (matrix[i][j] == <span class="number">1</span> <span class="keyword">and</span> <span class="keyword">not</span> visited[i][j]):</span><br><span class="line">                    traversal = self.traverse_is_land_DFS(matrix, visited, i, j, <span class="string">&quot;O&quot;</span>);  <span class="comment"># origin</span></span><br><span class="line">                    islandsSet.add(traversal)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(islandsSet)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">traverse_is_land_DFS</span>(<span class="params">self, matrix, visited, x, y, direction</span>):</span></span><br><span class="line">        stack = deque([(x, y, direction)])</span><br><span class="line">        islandTraversal = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">while</span> stack:</span><br><span class="line">            x, y, direction = stack.pop()</span><br><span class="line">            <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">or</span> x &gt;= <span class="built_in">len</span>(matrix) <span class="keyword">or</span> y &lt; <span class="number">0</span> <span class="keyword">or</span> y &gt;= <span class="built_in">len</span>(matrix[<span class="number">0</span>]):</span><br><span class="line">                <span class="keyword">continue</span>  <span class="comment"># return if it is not a valid cell</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> matrix[x][y] == <span class="number">0</span> <span class="keyword">or</span> visited[x][y]:</span><br><span class="line">                <span class="keyword">continue</span>  <span class="comment"># return if it is a water cell or is visited</span></span><br><span class="line"></span><br><span class="line">            visited[x][y] = <span class="literal">True</span>  <span class="comment"># mark the cell visited</span></span><br><span class="line">            islandTraversal += direction</span><br><span class="line">            <span class="comment"># recursively visit all neighboring cells (horizontally &amp; vertically)</span></span><br><span class="line">            stack.append((x + <span class="number">1</span>, y, <span class="string">&quot;D&quot;</span>))  <span class="comment"># down</span></span><br><span class="line">            stack.append((x - <span class="number">1</span>, y, <span class="string">&quot;U&quot;</span>))  <span class="comment"># up</span></span><br><span class="line">            stack.append((x, y + <span class="number">1</span>, <span class="string">&quot;R&quot;</span>))  <span class="comment"># right</span></span><br><span class="line">            stack.append((x, y - <span class="number">1</span>, <span class="string">&quot;L&quot;</span>))  <span class="comment"># left</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> islandTraversal</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    sol = Solution()</span><br><span class="line">    <span class="built_in">print</span>(sol.findDistinctIslandsDFS([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                                      [<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                                      [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                      [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">                                      [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>]]))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(sol.findDistinctIslandsDFS([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">                                      [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">                                      [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                      [<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                                      [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>]]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Time-Complexity-3"><a href="#Time-Complexity-3" class="headerlink" title="Time Complexity"></a><strong>Time Complexity</strong></h3><p>Time complexity of the above algorithm will be <strong>O(M * N)</strong>, where ‘M’ is the number of rows and ‘N’ is the number of columns of the input matrix. This is due to the fact that we have to traverse the whole matrix to find islands.</p>
<h3 id="Space-Complexity-3"><a href="#Space-Complexity-3" class="headerlink" title="Space Complexity"></a><strong>Space Complexity</strong></h3><p>DFS recursion stack can go M<em>N deep when the whole matrix is filled with ‘1’s. Hence, the space complexity will be **O(M \</em> N)**, where ‘M’ is the number of rows and ‘N’ is the number of columns of the input matrix.</p>
<h2 id="Problem-Challenge-3"><a href="#Problem-Challenge-3" class="headerlink" title="Problem Challenge 3"></a>Problem Challenge 3</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/detect-cycles-in-2d-grid/">1559. Detect Cycles in 2D Grid</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> </p>
<h3 id="Problem-Statement-6"><a href="#Problem-Statement-6" class="headerlink" title="Problem Statement"></a><strong>Problem Statement</strong></h3><p>You are given a 2D matrix containing different characters, you need to find if there exists any cycle consisting of the same character in the matrix.</p>
<p>A <strong>cycle</strong> is a path in the matrix that starts and ends at the same cell and has <strong>four or more cells</strong>. From a given cell, you can move to one of the cells adjacent to it - in one of the four directions (up, down, left, or right), if it has the <strong>same character value</strong> of the current cell.</p>
<p>Write a function to find if the matrix has a cycle.</p>
<p><strong>Example 1</strong></p>
<p><strong>Input</strong>: matrix =</p>
<p><img src="/13-pattern-island-matrix-traversal/index/24.png"></p>
<p><strong>Output</strong>: true</p>
<p><strong>Explanation</strong>: The given matrix has a cycle as shown below:</p>
<p><img src="/13-pattern-island-matrix-traversal/index/25.png"></p>
<p><strong>Example 2</strong></p>
<p><strong>Input</strong>: matrix =</p>
<p><img src="/13-pattern-island-matrix-traversal/index/26.png"></p>
<p><strong>Output</strong>: true</p>
<p><strong>Explanation</strong>: The given matrix has one cycle as shown below:</p>
<p><img src="/13-pattern-island-matrix-traversal/index/27.png"></p>
<p><strong>Example 3</strong></p>
<p><strong>Input</strong>: matrix =</p>
<p><strong>Output</strong>: false</p>
<p><strong>Explanation</strong>: The given matrix has no cycle.</p>
<p><img src="/13-pattern-island-matrix-traversal/index/28.png"></p>
<p><strong>Constraints:</strong></p>
<ul>
<li>m == matrix.length</li>
<li>n == matrix[i].length</li>
<li>1 &lt;= m, n &lt;= 500</li>
<li>matrix[i][j] is ‘0’ or ‘1’.</li>
</ul>
<h3 id="Solution-6"><a href="#Solution-6" class="headerlink" title="Solution"></a>Solution</h3><p>The question follows the Island pattern and is quite similar to Number of Islands problem.</p>
<p>We will traverse the matrix linearly to find any cycle. Each cycle is like an island having cells containing same values. Hence, we can use the <strong>Depth First Search (DFS)</strong> or <strong>Breadth First Search (BFS)</strong> to traverse a cycle i.e., to find all of its connected cells with the same value.</p>
<p>Our approach for traversing the matrix will be similar to the one we used when searching for islands. We will keep another matrix to remember the cells that we have visited. From any given cell, we can perform DFS to traverse all the neighboring cells having the same character value.</p>
<p>Whenever we reach a cell that have already been visited, we can conclude that we have found a cycle. This also means that we need to be careful to not start traversing the parent cell and wrongly finding a cycle. That is, while traversing, when initiating DFS recursive calls to all the neighboring cell, we should not start a DFS call to the pervious cell, <strong>Here is the visual representation of the algorithm:</strong></p>
<p><img src="/13-pattern-island-matrix-traversal/index/29.png"></p>
<h3 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h3><p>Here is the code for this algorithm:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 官方使用的是DFS的递归，但是我比较习惯使用while</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hasCycle</span>(<span class="params">self, matrix</span>):</span></span><br><span class="line">        rows = <span class="built_in">len</span>(matrix)</span><br><span class="line">        cols = <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">        visited = [[<span class="literal">False</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(cols)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(rows)]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">not</span> visited[i][j]):  <span class="comment"># only if the cell is not visited</span></span><br><span class="line">                    <span class="keyword">if</span> (self.contains_cycle_DFS(matrix, visited, matrix[i][j], i, j, -<span class="number">1</span>, -<span class="number">1</span>)):</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">contains_cycle_DFS</span>(<span class="params">self, matrix, visited, startChar, x,  y, prevX, prevY</span>):</span></span><br><span class="line">        <span class="keyword">if</span> (x &lt; <span class="number">0</span> <span class="keyword">or</span> x &gt;= <span class="built_in">len</span>(matrix) <span class="keyword">or</span> y &lt; <span class="number">0</span> <span class="keyword">or</span> y &gt;= <span class="built_in">len</span>(matrix[<span class="number">0</span>])):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span>  <span class="comment"># not a valid cell</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (matrix[x][y] != startChar):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span>  <span class="comment"># different character which means a different island</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (visited[x][y]):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span>  <span class="comment"># found a cycle, as we are visiting an already visited valid cell</span></span><br><span class="line"></span><br><span class="line">        visited[x][y] = <span class="literal">True</span>  <span class="comment"># mark the cell visited</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># recursively visit all neighboring cells (horizontally &amp; vertically)</span></span><br><span class="line">        <span class="keyword">if</span> (x + <span class="number">1</span> != prevX <span class="keyword">and</span> self.contains_cycle_DFS(matrix, visited, startChar, x + <span class="number">1</span>, y, x, y)): <span class="comment"># down</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">if</span> (x - <span class="number">1</span> != prevX <span class="keyword">and</span> self.contains_cycle_DFS(matrix, visited, startChar, x - <span class="number">1</span>, y, x, y)): <span class="comment"># up</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">if</span> (y + <span class="number">1</span> != prevY <span class="keyword">and</span> self.contains_cycle_DFS(matrix, visited, startChar, x, y + <span class="number">1</span>, x, y)): <span class="comment"># right</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">if</span> (y - <span class="number">1</span> != prevY <span class="keyword">and</span> self.contains_cycle_DFS(matrix, visited, startChar, x, y - <span class="number">1</span>, x, y)): <span class="comment"># left</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    sol = Solution()</span><br><span class="line">    <span class="built_in">print</span>(sol.hasCycle([[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>],</span><br><span class="line">                    [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span>],</span><br><span class="line">                    [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span>],</span><br><span class="line">                    [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>]]))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(sol.hasCycle([[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>],</span><br><span class="line">                    [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>],</span><br><span class="line">                    [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>],</span><br><span class="line">                    [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]]))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(sol.hasCycle([[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;b&#x27;</span>],</span><br><span class="line">                    [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;b&#x27;</span>],</span><br><span class="line">                    [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>],</span><br><span class="line">                    [<span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 自己实现的DFS while，可以过leetcode</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hasCycle</span>(<span class="params">self, matrix</span>):</span></span><br><span class="line">        rows = <span class="built_in">len</span>(matrix)</span><br><span class="line">        cols = <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">        visited = [[<span class="literal">False</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(cols)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(rows)]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> visited[i][j]:  <span class="comment"># only if the cell is not visited</span></span><br><span class="line">                    <span class="keyword">if</span> self.contains_cycle_DFS(matrix, visited, matrix[i][j], i, j, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">contains_cycle_DFS</span>(<span class="params">self, matrix, visited, startChar, x, y, prevX, prevY</span>):</span></span><br><span class="line">        stack = deque([(x, y, prevX, prevY)])</span><br><span class="line">        <span class="keyword">while</span> stack:</span><br><span class="line">            x, y, prevX, prevY = stack.pop()</span><br><span class="line">            <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">or</span> x &gt;= <span class="built_in">len</span>(matrix) <span class="keyword">or</span> y &lt; <span class="number">0</span> <span class="keyword">or</span> y &gt;= <span class="built_in">len</span>(matrix[<span class="number">0</span>]):</span><br><span class="line">                <span class="keyword">continue</span>  <span class="comment"># not a valid cell</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> matrix[x][y] != startChar:</span><br><span class="line">                <span class="keyword">continue</span>  <span class="comment"># different character which means a different island</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> visited[x][y]:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span>  <span class="comment"># found a cycle, as we are visiting an already visited valid cell</span></span><br><span class="line"></span><br><span class="line">            visited[x][y] = <span class="literal">True</span>  <span class="comment"># mark the cell visited</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># recursively visit all neighboring cells (horizontally &amp; vertically)</span></span><br><span class="line">            <span class="keyword">if</span> x + <span class="number">1</span> != prevX:</span><br><span class="line">                stack.append((x + <span class="number">1</span>, y, x, y))  <span class="comment"># down</span></span><br><span class="line">            <span class="keyword">if</span> x - <span class="number">1</span> != prevX:</span><br><span class="line">                stack.append((x - <span class="number">1</span>, y, x, y))  <span class="comment"># up</span></span><br><span class="line">            <span class="keyword">if</span> y + <span class="number">1</span> != prevY:</span><br><span class="line">                stack.append((x, y + <span class="number">1</span>, x, y))  <span class="comment"># right</span></span><br><span class="line">            <span class="keyword">if</span> y - <span class="number">1</span> != prevY:</span><br><span class="line">                stack.append((x, y - <span class="number">1</span>, x, y))  <span class="comment"># left</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    sol = Solution()</span><br><span class="line">    <span class="built_in">print</span>(sol.hasCycle([[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>],</span><br><span class="line">                        [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span>],</span><br><span class="line">                        [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span>],</span><br><span class="line">                        [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>]]))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(sol.hasCycle([[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>],</span><br><span class="line">                        [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>],</span><br><span class="line">                        [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>],</span><br><span class="line">                        [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]]))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(sol.hasCycle([[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;b&#x27;</span>],</span><br><span class="line">                        [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;b&#x27;</span>],</span><br><span class="line">                        [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>],</span><br><span class="line">                        [<span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Time-Complexity-4"><a href="#Time-Complexity-4" class="headerlink" title="Time Complexity"></a><strong>Time Complexity</strong></h3><p>Time complexity of the above algorithm will be <strong>O(M * N)</strong>, where ‘M’ is the number of rows and ‘N’ is the number of columns of the input matrix. This is due to the fact that we have to traverse the whole matrix to find cycles.</p>
<h3 id="Space-Complexity-4"><a href="#Space-Complexity-4" class="headerlink" title="Space Complexity"></a><strong>Space Complexity</strong></h3><p>DFS recursion stack can go M<em>N deep when the whole matrix is filled with the same character. Hence, the space complexity will be **O(M \</em> N)**, where ‘M’ is the number of rows and ‘N’ is the number of columns of the input matrix.</p>

    </article>
    <!-- license -->
    
        <div class="license-wrapper">
            <p>Author：<a href="https://hasuer.github.io">Hasuer</a>
            <p>Link：<a href="https://hasuer.github.io/13-pattern-island-matrix-traversal/index.html">https://hasuer.github.io/13-pattern-island-matrix-traversal/index.html</a>
            <p>Publish date：<a href="https://hasuer.github.io/13-pattern-island-matrix-traversal/index.html">May 2nd 2024, 9:43:32 am</a>
            <p>Update date：<a href="https://hasuer.github.io/13-pattern-island-matrix-traversal/index.html">May 16th 2024, 8:13:16 pm</a>
            <p>License：本文采用<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc/4.0/">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可</p>
        </div>
    
    <!-- paginator -->
    <ul class="post-paginator">
        <li class="next">
            
                <div class="nextSlogan">Next Post</div>
                <a href="/14-pattern-two-heaps/index.html" title="14. Pattern Two Heaps">
                    <div class="nextTitle">14. Pattern Two Heaps</div>
                </a>
            
        </li>
        <li class="previous">
            
                <div class="prevSlogan">Previous Post</div>
                <a href="/12-pattern-graphs/index.html" title="12. Pattern Graphs">
                    <div class="prevTitle">12. Pattern Graphs</div>
                </a>
            
        </li>
    </ul>
    <!-- comment -->
    
        <div class="post-comment">
            <!-- 来必力 City 版安装代码 -->


            

            

            

            <!-- utteranc评论 -->


            <!-- partial('_partial/comment/changyan') -->
            <!--PC版-->


            
            

        </div>
    
    <!-- timeliness note -->
    <!-- idea from: https://hexo.fluid-dev.com/posts/hexo-injector/#%E6%96%87%E7%AB%A0%E6%97%B6%E6%95%88%E6%80%A7%E6%8F%90%E7%A4%BA -->
    
    <!-- Mathjax -->
    
</main>

                <!-- profile -->
                
            </div>
            <footer class="footer footer-unloaded">
    <!-- social  -->
    
        <div class="social">
            
    
        
            
                <a href="mailto:12345@qq.com" class="iconfont-archer email" title=email ></a>
            
        
    
        
            
                <a href="//github.com/HasuerYu" class="iconfont-archer github" target="_blank" title=github></a>
            
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


        </div>
    
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">Archer</a></span>
    </div>
    <!-- website approve for Chinese user -->
    
    <!-- 不蒜子  -->
    
        <div class="busuanzi-container">
            
             
                <span id="busuanzi_container_site_pv">PV: <span id="busuanzi_value_site_pv"></span> :)</span>
            
        </div>
    	
</footer>

        </div>
        <!-- toc -->
        
            <div class="toc-wrapper toc-wrapper-loding" style=







    top:50vh;

>
                <div class="toc-catalog">
                    <span class="iconfont-archer catalog-icon">&#xe613;</span><span>CATALOG</span>
                </div>
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction-to-Island-Pattern"><span class="toc-number">1.</span> <span class="toc-text">Introduction to Island Pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Number-of-Islands"><span class="toc-number">2.</span> <span class="toc-text">Number of Islands</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement"><span class="toc-number">2.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution"><span class="toc-number">2.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-DFS"><span class="toc-number">2.3.</span> <span class="toc-text">Code (DFS)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-DFS-DFS-with-visited-matrix"><span class="toc-number">2.4.</span> <span class="toc-text">Code (DFS) (DFS with visited matrix)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-BFS"><span class="toc-number">2.5.</span> <span class="toc-text">Code (BFS)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-BFS-with-visited-matrix"><span class="toc-number">2.6.</span> <span class="toc-text">Code (BFS with visited matrix)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Biggest-Island"><span class="toc-number">3.</span> <span class="toc-text">Biggest Island</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-1"><span class="toc-number">3.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-1"><span class="toc-number">3.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-DFS-1"><span class="toc-number">3.3.</span> <span class="toc-text">Code (DFS)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Complexity-Analysis"><span class="toc-number">3.4.</span> <span class="toc-text">Complexity Analysis</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Flood-Fill"><span class="toc-number">4.</span> <span class="toc-text">Flood Fill</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-2"><span class="toc-number">4.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-2"><span class="toc-number">4.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-DFS-2"><span class="toc-number">4.3.</span> <span class="toc-text">Code (DFS)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Time-Complexity"><span class="toc-number">4.4.</span> <span class="toc-text">Time Complexity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Space-Complexity"><span class="toc-number">4.5.</span> <span class="toc-text">Space Complexity</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Number-of-Closed-Islands"><span class="toc-number">5.</span> <span class="toc-text">Number of Closed Islands</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-3"><span class="toc-number">5.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-3"><span class="toc-number">5.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-DFS-3"><span class="toc-number">5.3.</span> <span class="toc-text">Code (DFS)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Time-Complexity-1"><span class="toc-number">5.4.</span> <span class="toc-text">Time Complexity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Space-Complexity-1"><span class="toc-number">5.5.</span> <span class="toc-text">Space Complexity</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-Challenge-1"><span class="toc-number">6.</span> <span class="toc-text">Problem Challenge 1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-4"><span class="toc-number">6.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-4"><span class="toc-number">6.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-DFS-4"><span class="toc-number">6.3.</span> <span class="toc-text">Code (DFS)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Time-Complexity-2"><span class="toc-number">6.4.</span> <span class="toc-text">Time Complexity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Space-Complexity-2"><span class="toc-number">6.5.</span> <span class="toc-text">Space Complexity</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-Challenge-2"><span class="toc-number">7.</span> <span class="toc-text">Problem Challenge 2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-5"><span class="toc-number">7.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-5"><span class="toc-number">7.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code"><span class="toc-number">7.3.</span> <span class="toc-text">Code</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Time-Complexity-3"><span class="toc-number">7.4.</span> <span class="toc-text">Time Complexity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Space-Complexity-3"><span class="toc-number">7.5.</span> <span class="toc-text">Space Complexity</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-Challenge-3"><span class="toc-number">8.</span> <span class="toc-text">Problem Challenge 3</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-6"><span class="toc-number">8.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-6"><span class="toc-number">8.2.</span> <span class="toc-text">Solution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-1"><span class="toc-number">8.3.</span> <span class="toc-text">Code</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Time-Complexity-4"><span class="toc-number">8.4.</span> <span class="toc-text">Time Complexity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Space-Complexity-4"><span class="toc-number">8.5.</span> <span class="toc-text">Space Complexity</span></a></li></ol></li></ol>
            </div>
        
        <!-- sidebar -->
        <div class="sidebar sidebar-hide">
    <ul class="sidebar-tabs sidebar-tabs-active-0">
        <li class="sidebar-tab-archives"><span class="iconfont-archer">&#xe67d;</span><span class="tab-name">Archive</span></li>
        <li class="sidebar-tab-tags"><span class="iconfont-archer">&#xe61b;</span><span class="tab-name">Tag</span></li>
        <li class="sidebar-tab-categories"><span class="iconfont-archer">&#xe666;</span><span class="tab-name">Cate</span></li>
    </ul>
    <div class="sidebar-content sidebar-content-show-archive">
        <div class="sidebar-panel-archives">
    <!-- 在 ejs 中将 archive 按照时间排序 -->
    
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    
    
    
    
    <div class="total-and-search">
        <div class="total-archive">
        Total : 81
        </div>
        <!-- search  -->
        
    </div>
    
    <div class="post-archive">
    
        
            
            
            <div class="archive-year"> 2024 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/22-pattern-backtracking/index.html">22. Pattern Backtracking</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/25-pattern-union-find/index.html">25. Pattern Union Find</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/23-pattern-trie/index.html">23. Pattern Trie</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/26-ordered-set/index.html">26. Ordered Set</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/24-pattern-topological-sort-graph/index.html">24. Pattern Topological Sort (Graph)</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/27-pattern-prefix-sum/index.html">27. Pattern Prefix Sum</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/28-pattern-multi-thread/index.html">28. Pattern Multi-thread</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/29-miscellaneous/index.html">29. Miscellaneous</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/21-pattern-01-knapsack-dynamic-programming/index.html">21. Pattern  01 Knapsack (Dynamic Programming)</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/20-pattern-greedy-algorithms/index.html">20. Pattern Greedy Algorithms</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/19-pattern-k-way-merge/index.html">19. Pattern K-way merge</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/18-pattern-top-k-elements/index.html">18. Pattern Top 'K' Elements</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/17-pattern-bitwise-xor/index.html">17. Pattern Bitwise XOR</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/16-pattern-modified-binary-search/index.html">16. Pattern Modified Binary Search</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/15-pattern-subsets/index.html">15. Pattern Subsets</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/12-pattern-graphs/index.html">12. Pattern Graphs</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/13-pattern-island-matrix-traversal/index.html">13. Pattern Island (Matrix traversal)</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/14-pattern-two-heaps/index.html">14. Pattern Two Heaps</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/11-pattern-tree-depth-first-search/index.html">11. Pattern Tree Depth First Search</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/8-pattern-monotonic-stack/index.html">8. Pattern Monotonic Stack</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/9-pattern-hash-maps/index.html">9. Pattern Hash Maps</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/10-pattern-tree-breadth-first-search/index.html">10. Pattern Tree Breadth First Search</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/7-pattern-stack/index.html">7. Pattern Stack</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/6-pattern-in-place-reversal-of-a-linkedlist/index.html">6. Pattern In-place Reversal of a LinkedList</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/5-pattern-cyclic-sort/index.html">5. Pattern Cyclic Sort</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/4-pattern-merge-intervals/index.html">4. Pattern Merge Intervals</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/3-pattern-sliding-window/index.html">3. Pattern Sliding Window</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/2-pattern-fast-slow-pointers/index.html">2. Pattern Fast_Slow pointers</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/30</span>
            <a class="archive-post-title" href="/0-introduction/index.html">0.Introduction</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/30</span>
            <a class="archive-post-title" href="/1-pattern-two-pointers/index.html">1. Pattern Two Pointers</a>
        </li>
    
        
            
            
                
                </ul>
            
            <div class="archive-year"> 2022 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/12</span>
            <a class="archive-post-title" href="/ubuntu20-04%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEmysql8-%E8%AF%A6%E7%BB%86/index.html">Ubuntu20.04安装配置MySQL8(详细)</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/13</span>
            <a class="archive-post-title" href="/%E6%96%B0%E8%8B%B1%E6%96%87%E6%9D%82%E5%BF%97/index.html">新英文杂志</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/25</span>
            <a class="archive-post-title" href="/axios%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">Axios学习笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/23</span>
            <a class="archive-post-title" href="/promise%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">Promise学习笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/23</span>
            <a class="archive-post-title" href="/nginx%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">Nginx学习笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/23</span>
            <a class="archive-post-title" href="/ajax%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">AJAX学习笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/08</span>
            <a class="archive-post-title" href="/%E7%8A%B6%E6%80%81%E5%8E%8B%E7%BC%A9dp/index.html">状态压缩dp</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/30</span>
            <a class="archive-post-title" href="/%E8%93%9D%E6%A1%A5%E6%9D%AF/index.html">蓝桥杯</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/12</span>
            <a class="archive-post-title" href="/%E9%A9%AC%E6%96%AF%E5%85%8B%E7%9A%84%E5%86%92%E9%99%A9%E4%BA%BA%E7%94%9F/index.html">马斯克的冒险人生</a>
        </li>
    
        
            
            
                
                </ul>
            
            <div class="archive-year"> 2021 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/13</span>
            <a class="archive-post-title" href="/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%9F%BA%E7%A1%80%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/index.html">人工智能基础课堂笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/07</span>
            <a class="archive-post-title" href="/git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">Git学习笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/02</span>
            <a class="archive-post-title" href="/c-sort/index.html">C++ Sort()</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/19</span>
            <a class="archive-post-title" href="/%E4%BA%BA%E7%B1%BB%E7%AE%80%E5%8F%B2%E8%AF%BB%E5%90%8E%E6%84%9F/index.html">人类简史读后感</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/17</span>
            <a class="archive-post-title" href="/%E5%B0%91%E6%9C%89%E4%BA%BA%E8%B5%B0%E7%9A%84%E8%B7%AF-m-scott-peck/index.html">少有人走的路-M.Scott Peck</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/15</span>
            <a class="archive-post-title" href="/%E4%BA%B2%E5%AF%86%E5%85%B3%E7%B3%BB/index.html">亲密关系</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/15</span>
            <a class="archive-post-title" href="/%E6%88%91%E7%9A%84%E5%BF%83%E7%81%B5%E6%88%90%E9%95%BF%E6%97%85%E7%A8%8B/index.html">我的心灵成长旅程</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/06</span>
            <a class="archive-post-title" href="/%E9%95%BF%E6%B2%99%E4%B9%8B%E6%97%85/index.html">长沙之旅</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/20</span>
            <a class="archive-post-title" href="/postgresql-alter-table%E4%B8%AD%E6%94%B9%E5%8F%98%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%97%B6using%E7%9A%84%E7%94%A8%E6%B3%95/index.html">PostgreSQL ALTER TABLE中改变数据类型时USING的用法</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/11</span>
            <a class="archive-post-title" href="/kmp/index.html">KMP</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/06</span>
            <a class="archive-post-title" href="/%E6%88%91%E7%9A%84%E7%94%9F%E5%91%BD%E6%95%85%E4%BA%8B/index.html">我的生命故事</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/30</span>
            <a class="archive-post-title" href="/%E7%A9%B7%E6%9F%A5%E7%90%86%E5%AE%9D%E5%85%B8/index.html">穷查理宝典</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/15</span>
            <a class="archive-post-title" href="/%E8%A2%AB%E8%AE%A8%E5%8E%8C%E7%9A%84%E5%8B%87%E6%B0%94/index.html">被讨厌的勇气</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/14</span>
            <a class="archive-post-title" href="/%E5%88%B7%E9%A2%98%E6%BC%8F%E6%B4%9E/index.html">刷题漏洞</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/27</span>
            <a class="archive-post-title" href="/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/index.html">非暴力沟通</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/18</span>
            <a class="archive-post-title" href="/%E5%AF%8C%E7%88%B8%E7%88%B8%E7%A9%B7%E7%88%B8%E7%88%B8/index.html">富爸爸穷爸爸</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/14</span>
            <a class="archive-post-title" href="/latex%E8%BD%AC%E6%8D%A2markdown/index.html">latex转换markdown</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/14</span>
            <a class="archive-post-title" href="/%E4%BA%BA%E7%B1%BB%E7%AE%80%E5%8F%B2/index.html">人类简史</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/23</span>
            <a class="archive-post-title" href="/%E6%94%B9%E5%8F%98vscode%E9%BB%98%E8%AE%A4%E4%BB%A3%E7%A0%81%E6%A0%BC%E5%BC%8F/index.html">改变vscode默认代码格式</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/22</span>
            <a class="archive-post-title" href="/matlab-plot/index.html">Matlab_plot</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/16</span>
            <a class="archive-post-title" href="/pa3%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/index.html">PA3实验报告</a>
        </li>
    
        
            
            
                
                </ul>
            
            <div class="archive-year"> 2020 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/29</span>
            <a class="archive-post-title" href="/mit-6-828-homework-bigfilesforxv6/index.html">MIT 6.828 Homework_BigFilesForXV6</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/29</span>
            <a class="archive-post-title" href="/mit-6-828-homework-locking/index.html">MIT 6.828 Homework_Locking</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/29</span>
            <a class="archive-post-title" href="/mit-6-828-homework-xv6cpualarm/index.html">MIT 6.828 Homework_xv6CPUAlarm</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/29</span>
            <a class="archive-post-title" href="/mit-6-828-homework-lazypageallocation/index.html">MIT 6.828 Homework_LazyPageAllocation</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/28</span>
            <a class="archive-post-title" href="/mit-6-828-homework-systemcall/index.html">MIT 6.828 Homework_SystemCall</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/15</span>
            <a class="archive-post-title" href="/mit-6-828-assignment-barriers/index.html">MIT 6.828 Assignment_Barriers</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/10</span>
            <a class="archive-post-title" href="/pa2%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/index.html">PA2实验报告</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/06</span>
            <a class="archive-post-title" href="/mit-6-828-assignment-threadsandlocks/index.html">MIT 6.828 Assignment_ThreadsandLocks</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/03</span>
            <a class="archive-post-title" href="/%E6%89%93%E5%8D%B0%E5%A4%9A%E4%B8%AAhello/index.html">打印多个hello</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/31</span>
            <a class="archive-post-title" href="/pv%E9%A2%98/index.html">PV题</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/24</span>
            <a class="archive-post-title" href="/132-pattern/index.html">132 Pattern</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/24</span>
            <a class="archive-post-title" href="/%E5%A4%96%E5%88%8A%E5%8F%A5%E5%AD%90/index.html">外刊句子</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/21</span>
            <a class="archive-post-title" href="/book-xv6-chapter-0/index.html">book_xv6:Chapter_0</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/21</span>
            <a class="archive-post-title" href="/blog%E7%9B%AE%E5%BD%95/index.html">Blog目录</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/21</span>
            <a class="archive-post-title" href="/mit-6-828-operating-system-engineering/index.html">MIT 6.828 Operating System Engineering</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/20</span>
            <a class="archive-post-title" href="/mit-6-828-assignment-shell/index.html">MIT 6.828 Assignment_Shell</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/18</span>
            <a class="archive-post-title" href="/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/index.html">归并排序</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/15</span>
            <a class="archive-post-title" href="/09-working-with-processes/index.html">09 Working with processes</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/13</span>
            <a class="archive-post-title" href="/%E3%80%90%E5%93%88%E4%BD%9B%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%91justice/index.html">【哈佛公开课】Justice</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/10</span>
            <a class="archive-post-title" href="/pa1%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/index.html">PA1实验报告</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/07</span>
            <a class="archive-post-title" href="/hello-world/index.html">Hello World</a>
        </li>
    
    </div>
</div>

        <div class="sidebar-panel-tags">
    <div class="sidebar-tags-name">
        
            <span class="sidebar-tag-name" data-tags="Interview">
                <span class="iconfont-archer">&#xe606;</span>
                Interview
            </span>
        
            <span class="sidebar-tag-name" data-tags="stack">
                <span class="iconfont-archer">&#xe606;</span>
                stack
            </span>
        
            <span class="sidebar-tag-name" data-tags="MIT OS">
                <span class="iconfont-archer">&#xe606;</span>
                MIT OS
            </span>
        
            <span class="sidebar-tag-name" data-tags="NEMU实验">
                <span class="iconfont-archer">&#xe606;</span>
                NEMU实验
            </span>
        
            <span class="sidebar-tag-name" data-tags="进程管理">
                <span class="iconfont-archer">&#xe606;</span>
                进程管理
            </span>
        
            <span class="sidebar-tag-name" data-tags="人文">
                <span class="iconfont-archer">&#xe606;</span>
                人文
            </span>
        
            <span class="sidebar-tag-name" data-tags="心理学">
                <span class="iconfont-archer">&#xe606;</span>
                心理学
            </span>
        
            <span class="sidebar-tag-name" data-tags="人际关系">
                <span class="iconfont-archer">&#xe606;</span>
                人际关系
            </span>
        
            <span class="sidebar-tag-name" data-tags="情感">
                <span class="iconfont-archer">&#xe606;</span>
                情感
            </span>
        
            <span class="sidebar-tag-name" data-tags="社会">
                <span class="iconfont-archer">&#xe606;</span>
                社会
            </span>
        
            <span class="sidebar-tag-name" data-tags="人类史">
                <span class="iconfont-archer">&#xe606;</span>
                人类史
            </span>
        
            <span class="sidebar-tag-name" data-tags="历史">
                <span class="iconfont-archer">&#xe606;</span>
                历史
            </span>
        
            <span class="sidebar-tag-name" data-tags="新英文杂志">
                <span class="iconfont-archer">&#xe606;</span>
                新英文杂志
            </span>
        
            <span class="sidebar-tag-name" data-tags="投资理财">
                <span class="iconfont-archer">&#xe606;</span>
                投资理财
            </span>
        
            <span class="sidebar-tag-name" data-tags="财商">
                <span class="iconfont-archer">&#xe606;</span>
                财商
            </span>
        
            <span class="sidebar-tag-name" data-tags="思维模式">
                <span class="iconfont-archer">&#xe606;</span>
                思维模式
            </span>
        
            <span class="sidebar-tag-name" data-tags="Linux 基础">
                <span class="iconfont-archer">&#xe606;</span>
                Linux 基础
            </span>
        
            <span class="sidebar-tag-name" data-tags="成长">
                <span class="iconfont-archer">&#xe606;</span>
                成长
            </span>
        
            <span class="sidebar-tag-name" data-tags="心智">
                <span class="iconfont-archer">&#xe606;</span>
                心智
            </span>
        
            <span class="sidebar-tag-name" data-tags="排序算法">
                <span class="iconfont-archer">&#xe606;</span>
                排序算法
            </span>
        
            <span class="sidebar-tag-name" data-tags="心灵成长">
                <span class="iconfont-archer">&#xe606;</span>
                心灵成长
            </span>
        
            <span class="sidebar-tag-name" data-tags="哲学">
                <span class="iconfont-archer">&#xe606;</span>
                哲学
            </span>
        
            <span class="sidebar-tag-name" data-tags="投资">
                <span class="iconfont-archer">&#xe606;</span>
                投资
            </span>
        
            <span class="sidebar-tag-name" data-tags="思维">
                <span class="iconfont-archer">&#xe606;</span>
                思维
            </span>
        
            <span class="sidebar-tag-name" data-tags="人生哲学">
                <span class="iconfont-archer">&#xe606;</span>
                人生哲学
            </span>
        
            <span class="sidebar-tag-name" data-tags="沟通">
                <span class="iconfont-archer">&#xe606;</span>
                沟通
            </span>
        
            <span class="sidebar-tag-name" data-tags="人物传记，企业管理">
                <span class="iconfont-archer">&#xe606;</span>
                人物传记，企业管理
            </span>
        
    </div>
    <div class="iconfont-archer sidebar-tags-empty">&#xe678;</div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
        缺失模块，请参考主题文档进行安装配置：https://github.com/fi3ework/hexo-theme-archer#%E5%AE%89%E8%A3%85%E4%B8%BB%E9%A2%98
    </div> 
    <div class="sidebar-tags-list"></div>
</div>

        <div class="sidebar-panel-categories">
    <div class="sidebar-categories-name">
    
        <span class="sidebar-category-name" data-categories="Algorithm">
            <span class="iconfont-archer">&#xe60a;</span>
            Algorithm
        </span>
    
        <span class="sidebar-category-name" data-categories="LeetCode">
            <span class="iconfont-archer">&#xe60a;</span>
            LeetCode
        </span>
    
        <span class="sidebar-category-name" data-categories="技术笔记">
            <span class="iconfont-archer">&#xe60a;</span>
            技术笔记
        </span>
    
        <span class="sidebar-category-name" data-categories="操作系统原理">
            <span class="iconfont-archer">&#xe60a;</span>
            操作系统原理
        </span>
    
        <span class="sidebar-category-name" data-categories="操作系统实验">
            <span class="iconfont-archer">&#xe60a;</span>
            操作系统实验
        </span>
    
        <span class="sidebar-category-name" data-categories="Matlab">
            <span class="iconfont-archer">&#xe60a;</span>
            Matlab
        </span>
    
        <span class="sidebar-category-name" data-categories="计算机组成原理">
            <span class="iconfont-archer">&#xe60a;</span>
            计算机组成原理
        </span>
    
        <span class="sidebar-category-name" data-categories="tips">
            <span class="iconfont-archer">&#xe60a;</span>
            tips
        </span>
    
        <span class="sidebar-category-name" data-categories="阅读笔记">
            <span class="iconfont-archer">&#xe60a;</span>
            阅读笔记
        </span>
    
        <span class="sidebar-category-name" data-categories="随笔">
            <span class="iconfont-archer">&#xe60a;</span>
            随笔
        </span>
    
        <span class="sidebar-category-name" data-categories="Vscode-tips">
            <span class="iconfont-archer">&#xe60a;</span>
            Vscode-tips
        </span>
    
    </div>
    <div class="iconfont-archer sidebar-categories-empty">&#xe678;</div>
    <div class="sidebar-categories-list"></div>
</div>

    </div>
</div>

        <!-- site-meta -->
        <script>
    var siteMeta = {
        root: "/",
        author: "Hasuer"
    }
</script>

        <!-- import experimental options here -->
        <!-- Custom Font -->


        <!-- main func -->
        <script src="/scripts/main.js?v=20210823"></script>
        <!-- dark mode -->
        <script src="/scripts/dark.js?v=20210823"></script>
        <!-- fancybox -->
        <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" defer></script>
        <!-- algolia -->
        
        <!-- busuanzi -->
        
            <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
        
        <!-- CNZZ -->
        
        <!-- async load share.js -->
        
            <script src="/scripts/share.js?v=20210823" async></script>
        
        <!-- mermaid -->
        
    </body>
</html>
