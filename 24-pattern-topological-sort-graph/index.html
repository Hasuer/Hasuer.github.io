<!DOCTYPE html>
<html lang="en">
    <!-- title -->


    

<!-- keywords -->



<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="author" content="Hasuer">
    <meta name="renderer" content="webkit">
    <meta name="copyright" content="Hasuer">
    
        <meta name="keywords" content="hexo,hexo-theme,hexo-blog">
    
    <meta name="description" content="">
    <meta name="description" content="416. Partition Equal Subset Sum Design Gurus Educative.io IntroductionTopological Sort is used to find a linear ordering of elements that have dependencies on each other. For example, if event ‘B’ is">
<meta property="og:type" content="article">
<meta property="og:title" content="24. Pattern Topological Sort (Graph)">
<meta property="og:url" content="https://hasuer.github.io/24-pattern-topological-sort-graph/index.html">
<meta property="og:site_name" content="Hasuer&#39;s Studio.">
<meta property="og:description" content="416. Partition Equal Subset Sum Design Gurus Educative.io IntroductionTopological Sort is used to find a linear ordering of elements that have dependencies on each other. For example, if event ‘B’ is">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://hasuer.github.io/24-pattern-topological-sort-graph/index/1_1.png">
<meta property="og:image" content="https://hasuer.github.io/24-pattern-topological-sort-graph/index/1_2.png">
<meta property="og:image" content="https://hasuer.github.io/24-pattern-topological-sort-graph/index/1_3.png">
<meta property="og:image" content="https://hasuer.github.io/24-pattern-topological-sort-graph/index/1_4.png">
<meta property="og:image" content="https://hasuer.github.io/24-pattern-topological-sort-graph/index/2_1.png">
<meta property="og:image" content="https://hasuer.github.io/24-pattern-topological-sort-graph/index/2_2.png">
<meta property="article:published_time" content="2024-05-03T06:25:49.000Z">
<meta property="article:modified_time" content="2024-05-03T07:19:53.535Z">
<meta property="article:author" content="Hasuer">
<meta property="article:tag" content="Interview">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hasuer.github.io/24-pattern-topological-sort-graph/index/1_1.png">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="icon" href="/assets/old_profile.ico">
    
    <title>24. Pattern Topological Sort (Graph) · Hasuer&#39;s Studio</title>
    <!-- /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
/* This file is meant as a standalone workflow for
- testing support for link[rel=preload]
- enabling async CSS loading in browsers that do not support rel=preload
- applying rel preload css once loaded, whether supported or not.
*/ -->
<script>
    (function (w) {
        'use strict'
        // rel=preload support test
        if (!w.loadCSS) {
            w.loadCSS = function () {}
        }
        // define on the loadCSS obj
        var rp = (loadCSS.relpreload = {})
        // rel=preload feature support test
        // runs once and returns a function for compat purposes
        rp.support = (function () {
            var ret
            try {
                ret = w.document.createElement('link').relList.supports('preload')
            } catch (e) {
                ret = false
            }
            return function () {
                return ret
            }
        })()

        // if preload isn't supported, get an asynchronous load by using a non-matching media attribute
        // then change that media back to its intended value on load
        rp.bindMediaToggle = function (link) {
            // remember existing media attr for ultimate state, or default to 'all'
            var finalMedia = link.media || 'all'

            function enableStylesheet() {
                link.media = finalMedia
            }

            // bind load handlers to enable media
            if (link.addEventListener) {
                link.addEventListener('load', enableStylesheet)
            } else if (link.attachEvent) {
                link.attachEvent('onload', enableStylesheet)
            }

            // Set rel and non-applicable media type to start an async request
            // note: timeout allows this to happen async to let rendering continue in IE
            setTimeout(function () {
                link.rel = 'stylesheet'
                link.media = 'only x'
            })
            // also enable media after 3 seconds,
            // which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
            setTimeout(enableStylesheet, 3000)
        }

        // loop through link elements in DOM
        rp.poly = function () {
            // double check this to prevent external calls from running
            if (rp.support()) {
                return
            }
            var links = w.document.getElementsByTagName('link')
            for (var i = 0; i < links.length; i++) {
                var link = links[i]
                // qualify links to those with rel=preload and as=style attrs
                if (
                    link.rel === 'preload' &&
                    link.getAttribute('as') === 'style' &&
                    !link.getAttribute('data-loadcss')
                ) {
                    // prevent rerunning on link
                    link.setAttribute('data-loadcss', true)
                    // bind listeners to toggle media back
                    rp.bindMediaToggle(link)
                }
            }
        }

        // if unsupported, run the polyfill
        if (!rp.support()) {
            // run once at least
            rp.poly()

            // rerun poly on an interval until onload
            var run = w.setInterval(rp.poly, 500)
            if (w.addEventListener) {
                w.addEventListener('load', function () {
                    rp.poly()
                    w.clearInterval(run)
                })
            } else if (w.attachEvent) {
                w.attachEvent('onload', function () {
                    rp.poly()
                    w.clearInterval(run)
                })
            }
        }

        // commonjs
        if (typeof exports !== 'undefined') {
            exports.loadCSS = loadCSS
        } else {
            w.loadCSS = loadCSS
        }
    })(typeof global !== 'undefined' ? global : this)
</script>

    <style type="text/css">
    @font-face {
        font-family: 'Oswald-Regular';
        src: url("/font/Oswald-Regular.ttf");
    }

    body {
        margin: 0;
    }

    header,
    footer,
    .back-top,
    .sidebar,
    .container,
    .site-intro-meta,
    .toc-wrapper {
        display: none;
    }

    .site-intro {
        position: relative;
        z-index: 3;
        width: 100%;
        /* height: 50vh; */
        overflow: hidden;
    }

    .site-intro-placeholder {
        position: absolute;
        z-index: -2;
        top: 0;
        left: 0;
        width: calc(100% + 300px);
        height: 100%;
        background: repeating-linear-gradient(-45deg, #444 0, #444 80px, #333 80px, #333 160px);
        background-position: center center;
        transform: translate3d(-226px, 0, 0);
        animation: gradient-move 2.5s ease-out 0s infinite;
    }

    @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(0, 0, 0);
        }
    }
</style>

    <link rel="preload" href="/css/style.css?v=20210823" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="/css/dark.css?v=20210823" as="style">
    <link rel="stylesheet" href="/css/dark.css" media="(prefers-color-scheme: dark)">
    <link rel="stylesheet" href="/css/mobile.css?v=20210823" media="(max-width: 960px)">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" as="script">
    <link rel="preload" href="/scripts/main.js?v=20210823" as="script">
    <link rel="preload" href="/scripts/dark.js?v=20210823" as="script">
    <link rel="preload" href="/font/Oswald-Regular.ttf" as="font" crossorigin>
    <link rel="preload" href="https://at.alicdn.com/t/font_327081_1dta1rlogw17zaor.woff" as="font" crossorigin>
    <!-- algolia -->
    
    <!-- 百度统计  -->
    
    <!-- 谷歌统计  -->
    
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"></head>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script type="text/javascript">
        if (typeof window.$ == undefined) {
            console.warn('jquery load from jsdelivr failed, will load local script')
            document.write('<script src="/lib/jquery.min.js" />')
        }
    </script>
    
        <body class="post-body">
    
        <!-- header -->
        <header class="header header-mobile">
    <!-- top read progress line -->
    <div class="header-element">
        <div class="read-progress"></div>
    </div>
    <!-- sidebar menu button -->
    <div class="header-element">
        
            <div class="header-sidebar-menu">
        
            
                <div style="padding-left: 1px;">&#xe775;</div>
            
        </div>
    </div>
    <!-- header actions -->
    <div class="header-actions">
        <!-- theme mode switch button -->
        <span class="header-theme-btn header-element">
            <i class="fas fa-adjust"></i>
        </span>
        <!-- back to home page text -->
        <span class="home-link header-element">
            <a href=/>Hasuer's Studio.</a>
        </span>
    </div>
    <!-- toggle banner for post layout -->
    
        
            <div class="banner">
        
            <div class="blog-title header-element">
                <a href="/">Hasuer&#39;s Studio.</a>
            </div>
            <div class="post-title header-element">
                <a href="#" class="post-name">24. Pattern Topological Sort (Graph)</a>
            </div>
        </div>
    
</header>

        <!-- fixed footer -->
        <footer class="footer-fixed">
    <!-- back to top button -->
    <div class="footer-fixed-element">
        
            <div class="back-top back-top-hidden">
        
        
            <div>&#xe639;</div>
        
        </div>
    </div>
</footer>

        <!-- wrapper -->
        <div class="wrapper">
            <div class="site-intro" style="







    height:50vh;

">
    
    <!-- 主页  -->
    
        
    <!-- 404页  -->
            
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-img" style="background-image: url(/intro/post-bg.jpg)"></div>
    <div class="site-intro-meta">
        <!-- 标题  -->
        <h1 class="intro-title">
            <!-- 主页  -->
            
                24. Pattern Topological Sort (Graph)
            <!-- 404 -->
            
        </h1>
        <!-- 副标题 -->
        <p class="intro-subtitle">
            <!-- 主页副标题  -->
            
                
            <!-- 404 -->
            
        </p>
        <!-- 文章页 meta -->
        
            <div class="post-intros">
                <!-- 文章页标签  -->
                
                    <div class= post-intro-tags >
    
        
        
            
        
        
        <span class="post-category" data-categories="Algorithm"">
            <i class="fas fa-folder post-category-icon"></i>
            <span class="post-category-text">
                Algorithm
            </span>
        </span>
    
    
        <a class="post-tag" href="javascript:void(0);" data-tags="Interview">Interview</a>
    
</div>

                
                
                    <div class="post-intro-read">
                        <span>Word count: <span class="post-count word-count">6.3k</span>Reading time: <span class="post-count reading-time">38 min</span></span>
                    </div>
                
                <div class="post-intro-meta">
                    <!-- 撰写日期 -->
                    <span class="iconfont-archer post-intro-calander">&#xe676;</span>
                    <span class="post-intro-time">2024/05/03</span>
                    <!-- busuanzi -->
                    
                        <span id="busuanzi_container_page_pv" class="busuanzi-pv">
                            <span class="iconfont-archer post-intro-busuanzi">&#xe602;</span>
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    
                    <!-- 文章分享 -->
                    <span class="share-wrapper">
                        <span class="iconfont-archer share-icon">&#xe71d;</span>
                        <span class="share-text">Share</span>
                        <ul class="share-list">
                            <li class="iconfont-archer share-qr" data-type="qr">&#xe75b;
                                <div class="share-qrcode"></div>
                            </li>
                            <li class="iconfont-archer" data-type="weibo">&#xe619;</li>
                            <li class="iconfont-archer" data-type="qzone">&#xe62e;</li>
                            <li class="iconfont-archer" data-type="twitter">&#xe634;</li>
                            <li class="iconfont-archer" data-type="facebook">&#xe67a;</li>
                        </ul>
                    </span>
                </div>
            </div>
        
    </div>
</div>

            <script>
  // get user agent
  function getBrowserVersions() {
    var u = window.navigator.userAgent
    return {
      userAgent: u,
      trident: u.indexOf('Trident') > -1, //IE内核
      presto: u.indexOf('Presto') > -1, //opera内核
      webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
      gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
      mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
      ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
      android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
      iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者安卓QQ浏览器
      iPad: u.indexOf('iPad') > -1, //是否为iPad
      webApp: u.indexOf('Safari') == -1, //是否为web应用程序，没有头部与底部
      weixin: u.indexOf('MicroMessenger') == -1, //是否为微信浏览器
      uc: u.indexOf('UCBrowser') > -1, //是否为android下的UC浏览器
    }
  }
  var browser = {
    versions: getBrowserVersions(),
  }
  console.log('userAgent: ' + browser.versions.userAgent)

  // callback
  function fontLoaded() {
    console.log('font loaded')
    if (document.getElementsByClassName('site-intro-meta')) {
      document
        .getElementsByClassName('intro-title')[0]
        .classList.add('intro-fade-in')
      document
        .getElementsByClassName('intro-subtitle')[0]
        .classList.add('intro-fade-in')
      var postIntros = document.getElementsByClassName('post-intros')[0]
      if (postIntros) {
        postIntros.classList.add('post-fade-in')
      }
    }
  }

  // UC不支持跨域，所以直接显示
  function asyncCb() {
    if (browser.versions.uc) {
      console.log('UCBrowser')
      fontLoaded()
    } else {
      WebFont.load({
        custom: {
          families: ['Oswald-Regular'],
        },
        loading: function () {
          // 所有字体开始加载
          // console.log('font loading');
        },
        active: function () {
          // 所有字体已渲染
          fontLoaded()
        },
        inactive: function () {
          // 字体预加载失败，无效字体或浏览器不支持加载
          console.log('inactive: timeout')
          fontLoaded()
        },
        timeout: 5000, // Set the timeout to two seconds
      })
    }
  }

  function asyncErr() {
    console.warn('script load from CDN failed, will load local script')
  }

  // load webfont-loader async, and add callback function
  function async(u, cb, err) {
    var d = document,
      t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0]
    o.src = u
    if (cb) {
      o.addEventListener(
        'load',
        function (e) {
          cb(null, e)
        },
        false
      )
    }
    if (err) {
      o.addEventListener(
        'error',
        function (e) {
          err(null, e)
        },
        false
      )
    }
    s.parentNode.insertBefore(o, s)
  }

  var asyncLoadWithFallBack = function (arr, success, reject) {
    var currReject = function () {
      reject()
      arr.shift()
      if (arr.length) async(arr[0], success, currReject)
    }

    async(arr[0], success, currReject)
  }

  asyncLoadWithFallBack(
    [
      'https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js',
      'https://cdn.bootcss.com/webfont/1.6.28/webfontloader.js',
      "/lib/webfontloader.min.js",
    ],
    asyncCb,
    asyncErr
  )
</script>

            <img class="loading" src="/assets/loading.svg" style="display: block; margin: 6rem auto 0 auto; width: 6rem; height: 6rem;" />
            <div class="container container-unloaded">
                <main class="main post-page">
    <article class="article-entry">
        <p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/partition-equal-subset-sum/">416. Partition Equal Subset Sum</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Topological_sorting">Topological Sort</a> is used to find a linear ordering of elements that have dependencies on each other. For example, if event ‘B’ is dependent on event ‘A’, ‘A’ comes before ‘B’ in topological ordering.</p>
<p>This pattern defines an easy way to understand the technique for performing topological sorting of a set of elements and then solves a few problems using it.</p>
<p>Let’s see this pattern in action.</p>
<h2 id="Topological-Sort-medium"><a href="#Topological-Sort-medium" class="headerlink" title="*Topological Sort (medium)"></a>*Topological Sort (medium)</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Problem-Statement"><a href="#Problem-Statement" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Topological_sorting">Topological Sort</a> of a directed graph (a graph with unidirectional edges) is a linear ordering of its vertices such that for every directed edge (U, V) from vertex <code>U</code> to vertex <code>V</code>, <code>U</code> comes before <code>V</code> in the ordering.</p>
<p>Given a directed graph, find the topological ordering of its vertices.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Input</span>: Vertices=<span class="number">4</span>, Edges=[<span class="number">3</span>, <span class="number">2</span>],<span class="meta"> [3, 0], [2, 0], [2, 1]</span></span><br><span class="line"><span class="attribute">Output</span>: Following are the two valid topological sorts for the given graph:</span><br><span class="line"><span class="attribute">1</span>) <span class="number">3</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span></span><br><span class="line"><span class="attribute">2</span>) <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p><img src="/24-pattern-topological-sort-graph/index/1_1.png"></p>
<p><strong>Example 2:</strong></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Input</span>: Vertices=<span class="number">5</span>, Edges=[<span class="number">4</span>, <span class="number">2</span>],<span class="meta"> [4, 3], [2, 0], [2, 1], [3, 1]</span></span><br><span class="line"><span class="attribute">Output</span>: Following are <span class="literal">all</span> valid topological sorts for the given graph:</span><br><span class="line"><span class="attribute">1</span>) <span class="number">4</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">1</span></span><br><span class="line"><span class="attribute">2</span>) <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span></span><br><span class="line"><span class="attribute">3</span>) <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span></span><br><span class="line"><span class="attribute">4</span>) <span class="number">4</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">0</span></span><br><span class="line"><span class="attribute">5</span>) <span class="number">4</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><img src="/24-pattern-topological-sort-graph/index/1_2.png"></p>
<p><strong>Example 3:</strong></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Input</span>: Vertices=<span class="number">7</span>, Edges=[<span class="number">6</span>, <span class="number">4</span>],<span class="meta"> [6, 2], [5, 3], [5, 4], [3, 0], [3, 1], [3, 2], [4, 1]</span></span><br><span class="line"><span class="attribute">Output</span>: Following are <span class="literal">all</span> valid topological sorts for the given graph:</span><br><span class="line"><span class="attribute">1</span>) <span class="number">5</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span></span><br><span class="line"><span class="attribute">2</span>) <span class="number">6</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span></span><br><span class="line"><span class="attribute">3</span>) <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span></span><br><span class="line"><span class="attribute">4</span>) <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span></span><br><span class="line"><span class="attribute">5</span>) <span class="number">5</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span></span><br><span class="line"><span class="attribute">6</span>) <span class="number">5</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span></span><br><span class="line"> </span><br><span class="line"><span class="attribute">There</span> are other valid topological ordering of the graph too.</span><br></pre></td></tr></table></figure>
<p><img src="/24-pattern-topological-sort-graph/index/1_3.png"></p>
<h3 id="Try-it-yourself"><a href="#Try-it-yourself" class="headerlink" title="Try it yourself"></a>Try it yourself</h3><p>Try solving this question here:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不会</span></span><br></pre></td></tr></table></figure>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><p>The basic idea behind the topological sort is to provide a partial ordering among the vertices of the graph such that if there is an edge from <code>U</code> to <code>V</code> then U≤V i.e., <code>U</code> comes before <code>V</code> in the ordering. Here are a few fundamental concepts related to topological sort:</p>
<ol>
<li><strong>Source:</strong> Any node that has no incoming edge and has only outgoing edges is called a source.</li>
<li><strong>Sink:</strong> Any node that has only incoming edges and no outgoing edge is called a sink.</li>
<li>So, we can say that a topological ordering starts with one of the sources and ends at one of the sinks.</li>
<li>A topological ordering is possible only when the graph has no directed cycles, i.e. if the graph is a <strong>Directed Acyclic Graph (DAG)</strong>. If the graph has a cycle, some vertices will have cyclic dependencies which makes it impossible to find a linear ordering among vertices.</li>
</ol>
<p>To find the topological sort of a graph we can traverse the graph in a <strong>Breadth First Search (BFS)</strong> way. We will start with all the sources, and in a stepwise fashion, save all sources to a sorted list. We will then remove all sources and their edges from the graph. After the removal of the edges, we will have new sources, so we will repeat the above process until all vertices are visited.</p>
<p>也可以采用DFS，在每一个节点上标记好开始和结束的时间，然后更具结束的使劲按逆序排列就能得到答案，具体步骤可以参考书籍《算法导论》</p>
<p>Here is the visual representation of this algorithm for Example-3:</p>
<p><img src="/24-pattern-topological-sort-graph/index/1_4.png"></p>
<p>This is how we can implement this algorithm:</p>
<p><strong>a. Initialization</strong></p>
<ol>
<li>We will store the graph in <strong>Adjacency Lists</strong>, which means each parent vertex will have a list containing all of its children. We will do this using a <strong>HashMap</strong> where the ‘key’ will be the parent vertex number and the value will be a <strong>List</strong> containing children vertices.</li>
<li>To find the sources, we will keep a <strong>HashMap</strong> to count the in-degrees i.e., count of incoming edges of each vertex. Any vertex with ‘0’ in-degree will be a source.</li>
</ol>
<p><strong>b. Build the graph and find in-degrees of all vertices</strong></p>
<ol>
<li>We will build the graph from the input and populate the in-degrees <strong>HashMap</strong>.</li>
</ol>
<p><strong>c. Find all sources</strong></p>
<ol>
<li>All vertices with ‘0’ in-degrees will be our sources and we will store them in a <strong>Queue</strong>.</li>
</ol>
<p><strong>d. Sort</strong></p>
<ol>
<li>For each source, do the following things:<ul>
<li>Add it to the sorted list.</li>
<li>Get all of its children from the graph.</li>
<li>Decrement the in-degree of each child by 1.</li>
<li>If a child’s in-degree becomes ‘0’, add it to the sources <strong>Queue</strong>.</li>
</ul>
</li>
<li>Repeat step 1, until the source <strong>Queue</strong> is empty.</li>
</ol>
<h4 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h4><p>Here is what our algorithm will look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">topological_sort</span>(<span class="params">vertices, edges</span>):</span></span><br><span class="line">    sort_order = []</span><br><span class="line">    <span class="keyword">if</span> vertices &lt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> sort_order</span><br><span class="line">    <span class="comment"># a. Initialize the graph</span></span><br><span class="line">    inDegree = &#123;i: <span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(vertices)&#125;  <span class="comment"># count of incoming edges</span></span><br><span class="line">    graph = &#123;i: [] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(vertices)&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># b. Build the graph</span></span><br><span class="line">    <span class="keyword">for</span> edge <span class="keyword">in</span> edges:</span><br><span class="line">        parent, child = edge[<span class="number">0</span>], edge[<span class="number">1</span>]</span><br><span class="line">        graph[parent].append(child)  <span class="comment"># put the child into it&#x27;s parent&#x27;s list</span></span><br><span class="line">        inDegree[child] += <span class="number">1</span>  <span class="comment"># increment child&#x27;s inDegree</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># c. Find all sources i.e., all vertices with 0 in-degrees</span></span><br><span class="line">    sources = deque()</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> inDegree:</span><br><span class="line">        <span class="keyword">if</span> inDegree[key] == <span class="number">0</span>:</span><br><span class="line">            sources.append(key)</span><br><span class="line">    <span class="comment"># d. For each source, add it to the sortedorder and subtract one from all of its children&#x27;s in-degrees</span></span><br><span class="line">    <span class="comment"># if a child&#x27;s in-degree becomes zero, add it to the sources queue</span></span><br><span class="line">    <span class="keyword">while</span> sources:</span><br><span class="line">        vertex = sources.popleft()</span><br><span class="line">        sort_order.append(vertex)</span><br><span class="line">        <span class="keyword">for</span> child <span class="keyword">in</span> graph[vertex]:</span><br><span class="line">            inDegree[child] -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> inDegree[child] == <span class="number">0</span>:</span><br><span class="line">                sources.append(child)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># topological sort is not possible as the graph has a cycle</span></span><br><span class="line">    <span class="comment"># 这个没有想到</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(sort_order) != vertices:</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line">    <span class="keyword">return</span> sort_order</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    res = topological_sort(<span class="number">4</span>, [[<span class="number">3</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">0</span>], [<span class="number">2</span>, <span class="number">0</span>], [<span class="number">2</span>, <span class="number">1</span>]])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(res))</span><br><span class="line">    res = topological_sort(<span class="number">5</span>, [[<span class="number">4</span>, <span class="number">2</span>], [<span class="number">4</span>, <span class="number">3</span>], [<span class="number">2</span>, <span class="number">0</span>], [<span class="number">2</span>, <span class="number">1</span>], [<span class="number">3</span>, <span class="number">1</span>]])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(res))</span><br><span class="line">    res = topological_sort(<span class="number">7</span>, [[<span class="number">6</span>, <span class="number">4</span>], [<span class="number">6</span>, <span class="number">2</span>], [<span class="number">5</span>, <span class="number">3</span>], [<span class="number">5</span>, <span class="number">4</span>], [<span class="number">3</span>, <span class="number">0</span>], [<span class="number">3</span>, <span class="number">1</span>], [<span class="number">3</span>, <span class="number">2</span>], [<span class="number">4</span>, <span class="number">1</span>]])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(res))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-Complexity"><a href="#Time-Complexity" class="headerlink" title="Time Complexity"></a>Time Complexity</h4><p>In step ‘d’, each vertex will become a source only once and each edge will be accessed and removed once. Therefore, the time complexity of the above algorithm will be <strong><em>O(V+E)</em></strong>, where ‘V’ is the total number of vertices and ‘E’ is the total number of edges in the graph.</p>
<h4 id="Space-Complexity"><a href="#Space-Complexity" class="headerlink" title="Space Complexity"></a>Space Complexity</h4><p>The space complexity will be <strong><em>O(V+E)</em></strong>, since we are storing all of the edges for each vertex in an adjacency list.</p>
<hr>
<h3 id="Similar-Problems"><a href="#Similar-Problems" class="headerlink" title="Similar Problems"></a>Similar Problems</h3><p><strong>Problem 1:</strong> Find if a given <strong>Directed Graph</strong> has a cycle in it or not.</p>
<p><strong>Solution:</strong> If we can’t determine the topological ordering of all the vertices of a directed graph, the graph has a cycle in it. This was also referred to in the above code:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (sortedOrder.<span class="built_in">size</span>() != vertices) <span class="comment">// topological sort is not possible as the graph has a cycle</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br></pre></td></tr></table></figure>
<h2 id="Tasks-Scheduling-medium"><a href="#Tasks-Scheduling-medium" class="headerlink" title="Tasks Scheduling (medium)"></a>Tasks Scheduling (medium)</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Top Interview 150 | <a target="_blank" rel="noopener" href="https://leetcode.com/problems/course-schedule/">207. Course Schedule</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Problem-Statement-1"><a href="#Problem-Statement-1" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>There are ‘N’ tasks, labeled from ‘0’ to ‘N-1’. Each task can have some prerequisite tasks which need to be completed before it can be scheduled. Given the number of tasks and a list of prerequisite pairs, find out if it is possible to schedule all the tasks.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Inpu<span class="variable">t:</span> Tasks=<span class="number">3</span>, Prerequisites=[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">Outpu<span class="variable">t:</span> true</span><br><span class="line">Explanation: To <span class="keyword">execute</span> task <span class="string">&#x27;1&#x27;</span>, task <span class="string">&#x27;0&#x27;</span> needs <span class="keyword">to</span> <span class="keyword">finish</span> <span class="keyword">first</span>. Similarly, task <span class="string">&#x27;1&#x27;</span> needs <span class="keyword">to</span> <span class="keyword">finish</span> </span><br><span class="line">before <span class="string">&#x27;2&#x27;</span> can <span class="keyword">be</span> scheduled. A possible sceduling of tasks i<span class="variable">s:</span> [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>] </span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Input</span>: Tasks=<span class="number">3</span>, Prerequisites=[<span class="number">0</span>, <span class="number">1</span>],<span class="meta"> [1, 2], [2, 0]</span></span><br><span class="line"><span class="attribute">Output</span>: false</span><br><span class="line"><span class="attribute">Explanation</span>: The tasks have cyclic dependency, therefore they cannot be sceduled.</span><br></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: Tasks=6, Prerequisites=<span class="comment">[2, 5]</span>, <span class="comment">[0, 5]</span>, <span class="comment">[0, 4]</span>, <span class="comment">[1, 4]</span>, <span class="comment">[3, 2]</span>, <span class="comment">[1, 3]</span></span><br><span class="line">Output: true</span><br><span class="line">Explanation: A possible sceduling <span class="keyword">of</span> tasks <span class="keyword">is</span>: <span class="comment">[0 1 4 3 2 5]</span> </span><br></pre></td></tr></table></figure>
<h3 id="Try-it-yourself-1"><a href="#Try-it-yourself-1" class="headerlink" title="Try it yourself"></a>Try it yourself</h3><p>Try solving this question here:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 见下</span></span><br></pre></td></tr></table></figure>
<h3 id="Solution-1"><a href="#Solution-1" class="headerlink" title="Solution"></a>Solution</h3><p>This problem is asking us to find out if it is possible to find a topological ordering of the given tasks. The tasks are equivalent to the vertices and the prerequisites are the edges.</p>
<p>We can use a similar algorithm as described in <em>Topological Sort</em> to find the topological ordering of the tasks. If the ordering does not include all the tasks, we will conclude that some tasks have cyclic dependencies.</p>
<h4 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h4><p>Here is what our algorithm will look like (only the highlighted lines have changed):</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 和上一题一摸一样</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_scheduling_possible</span>(<span class="params">task, prerequisites</span>):</span></span><br><span class="line">    sort_order = []</span><br><span class="line">    <span class="keyword">if</span> task &lt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> sort_order</span><br><span class="line">    <span class="comment"># a. Initialize the graph</span></span><br><span class="line">    inDegree = &#123;i: <span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(task)&#125;  <span class="comment"># count of incoming edges</span></span><br><span class="line">    graph = &#123;i: [] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(task)&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># b. Build the graph</span></span><br><span class="line">    <span class="keyword">for</span> edge <span class="keyword">in</span> prerequisites:</span><br><span class="line">        parent, child = edge[<span class="number">0</span>], edge[<span class="number">1</span>]</span><br><span class="line">        graph[parent].append(child)  <span class="comment"># put the child into it&#x27;s parent&#x27;s list</span></span><br><span class="line">        inDegree[child] += <span class="number">1</span>  <span class="comment"># increment child&#x27;s inDegree</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># c. Find all sources i.e., all vertices with 0 in-degrees</span></span><br><span class="line">    sources = deque()</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> inDegree:</span><br><span class="line">        <span class="keyword">if</span> inDegree[key] == <span class="number">0</span>:</span><br><span class="line">            sources.append(key)</span><br><span class="line">    <span class="comment"># d. For each source, add it to the sortedorder and subtract one from all of its children&#x27;s in-degrees</span></span><br><span class="line">    <span class="comment"># if a child&#x27;s in-degree becomes zero, add it to the sources queue</span></span><br><span class="line">    <span class="keyword">while</span> sources:</span><br><span class="line">        vertex = sources.popleft()</span><br><span class="line">        sort_order.append(vertex)</span><br><span class="line">        <span class="keyword">for</span> child <span class="keyword">in</span> graph[vertex]:</span><br><span class="line">            inDegree[child] -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> inDegree[child] == <span class="number">0</span>:</span><br><span class="line">                sources.append(child)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># topological sort is not possible as the graph has a cycle</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(sort_order) == task</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    res = is_scheduling_possible(<span class="number">3</span>, [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">2</span>]])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(res))</span><br><span class="line">    res = is_scheduling_possible(<span class="number">3</span>, [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">0</span>]])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(res))</span><br><span class="line">    res = is_scheduling_possible(<span class="number">6</span>, [[<span class="number">2</span>, <span class="number">5</span>], [<span class="number">0</span>, <span class="number">5</span>], [<span class="number">0</span>, <span class="number">4</span>], [<span class="number">1</span>, <span class="number">4</span>], [<span class="number">3</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">3</span>]])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(res))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity"><a href="#Time-complexity" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>In step ‘d’, each task can become a source only once and each edge (prerequisite) will be accessed and removed once. Therefore, the time complexity of the above algorithm will be <strong><em>O(V+E)</em></strong>, where ‘V’ is the total number of tasks and ‘E’ is the total number of prerequisites.</p>
<h4 id="Space-complexity"><a href="#Space-complexity" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(V+E)</em></strong>, since we are storing all of the prerequisites for each task in an adjacency list.</p>
<hr>
<h3 id="Similar-Problems-1"><a href="#Similar-Problems-1" class="headerlink" title="Similar Problems"></a>Similar Problems</h3><p><strong>Course Schedule:</strong> There are ‘N’ courses, labeled from ‘0’ to ‘N-1’. Each course can have some prerequisite courses which need to be completed before it can be taken. Given the number of courses and a list of prerequisite pairs, find if it is possible for a student to take all the courses.</p>
<p><strong>Solution:</strong> This problem is exactly similar to our parent problem. In this problem, we have courses instead of tasks.</p>
<h2 id="Tasks-Scheduling-Order-medium"><a href="#Tasks-Scheduling-Order-medium" class="headerlink" title="Tasks Scheduling Order (medium)"></a>Tasks Scheduling Order (medium)</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Top Interview 150 | <a target="_blank" rel="noopener" href="https://leetcode.com/problems/course-schedule-ii/">210. Course Schedule II</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Problem-Statement-2"><a href="#Problem-Statement-2" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>There are ‘N’ tasks, labeled from ‘0’ to ‘N-1’. Each task can have some prerequisite tasks which need to be completed before it can be scheduled. Given the number of tasks and a list of prerequisite pairs, write a method to find the ordering of tasks we should pick to finish all tasks.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Inpu<span class="variable">t:</span> Tasks=<span class="number">3</span>, Prerequisites=[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">Outpu<span class="variable">t:</span> [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">Explanation: To <span class="keyword">execute</span> task <span class="string">&#x27;1&#x27;</span>, task <span class="string">&#x27;0&#x27;</span> needs <span class="keyword">to</span> <span class="keyword">finish</span> <span class="keyword">first</span>. Similarly, task <span class="string">&#x27;1&#x27;</span> needs <span class="keyword">to</span> <span class="keyword">finish</span> </span><br><span class="line">before <span class="string">&#x27;2&#x27;</span> can <span class="keyword">be</span> scheduled. A possible scheduling of tasks i<span class="variable">s:</span> [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>] </span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Input</span>: Tasks=<span class="number">3</span>, Prerequisites=[<span class="number">0</span>, <span class="number">1</span>],<span class="meta"> [1, 2], [2, 0]</span></span><br><span class="line"><span class="attribute">Output</span>:<span class="meta"> []</span></span><br><span class="line"><span class="attribute">Explanation</span>: The tasks have cyclic dependency, therefore they cannot be scheduled.</span><br></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: Tasks=6, Prerequisites=<span class="comment">[2, 5]</span>, <span class="comment">[0, 5]</span>, <span class="comment">[0, 4]</span>, <span class="comment">[1, 4]</span>, <span class="comment">[3, 2]</span>, <span class="comment">[1, 3]</span></span><br><span class="line">Output: <span class="comment">[0 1 4 3 2 5]</span> </span><br><span class="line">Explanation: A possible scheduling <span class="keyword">of</span> tasks <span class="keyword">is</span>: <span class="comment">[0 1 4 3 2 5]</span> </span><br></pre></td></tr></table></figure>
<h3 id="Try-it-yourself-2"><a href="#Try-it-yourself-2" class="headerlink" title="Try it yourself"></a>Try it yourself</h3><p>Try solving this question here:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 题目和第一题一摸一样</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_order</span>(<span class="params">task, prerequisites</span>):</span></span><br><span class="line">    sort_order = []</span><br><span class="line">    <span class="keyword">if</span> task &lt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> sort_order</span><br><span class="line">    <span class="comment"># a. Initialize the graph</span></span><br><span class="line">    inDegree = &#123;i: <span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(task)&#125;  <span class="comment"># count of incoming edges</span></span><br><span class="line">    graph = &#123;i: [] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(task)&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># b. Build the graph</span></span><br><span class="line">    <span class="keyword">for</span> edge <span class="keyword">in</span> prerequisites:</span><br><span class="line">        parent, child = edge[<span class="number">0</span>], edge[<span class="number">1</span>]</span><br><span class="line">        graph[parent].append(child)  <span class="comment"># put the child into it&#x27;s parent&#x27;s list</span></span><br><span class="line">        inDegree[child] += <span class="number">1</span>  <span class="comment"># increment child&#x27;s inDegree</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># c. Find all sources i.e., all vertices with 0 in-degrees</span></span><br><span class="line">    sources = deque()</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> inDegree:</span><br><span class="line">        <span class="keyword">if</span> inDegree[key] == <span class="number">0</span>:</span><br><span class="line">            sources.append(key)</span><br><span class="line">    <span class="comment"># d. For each source, add it to the sortedorder and subtract one from all of its children&#x27;s in-degrees</span></span><br><span class="line">    <span class="comment"># if a child&#x27;s in-degree becomes zero, add it to the sources queue</span></span><br><span class="line">    <span class="keyword">while</span> sources:</span><br><span class="line">        vertex = sources.popleft()</span><br><span class="line">        sort_order.append(vertex)</span><br><span class="line">        <span class="keyword">for</span> child <span class="keyword">in</span> graph[vertex]:</span><br><span class="line">            inDegree[child] -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> inDegree[child] == <span class="number">0</span>:</span><br><span class="line">                sources.append(child)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># topological sort is not possible as the graph has a cycle</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(sort_order) != task:</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line">    <span class="keyword">return</span> sort_order</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    res = find_order(<span class="number">3</span>, [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">2</span>]])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(res))</span><br><span class="line">    res = find_order(<span class="number">3</span>, [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">0</span>]])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(res))</span><br><span class="line">    res = find_order(<span class="number">6</span>, [[<span class="number">2</span>, <span class="number">5</span>], [<span class="number">0</span>, <span class="number">5</span>], [<span class="number">0</span>, <span class="number">4</span>], [<span class="number">1</span>, <span class="number">4</span>], [<span class="number">3</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">3</span>]])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(res))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Solution-2"><a href="#Solution-2" class="headerlink" title="Solution"></a>Solution</h3><p>This problem is similar to <em>Tasks Scheduling</em>, the only difference being that we need to find the best ordering of tasks so that it is possible to schedule them all.</p>
<h4 id="Code-2"><a href="#Code-2" class="headerlink" title="Code"></a>Code</h4><p>Here is what our algorithm will look like (only the highlighted lines have changed):</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这里就不再重复了</span></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity-1"><a href="#Time-complexity-1" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>In step ‘d’, each task can become a source only once and each edge (prerequisite) will be accessed and removed once. Therefore, the time complexity of the above algorithm will be <strong><em>O(V+E)</em></strong>, where ‘V’ is the total number of tasks and ‘E’ is the total number of prerequisites.</p>
<h4 id="Space-complexity-1"><a href="#Space-complexity-1" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(V+E)</em></strong>, since we are storing all of the prerequisites for each task in an adjacency list.</p>
<hr>
<h3 id="Similar-Problems-2"><a href="#Similar-Problems-2" class="headerlink" title="Similar Problems"></a>Similar Problems</h3><p><strong>Course Schedule:</strong> There are ‘N’ courses, labeled from ‘0’ to ‘N-1’. Each course has some prerequisite courses which need to be completed before it can be taken. Given the number of courses and a list of prerequisite pairs, write a method to find the best ordering of the courses that a student can take in order to finish all courses.</p>
<p><strong>Solution:</strong> This problem is exactly similar to our parent problem. In this problem, we have courses instead of tasks.</p>
<h2 id="All-Tasks-Scheduling-Orders-hard"><a href="#All-Tasks-Scheduling-Orders-hard" class="headerlink" title="*All Tasks Scheduling Orders (hard)"></a>*All Tasks Scheduling Orders (hard)</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Problem-Statement-3"><a href="#Problem-Statement-3" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>There are ‘N’ tasks, labeled from ‘0’ to ‘N-1’. Each task can have some prerequisite tasks which need to be completed before it can be scheduled. Given the number of tasks and a list of prerequisite pairs, write a method to print all possible ordering of tasks meeting all prerequisites.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Input</span>: Tasks=<span class="number">3</span>, Prerequisites=[<span class="number">0</span>, <span class="number">1</span>],<span class="meta"> [1, 2]</span></span><br><span class="line"><span class="attribute">Output</span>:<span class="meta"> [0, 1, 2]</span></span><br><span class="line"><span class="attribute">Explanation</span>: There is only possible ordering of the tasks.</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Input</span>: Tasks=<span class="number">4</span>, Prerequisites=[<span class="number">3</span>, <span class="number">2</span>],<span class="meta"> [3, 0], [2, 0], [2, 1]</span></span><br><span class="line"><span class="attribute">Output</span>: </span><br><span class="line"><span class="attribute">1</span>)<span class="meta"> [3, 2, 0, 1]</span></span><br><span class="line"><span class="attribute">2</span>)<span class="meta"> [3, 2, 1, 0]</span></span><br><span class="line"><span class="attribute">Explanation</span>: There are two possible orderings of the tasks meeting <span class="literal">all</span> prerequisites.</span><br></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Input: Tasks=6, Prerequisites=<span class="comment">[2, 5]</span>, <span class="comment">[0, 5]</span>, <span class="comment">[0, 4]</span>, <span class="comment">[1, 4]</span>, <span class="comment">[3, 2]</span>, <span class="comment">[1, 3]</span></span><br><span class="line">Output: </span><br><span class="line">1) <span class="comment">[0, 1, 4, 3, 2, 5]</span></span><br><span class="line">2) <span class="comment">[0, 1, 3, 4, 2, 5]</span></span><br><span class="line">3) <span class="comment">[0, 1, 3, 2, 4, 5]</span></span><br><span class="line">4) <span class="comment">[0, 1, 3, 2, 5, 4]</span></span><br><span class="line">5) <span class="comment">[1, 0, 3, 4, 2, 5]</span></span><br><span class="line">6) <span class="comment">[1, 0, 3, 2, 4, 5]</span></span><br><span class="line">7) <span class="comment">[1, 0, 3, 2, 5, 4]</span></span><br><span class="line">8) <span class="comment">[1, 0, 4, 3, 2, 5]</span></span><br><span class="line">9) <span class="comment">[1, 3, 0, 2, 4, 5]</span></span><br><span class="line">10) <span class="comment">[1, 3, 0, 2, 5, 4]</span></span><br><span class="line">11) <span class="comment">[1, 3, 0, 4, 2, 5]</span></span><br><span class="line">12) <span class="comment">[1, 3, 2, 0, 5, 4]</span></span><br><span class="line">13) <span class="comment">[1, 3, 2, 0, 4, 5]</span></span><br></pre></td></tr></table></figure>
<h3 id="Try-it-yourself-3"><a href="#Try-it-yourself-3" class="headerlink" title="Try it yourself"></a>Try it yourself</h3><p>Try solving this question here:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不会</span></span><br></pre></td></tr></table></figure>
<h3 id="Solution-3"><a href="#Solution-3" class="headerlink" title="Solution"></a>Solution</h3><p>This problem is similar to <em>Tasks Scheduling Order</em> the only difference is that we need to find all the topological orderings of the tasks.</p>
<p>At any stage, if we have more than one source available and since we can choose any source, therefore, in this case, we will have multiple orderings of the tasks. We can use a recursive approach with <strong>Backtracking</strong> to consider all sources at any step.</p>
<h4 id="Code-3"><a href="#Code-3" class="headerlink" title="Code"></a>Code</h4><p>Here is what our algorithm will look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_order</span>(<span class="params">task, prerequisites</span>):</span></span><br><span class="line">    sort_order = []</span><br><span class="line">    <span class="keyword">if</span> task &lt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> sort_order</span><br><span class="line">    <span class="comment"># a. Initialize the graph</span></span><br><span class="line">    inDegree = &#123;i: <span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(task)&#125;  <span class="comment"># count of incoming edges</span></span><br><span class="line">    graph = &#123;i: [] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(task)&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># b. Build the graph</span></span><br><span class="line">    <span class="keyword">for</span> edge <span class="keyword">in</span> prerequisites:</span><br><span class="line">        parent, child = edge[<span class="number">0</span>], edge[<span class="number">1</span>]</span><br><span class="line">        graph[parent].append(child)  <span class="comment"># put the child into it&#x27;s parent&#x27;s list</span></span><br><span class="line">        inDegree[child] += <span class="number">1</span>  <span class="comment"># increment child&#x27;s inDegree</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># c. Find all sources i.e., all vertices with 0 in-degrees</span></span><br><span class="line">    sources = deque()</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> inDegree:</span><br><span class="line">        <span class="keyword">if</span> inDegree[key] == <span class="number">0</span>:</span><br><span class="line">            sources.append(key)</span><br><span class="line">    print_all_sort(sources, sort_order, graph, inDegree, task)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_all_sort</span>(<span class="params">sources, sort_order, graph, inDegree, task</span>):</span></span><br><span class="line">    <span class="comment"># d. For each source, add it to the sortedorder and subtract one from all of its children&#x27;s in-degrees</span></span><br><span class="line">    <span class="comment"># if a child&#x27;s in-degree becomes zero, add it to the sources queue</span></span><br><span class="line">    <span class="keyword">if</span> sources:</span><br><span class="line">        <span class="keyword">for</span> vertex <span class="keyword">in</span> sources:</span><br><span class="line">            sort_order.append(vertex)</span><br><span class="line">            sources_for_next_call = deque(sources)</span><br><span class="line">            sources_for_next_call.remove(vertex)</span><br><span class="line">            <span class="keyword">for</span> child <span class="keyword">in</span> graph[vertex]:</span><br><span class="line">                inDegree[child] -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> inDegree[child] == <span class="number">0</span>:</span><br><span class="line">                    sources_for_next_call.append(child)</span><br><span class="line">            <span class="comment"># recursive call to print other orderings from the remaining (and new)sources</span></span><br><span class="line">            print_all_sort(sources_for_next_call, sort_order, graph, inDegree, task)</span><br><span class="line">            <span class="comment"># backtrack, remove the vertex from the sorted order and put all of its children back to consider</span></span><br><span class="line">            <span class="comment"># the next source instead of the current vertex</span></span><br><span class="line">            sort_order.remove(vertex)</span><br><span class="line">            <span class="keyword">for</span> child <span class="keyword">in</span> graph[vertex]:</span><br><span class="line">                inDegree[child] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># topological sort is not possible as the graph has a cycle</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(sort_order) == task:</span><br><span class="line">        <span class="built_in">print</span>(sort_order)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="comment"># res = print_order(3, [[0, 1], [1, 2]])</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Task Order&quot;</span>)</span><br><span class="line">    print_order(<span class="number">3</span>, [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">2</span>]])</span><br><span class="line">    <span class="comment"># res = print_order(3, [[0, 1], [1, 2], [2, 0]])</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Task Order&quot;</span>)</span><br><span class="line">    print_order(<span class="number">4</span>, [[<span class="number">3</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">0</span>], [<span class="number">2</span>, <span class="number">0</span>], [<span class="number">2</span>, <span class="number">1</span>]])</span><br><span class="line">    <span class="comment"># res = print_order(6, [[2, 5], [0, 5], [0, 4], [1, 4], [3, 2], [1, 3]])</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Task Order&quot;</span>)</span><br><span class="line">    print_order(<span class="number">6</span>, [[<span class="number">2</span>, <span class="number">5</span>], [<span class="number">0</span>, <span class="number">5</span>], [<span class="number">0</span>, <span class="number">4</span>], [<span class="number">1</span>, <span class="number">4</span>], [<span class="number">3</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">3</span>]])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-and-Space-Complexity"><a href="#Time-and-Space-Complexity" class="headerlink" title="Time and Space Complexity"></a>Time and Space Complexity</h4><p>If we don’t have any prerequisites, all combinations of the tasks can represent a topological ordering. As we know, that there can be N!<em>N</em>! combinations for ‘N’ numbers, therefore the time and space complexity of our algorithm will be <strong><em>O(V! </em> E)*</strong> where ‘V’ is the total number of tasks and ‘E’ is the total prerequisites. We need the ‘E’ part because in each recursive call, at max, we remove (and add back) all the edges.</p>
<h2 id="Alien-Dictionary-hard"><a href="#Alien-Dictionary-hard" class="headerlink" title="*Alien Dictionary (hard)"></a>*Alien Dictionary (hard)</h2><p>没咋看懂题目：应该是对于给定的单词列表，相邻的单词对比，找出第一个不同的字符，这个字符的顺序将定义一条有向边。<br><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/alien-dictionary/description/">Leetcode 269 会员</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Problem-Statement-4"><a href="#Problem-Statement-4" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>There is a dictionary containing words from an alien language for which we don’t know the ordering of the characters. Write a method to find the correct order of characters in the alien language.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input: Words: [<span class="string">&quot;ba&quot;</span>, <span class="string">&quot;bc&quot;</span>, <span class="string">&quot;ac&quot;</span>, <span class="string">&quot;cab&quot;</span>]</span><br><span class="line">Output: bac</span><br><span class="line">Explanation: Given that <span class="keyword">the</span> <span class="keyword">words</span> are sorted lexicographically <span class="keyword">by</span> <span class="keyword">the</span> rules <span class="keyword">of</span> <span class="keyword">the</span> alien language, so</span><br><span class="line"><span class="built_in">from</span> <span class="keyword">the</span> given <span class="keyword">words</span> we can conclude <span class="keyword">the</span> following ordering <span class="keyword">among</span> its <span class="keyword">characters</span>:</span><br><span class="line"> </span><br><span class="line"><span class="number">1.</span> From <span class="string">&quot;ba&quot;</span> <span class="keyword">and</span> <span class="string">&quot;bc&quot;</span>, we can conclude that <span class="string">&#x27;a&#x27;</span> comes <span class="keyword">before</span> <span class="string">&#x27;c&#x27;</span>.</span><br><span class="line"><span class="number">2.</span> From <span class="string">&quot;bc&quot;</span> <span class="keyword">and</span> <span class="string">&quot;ac&quot;</span>, we can conclude that <span class="string">&#x27;b&#x27;</span> comes <span class="keyword">before</span> <span class="string">&#x27;a&#x27;</span></span><br><span class="line"> </span><br><span class="line">From <span class="keyword">the</span> above <span class="literal">two</span> points, we can conclude that <span class="keyword">the</span> correct <span class="keyword">character</span> order is: <span class="string">&quot;bac&quot;</span></span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Input: Words: [<span class="string">&quot;cab&quot;</span>, <span class="string">&quot;aaa&quot;</span>, <span class="string">&quot;aab&quot;</span>]</span><br><span class="line">Output: cab</span><br><span class="line">Explanation: From <span class="keyword">the</span> given <span class="keyword">words</span> we can conclude <span class="keyword">the</span> following ordering <span class="keyword">among</span> its <span class="keyword">characters</span>:</span><br><span class="line"> </span><br><span class="line"><span class="number">1.</span> From <span class="string">&quot;cab&quot;</span> <span class="keyword">and</span> <span class="string">&quot;aaa&quot;</span>, we can conclude that <span class="string">&#x27;c&#x27;</span> comes <span class="keyword">before</span> <span class="string">&#x27;a&#x27;</span>.</span><br><span class="line"><span class="number">2.</span> From <span class="string">&quot;aaa&quot;</span> <span class="keyword">and</span> <span class="string">&quot;aab&quot;</span>, we can conclude that <span class="string">&#x27;a&#x27;</span> comes <span class="keyword">before</span> <span class="string">&#x27;b&#x27;</span></span><br><span class="line"> </span><br><span class="line">From <span class="keyword">the</span> above <span class="literal">two</span> points, we can conclude that <span class="keyword">the</span> correct <span class="keyword">character</span> order is: <span class="string">&quot;cab&quot;</span></span><br></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Input: Words: [<span class="string">&quot;ywx&quot;</span>, <span class="string">&quot;wz&quot;</span>, <span class="string">&quot;xww&quot;</span>, <span class="string">&quot;xz&quot;</span>, <span class="string">&quot;zyy&quot;</span>, <span class="string">&quot;zwz&quot;</span>]</span><br><span class="line">Output: ywxz</span><br><span class="line">Explanation: From <span class="keyword">the</span> given <span class="keyword">words</span> we can conclude <span class="keyword">the</span> following ordering <span class="keyword">among</span> its <span class="keyword">characters</span>:</span><br><span class="line"> </span><br><span class="line"><span class="number">1.</span> From <span class="string">&quot;ywx&quot;</span> <span class="keyword">and</span> <span class="string">&quot;wz&quot;</span>, we can conclude that <span class="string">&#x27;y&#x27;</span> comes <span class="keyword">before</span> <span class="string">&#x27;w&#x27;</span>.</span><br><span class="line"><span class="number">2.</span> From <span class="string">&quot;wz&quot;</span> <span class="keyword">and</span> <span class="string">&quot;xww&quot;</span>, we can conclude that <span class="string">&#x27;w&#x27;</span> comes <span class="keyword">before</span> <span class="string">&#x27;x&#x27;</span>.</span><br><span class="line"><span class="number">3.</span> From <span class="string">&quot;xww&quot;</span> <span class="keyword">and</span> <span class="string">&quot;xz&quot;</span>, we can conclude that <span class="string">&#x27;w&#x27;</span> comes <span class="keyword">before</span> <span class="string">&#x27;z&#x27;</span></span><br><span class="line"><span class="number">4.</span> From <span class="string">&quot;xz&quot;</span> <span class="keyword">and</span> <span class="string">&quot;zyy&quot;</span>, we can conclude that <span class="string">&#x27;x&#x27;</span> comes <span class="keyword">before</span> <span class="string">&#x27;z&#x27;</span></span><br><span class="line"><span class="number">5.</span> From <span class="string">&quot;zyy&quot;</span> <span class="keyword">and</span> <span class="string">&quot;zwz&quot;</span>, we can conclude that <span class="string">&#x27;y&#x27;</span> comes <span class="keyword">before</span> <span class="string">&#x27;w&#x27;</span></span><br><span class="line"> </span><br><span class="line">From <span class="keyword">the</span> above <span class="literal">five</span> points, we can conclude that <span class="keyword">the</span> correct <span class="keyword">character</span> order is: <span class="string">&quot;ywxz&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="Try-it-yourself-4"><a href="#Try-it-yourself-4" class="headerlink" title="Try it yourself"></a>Try it yourself</h3><p>Try solving this question here:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 没看懂题目</span></span><br></pre></td></tr></table></figure>
<h3 id="Solution-4"><a href="#Solution-4" class="headerlink" title="Solution"></a>Solution</h3><p>Since the given words are sorted lexicographically by the rules of the alien language, we can always compare two adjacent words to determine the ordering of the characters. Take Example-1 above: [“ba”, “bc”, “ac”, “cab”]</p>
<ol>
<li>Take the first two words “ba” and “bc”. Starting from the beginning of the words, find the first character that is different in both words: it would be ‘a’ from “ba” and ‘c’ from “bc”. Because of the sorted order of words (i.e. the dictionary!), we can conclude that ‘a’ comes before ‘c’ in the alien language.</li>
<li>Similarly, from “bc” and “ac”, we can conclude that ‘b’ comes before ‘a’.</li>
</ol>
<p>These two points tell us that we are actually asked to find the topological ordering of the characters, and that the ordering rules should be inferred from adjacent words from the alien dictionary.</p>
<p>This makes the current problem similar to <em>Tasks Scheduling Order</em>, the only difference being that we need to build the graph of the characters by comparing adjacent words first, and then perform the topological sort for the graph to determine the order of the characters.</p>
<h4 id="Code-4"><a href="#Code-4" class="headerlink" title="Code"></a>Code</h4><p>Here is what our algorithm will look like (only the highlighted lines have changed):</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 但是有一点不太懂就是为什么。只要选取相邻的两个就可以建立邻接表</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_order</span>(<span class="params">words</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(words) == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="comment"># a. initailize the graph</span></span><br><span class="line">    in_degree = &#123;&#125;  <span class="comment"># 入度表</span></span><br><span class="line">    graph = &#123;&#125;  <span class="comment"># 邻接表</span></span><br><span class="line">    <span class="keyword">for</span> word <span class="keyword">in</span> words:</span><br><span class="line">        <span class="keyword">for</span> char <span class="keyword">in</span> word:</span><br><span class="line">            in_degree[char] = <span class="number">0</span></span><br><span class="line">            graph[char] = []</span><br><span class="line">    <span class="comment"># b. Build the graph</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(words) - <span class="number">1</span>):</span><br><span class="line">        <span class="comment"># find ordering of characters from adjacent words</span></span><br><span class="line">        w1, w2 = words[i], words[i + <span class="number">1</span>]</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">min</span>(<span class="built_in">len</span>(w1), <span class="built_in">len</span>(w1))):</span><br><span class="line">            parent = w1[j]</span><br><span class="line">            child = w2[j]</span><br><span class="line">            <span class="comment"># 这要求一个word不能是另一个word的前缀，因为代码没有处理这种情况</span></span><br><span class="line">            <span class="keyword">if</span> parent != child:  <span class="comment"># if the two characters are different</span></span><br><span class="line">                <span class="comment"># put the child into it&#x27;s parent&#x27;s list</span></span><br><span class="line">                graph[parent].append(child)</span><br><span class="line">                in_degree[child] += <span class="number">1</span>  <span class="comment"># increment child&#x27;s inDegree</span></span><br><span class="line">                <span class="keyword">break</span>  <span class="comment"># only the first different character between the two words will help us find the order</span></span><br><span class="line">    <span class="comment"># c. Find all sources i.e., all vertices with 0 in-degrees</span></span><br><span class="line">    sources = deque()</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> in_degree:</span><br><span class="line">        <span class="keyword">if</span> in_degree[key] == <span class="number">0</span>:</span><br><span class="line">            sources.append(key)</span><br><span class="line">    <span class="comment"># d. For each source, add it to the sortedorder and subtract one from all of its children&#x27;s in-degrees</span></span><br><span class="line">    <span class="comment"># if a child&#x27;s in-degree becomes zero, add it to the sources queue</span></span><br><span class="line">    source_order = []</span><br><span class="line">    <span class="keyword">while</span> sources:</span><br><span class="line">        vertex = sources.popleft()</span><br><span class="line">        source_order.append(vertex)</span><br><span class="line">        <span class="keyword">for</span> child <span class="keyword">in</span> graph[vertex]:</span><br><span class="line">            in_degree[child] -= <span class="number">1</span>  <span class="comment"># get the node&#x27;s children to decrement their in-degrees</span></span><br><span class="line">            <span class="keyword">if</span> in_degree[child] == <span class="number">0</span>:</span><br><span class="line">                sources.append(child)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># if sortedorder doesn&#x27;t contain all characters, there is a cyclic dependency between characters, therefore.</span></span><br><span class="line">    <span class="comment"># will not be able to find the correct ordering of the characters</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(source_order) != <span class="built_in">len</span>(in_degree):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(source_order)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    res = find_order([<span class="string">&quot;ba&quot;</span>, <span class="string">&quot;bc&quot;</span>, <span class="string">&quot;ac&quot;</span>, <span class="string">&quot;cab&quot;</span>])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(res))</span><br><span class="line">    res = find_order([<span class="string">&quot;cab&quot;</span>, <span class="string">&quot;aaa&quot;</span>, <span class="string">&quot;aab&quot;</span>])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(res))</span><br><span class="line">    res = find_order([<span class="string">&quot;ywx&quot;</span>, <span class="string">&quot;wz&quot;</span>, <span class="string">&quot;xww&quot;</span>, <span class="string">&quot;xz&quot;</span>, <span class="string">&quot;zyy&quot;</span>, <span class="string">&quot;zwz&quot;</span>])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(res))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity-2"><a href="#Time-complexity-2" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>In step ‘d’, each task can become a source only once and each edge (a rule) will be accessed and removed once. Therefore, the time complexity of the above algorithm will be <strong><em>O(V+E)</em></strong>, where ‘V’ is the total number of different characters and ‘E’ is the total number of the rules in the alien language. Since, at most, each pair of words can give us one rule, therefore, we can conclude that the upper bound for the rules is <strong><em>O(N)</em></strong> where ‘N’ is the number of words in the input. So, we can say that the time complexity of our algorithm is <strong><em>O(V+N)</em></strong>.</p>
<h4 id="Space-complexity-2"><a href="#Space-complexity-2" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(V+N)</em></strong>, since we are storing all of the rules for each character in an adjacency list.</p>
<h2 id="Problem-Challenge-1"><a href="#Problem-Challenge-1" class="headerlink" title="*Problem Challenge 1"></a>*Problem Challenge 1</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/sequence-reconstruction/description/">Leetcode 444 会员</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Reconstructing-a-Sequence-hard"><a href="#Reconstructing-a-Sequence-hard" class="headerlink" title="Reconstructing a Sequence (hard)"></a>Reconstructing a Sequence (hard)</h3><p>Given a sequence <code>originalSeq</code> and an array of sequences, write a method to find if <code>originalSeq</code> can be uniquely reconstructed from the array of sequences.</p>
<p>Unique reconstruction means that we need to find if <code>originalSeq</code> is the only sequence such that all sequences in the array are subsequences of it.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Input</span>: originalSeq: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], seqs: [[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line"><span class="symbol">Output</span>: true</span><br><span class="line"><span class="symbol">Explanation</span>: <span class="symbol">The</span> sequences [<span class="number">1</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">3</span>], and [<span class="number">3</span>, <span class="number">4</span>] can uniquely reconstruct   </span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], in other words, all the given sequences uniquely define the order of numbers </span><br><span class="line">in the <span class="string">&#x27;originalSeq&#x27;</span>. </span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: originalSeq: <span class="comment">[1, 2, 3, 4]</span>, seqs: <span class="comment">[<span class="comment">[1, 2]</span>, <span class="comment">[2, 3]</span>, <span class="comment">[2, 4]</span>]</span></span><br><span class="line">Output: false</span><br><span class="line">Explanation: The sequences <span class="comment">[1, 2]</span>, <span class="comment">[2, 3]</span>, and <span class="comment">[2, 4]</span> cannot uniquely reconstruct </span><br><span class="line"><span class="comment">[1, 2, 3, 4]</span>. There <span class="keyword">are</span> two possible sequences we can construct from the given sequences:</span><br><span class="line">1) <span class="comment">[1, 2, 3, 4]</span></span><br><span class="line">2) <span class="comment">[1, 2, 4, 3]</span></span><br></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Input</span>: originalSeq: [<span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>], seqs: [[<span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>], [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>]]</span><br><span class="line"><span class="symbol">Output</span>: true</span><br><span class="line"><span class="symbol">Explanation</span>: <span class="symbol">The</span> sequences [<span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>] and [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>] can uniquely reconstruct </span><br><span class="line">[<span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>].</span><br></pre></td></tr></table></figure>
<h3 id="Try-it-yourself-5"><a href="#Try-it-yourself-5" class="headerlink" title="Try it yourself"></a>Try it yourself</h3><p>Try solving this question here:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 我的想法：什么时候sources中的元素超过了1一个，那就是有有问题的，输出false</span></span><br><span class="line"><span class="comment"># 漏了一种情况，就是可以构建出唯一的序列，但是和给的origin_seq不一样</span></span><br></pre></td></tr></table></figure>
<h3 id="Solution-5"><a href="#Solution-5" class="headerlink" title="Solution"></a>Solution</h3><p>Since each sequence in the given array defines the ordering of some numbers, we need to combine all these ordering rules to find two things:</p>
<ol>
<li>Is it possible to construct the <code>originalSeq</code> from all these rules?</li>
<li>Are these ordering rules not sufficient enough to define the unique ordering of all the numbers in the <code>originalSeq</code>? In other words, can these rules result in more than one sequence?</li>
</ol>
<p>Take Example-1:</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">originalSeq: <span class="comment">[1, 2, 3, 4]</span>, seqs:<span class="comment">[<span class="comment">[1, 2]</span>, <span class="comment">[2, 3]</span>, <span class="comment">[3, 4]</span>]</span></span><br></pre></td></tr></table></figure>
<p>The first sequence tells us that ‘1’ comes before ‘2’; the second sequence tells us that ‘2’ comes before ‘3’; the third sequence tells us that ‘3’ comes before ‘4’. Combining all these sequences will result in a unique sequence: [1, 2, 3, 4].</p>
<p>The above explanation tells us that we are actually asked to find the topological ordering of all the numbers and also to verify that there is only one topological ordering of the numbers possible from the given array of the sequences.</p>
<p>This makes the current problem similar to <em>Tasks Scheduling Order</em> with two differences:</p>
<ol>
<li>We need to build the graph of the numbers by comparing each pair of numbers in the given array of sequences.</li>
<li>We must perform the topological sort for the graph to determine two things:<ul>
<li>Can the topological ordering construct the <code>originalSeq</code>?</li>
<li>That there is only one topological ordering of the numbers possible. This can be confirmed if we do not have more than one source at any time while finding the topological ordering of numbers.</li>
</ul>
</li>
</ol>
<h4 id="Code-5"><a href="#Code-5" class="headerlink" title="Code"></a>Code</h4><p>Here is what our algorithm will look like (only the highlighted lines have changed):</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">can_construct</span>(<span class="params">origin_seq, sequences</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(origin_seq) == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="comment"># a. initailize the graph</span></span><br><span class="line">    in_degree = &#123;&#125;  <span class="comment"># 入度表</span></span><br><span class="line">    graph = &#123;&#125;  <span class="comment"># 邻接表</span></span><br><span class="line">    <span class="keyword">for</span> sequence <span class="keyword">in</span> sequences:</span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> sequence:</span><br><span class="line">            in_degree[num] = <span class="number">0</span></span><br><span class="line">            graph[num] = []</span><br><span class="line">    <span class="comment"># b. Build the graph</span></span><br><span class="line">    <span class="keyword">for</span> sequence <span class="keyword">in</span> sequences:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(sequence) - <span class="number">1</span>):</span><br><span class="line">            parent = sequence[i]</span><br><span class="line">            child = sequence[i + <span class="number">1</span>]</span><br><span class="line">            graph[parent].append(child)</span><br><span class="line">            in_degree[child] += <span class="number">1</span>  <span class="comment"># increment child&#x27;s inDegree</span></span><br><span class="line">    <span class="comment"># if we don&#x27;t have ordering rules for all the numbers we&#x27;ll not able to uniquely construct the sequence</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(in_degree) != <span class="built_in">len</span>(origin_seq):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="comment"># c. Find all sources i.e., all vertices with 0 in-degrees</span></span><br><span class="line">    sources = deque()</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> in_degree:</span><br><span class="line">        <span class="keyword">if</span> in_degree[key] == <span class="number">0</span>:</span><br><span class="line">            sources.append(key)</span><br><span class="line">    <span class="comment"># d. For each source, add it to the sortedorder and subtract one from all of its children&#x27;s in-degrees</span></span><br><span class="line">    <span class="comment"># if a child&#x27;s in-degree becomes zero, add it to the sources queue</span></span><br><span class="line">    source_order = []</span><br><span class="line">    <span class="keyword">while</span> sources:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(sources) &gt; <span class="number">1</span>:</span><br><span class="line">            <span class="comment"># more than one sources mean, there is more than one way to reconstruct the sequence</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">if</span> origin_seq[<span class="built_in">len</span>(source_order)] != sources[<span class="number">0</span>]:</span><br><span class="line">            <span class="comment"># the next source(or number)is different from the original sequence</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        vertex = sources.popleft()</span><br><span class="line">        source_order.append(vertex)</span><br><span class="line">        <span class="keyword">for</span> child <span class="keyword">in</span> graph[vertex]:</span><br><span class="line">            in_degree[child] -= <span class="number">1</span>  <span class="comment"># get the node&#x27;s children to decrement their in-degrees</span></span><br><span class="line">            <span class="keyword">if</span> in_degree[child] == <span class="number">0</span>:</span><br><span class="line">                sources.append(child)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># if sortedorder&#x27;s size is not equal to original sequence&#x27;s size, there is no unique way to construct</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(source_order) != <span class="built_in">len</span>(in_degree):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    res = can_construct([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">3</span>, <span class="number">4</span>]])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(res))</span><br><span class="line">    res = can_construct([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">2</span>, <span class="number">4</span>]])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(res))</span><br><span class="line">    res = can_construct([<span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>], [[<span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>], [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>]])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(res))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity-3"><a href="#Time-complexity-3" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>In step ‘d’, each number can become a source only once and each edge (a rule) will be accessed and removed once. Therefore, the time complexity of the above algorithm will be <strong><em>O(V+E)</em></strong>, where ‘V’ is the count of distinct numbers and ‘E’ is the total number of the rules. Since, at most, each pair of numbers can give us one rule, we can conclude that the upper bound for the rules is <strong><em>O(N)</em></strong> where ‘N’ is the count of numbers in all sequences. So, we can say that the time complexity of our algorithm is <strong><em>O(V+N)</em></strong>.</p>
<h4 id="Space-complexity-3"><a href="#Space-complexity-3" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(V+N)</em></strong>, since we are storing all of the rules for each number in an adjacency list.</p>
<h2 id="Problem-Challenge-2"><a href="#Problem-Challenge-2" class="headerlink" title="*Problem Challenge 2"></a>*Problem Challenge 2</h2><p><span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #97c50f; border-radius: 0.25rem; text-align: center; vertical-align: baseline;"><a target="_blank" rel="noopener" href="https://leetcode.com/problems/minimum-height-trees/">310. Minimum Height Trees</a></span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #1183c4; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Design Gurus</span> <span style="display: inline-block; padding: 0.25em 0.6em; font-size: 75%; font-weight: 700; line-height: 1; color: #ffffff; background-color: #FF6347; border-radius: 0.25rem; text-align: center; vertical-align: baseline;">Educative.io</span></p>
<h3 id="Minimum-Height-Trees-hard"><a href="#Minimum-Height-Trees-hard" class="headerlink" title="Minimum Height Trees (hard)"></a>Minimum Height Trees (hard)</h3><p>We are given an undirected graph that has characteristics of a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/K-ary_tree">k-ary tree</a>. In such a graph, we can choose any node as the root to make a k-ary tree. The root (or the tree) with the minimum height will be called <strong>Minimum Height Tree (MHT)</strong>. There can be multiple MHTs for a graph. In this problem, we need to find all those roots which give us MHTs. Write a method to find all MHTs of the given graph and return a list of their roots.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Input</span>: vertices: <span class="number">5</span>, <span class="symbol">Edges</span>: [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">3</span>], [<span class="number">2</span>, <span class="number">4</span>]]</span><br><span class="line"><span class="symbol">Output</span>:[<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="symbol">Explanation</span>: <span class="symbol">Choosing</span> <span class="string">&#x27;1&#x27;</span> or <span class="string">&#x27;2&#x27;</span> as roots give us <span class="symbol">MHTs</span>. <span class="symbol">In</span> the below diagram, we can see that the </span><br><span class="line">height of the trees with roots <span class="string">&#x27;1&#x27;</span> or <span class="string">&#x27;2&#x27;</span> is three which is minimum.</span><br></pre></td></tr></table></figure>
<p><img src="/24-pattern-topological-sort-graph/index/2_1.png"></p>
<p><strong>Example 2:</strong></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Inpu<span class="variable">t:</span> vertice<span class="variable">s:</span> <span class="number">4</span>, Edge<span class="variable">s:</span> [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">3</span>]]</span><br><span class="line">Outpu<span class="variable">t:</span>[<span class="number">0</span>, <span class="number">2</span>]</span><br><span class="line">Explanation: Choosing <span class="string">&#x27;0&#x27;</span> <span class="built_in">or</span> <span class="string">&#x27;2&#x27;</span> <span class="keyword">as</span> roots give us MHTs. In the below diagram, we can see that the </span><br><span class="line">height of the trees with roots <span class="string">&#x27;0&#x27;</span> <span class="built_in">or</span> <span class="string">&#x27;2&#x27;</span> <span class="keyword">is</span> three which <span class="keyword">is</span> minimum.</span><br></pre></td></tr></table></figure>
<p><img src="/24-pattern-topological-sort-graph/index/2_2.png"></p>
<p><strong>Example 3:</strong></p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: vertices: 4, Edges: <span class="comment">[<span class="comment">[0, 1]</span>, <span class="comment">[1, 2]</span>, <span class="comment">[1, 3]</span>]</span></span><br><span class="line">Output:<span class="comment">[1]</span></span><br></pre></td></tr></table></figure>
<h3 id="Try-it-yourself-6"><a href="#Try-it-yourself-6" class="headerlink" title="Try it yourself"></a>Try it yourself</h3><p>Try solving this question here:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 不会</span></span><br></pre></td></tr></table></figure>
<h3 id="Solution-6"><a href="#Solution-6" class="headerlink" title="Solution"></a>Solution</h3><p>From the above-mentioned examples, we can clearly see that any leaf node (i.e., node with only one edge) can never give us an MHT because its adjacent non-leaf nodes will always give an MHT with a smaller height. All the adjacent non-leaf nodes will consider the leaf node as a subtree. Let’s understand this with another example. Suppose we have a tree with root ‘M’ and height ‘5’. Now, if we take another node, say ‘P’, and make the ‘M’ tree as its subtree, then the height of the overall tree with root ‘P’ will be ‘6’ (=5+1). Now, this whole tree can be considered a graph, where ‘P’ is a leaf as it has only one edge (connection with ‘M’). This clearly shows that the leaf node (‘P’) gives us a tree of height ‘6’ whereas its adjacent non-leaf node (‘M’) gives us a tree with smaller height ‘5’ - since ‘P’ will be a child of ‘M’.</p>
<p>This gives us a strategy to find MHTs. Since leaves can’t give us MHT, we can remove them from the graph and remove their edges too. Once we remove the leaves, we will have new leaves. Since these new leaves can’t give us MHT, we will repeat the process and remove them from the graph too. We will prune the leaves until we are left with one or two nodes which will be our answer and the roots for MHTs.</p>
<p>We can implement the above process using the topological sort. Any node with only one edge (i.e., a leaf) can be our source and, in a stepwise fashion, we can remove all sources from the graph to find new sources. We will repeat this process until we are left with one or two nodes in the graph, which will be our answer.</p>
<h4 id="Code-6"><a href="#Code-6" class="headerlink" title="Code"></a>Code</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_tree</span>(<span class="params">nodes, edges</span>):</span></span><br><span class="line">    <span class="keyword">if</span> nodes == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="comment"># with only one node, since its in-degrees will be 0, therefore, we need to handle it separately</span></span><br><span class="line">    <span class="keyword">if</span> nodes == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> [<span class="number">0</span>]</span><br><span class="line">    <span class="comment"># a. Initialize the graph</span></span><br><span class="line">    in_degree = &#123;i: <span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(nodes)&#125;  <span class="comment"># count of incoming edges</span></span><br><span class="line">    graph = &#123;i: [] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(nodes)&#125; <span class="comment"># adjacency list graph</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># b. Build the graph</span></span><br><span class="line">    <span class="keyword">for</span> edge <span class="keyword">in</span> edges:</span><br><span class="line">        n1, n2 = edge[<span class="number">0</span>], edge[<span class="number">1</span>]</span><br><span class="line">        <span class="comment"># since this is an undirected graph, therefore, add a link for both the nodes</span></span><br><span class="line">        graph[n1].append(n2)</span><br><span class="line">        graph[n2].append(n1)</span><br><span class="line">        <span class="comment"># increment the in-degrees of both the nodes</span></span><br><span class="line">        in_degree[n1] += <span class="number">1</span></span><br><span class="line">        in_degree[n2] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># c. Find all leaves i.e., all nodes with 0 in-degrees</span></span><br><span class="line">    leaves = deque()</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> in_degree:</span><br><span class="line">        <span class="keyword">if</span> in_degree[key] == <span class="number">1</span>:</span><br><span class="line">            leaves.append(key)</span><br><span class="line">    total_nodes = nodes</span><br><span class="line"></span><br><span class="line">    <span class="comment"># d. Remove leaves level by level and subtract each leave&#x27;s children&#x27;s in-degrees.</span></span><br><span class="line">    <span class="comment"># Repeat this until we are left with 1 or 2 nodes, which will be our answer.</span></span><br><span class="line">    <span class="comment"># Any node that has already been a leaf cannot be the root of a minimum height tree, because</span></span><br><span class="line">    <span class="comment"># its adiacent non-leaf node will always be a better candidate.</span></span><br><span class="line">    <span class="keyword">while</span> total_nodes &gt; <span class="number">2</span>:</span><br><span class="line">        leave_size = <span class="built_in">len</span>(leaves)</span><br><span class="line">        total_nodes -= leave_size</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(leaves)):</span><br><span class="line">            leaf = leaves.popleft()</span><br><span class="line">            <span class="keyword">for</span> child <span class="keyword">in</span> graph[leaf]:</span><br><span class="line">                in_degree[child] -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> in_degree[child] == <span class="number">1</span>:</span><br><span class="line">                    leaves.append(child)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">list</span>(leaves)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    res = find_tree(<span class="number">5</span>, [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">3</span>], [<span class="number">2</span>, <span class="number">4</span>]])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(res))</span><br><span class="line">    res = find_tree(<span class="number">4</span>, [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">3</span>]])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(res))</span><br><span class="line">    res = find_tree(<span class="number">4</span>, [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">3</span>]])</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(res))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Time-complexity-4"><a href="#Time-complexity-4" class="headerlink" title="Time complexity"></a>Time complexity</h4><p>In step ‘d’, each node can become a source only once and each edge will be accessed and removed once. Therefore, the time complexity of the above algorithm will be <strong><em>O(V+E)</em></strong>, where ‘V’ is the total nodes and ‘E’ is the total number of the edges.</p>
<h4 id="Space-complexity-4"><a href="#Space-complexity-4" class="headerlink" title="Space complexity"></a>Space complexity</h4><p>The space complexity will be <strong><em>O(V+E)</em></strong>, since we are storing all of the edges for each node in an adjacency list.</p>

    </article>
    <!-- license -->
    
        <div class="license-wrapper">
            <p>Author：<a href="https://hasuer.github.io">Hasuer</a>
            <p>Link：<a href="https://hasuer.github.io/24-pattern-topological-sort-graph/index.html">https://hasuer.github.io/24-pattern-topological-sort-graph/index.html</a>
            <p>Publish date：<a href="https://hasuer.github.io/24-pattern-topological-sort-graph/index.html">May 3rd 2024, 2:25:49 pm</a>
            <p>Update date：<a href="https://hasuer.github.io/24-pattern-topological-sort-graph/index.html">May 3rd 2024, 3:19:53 pm</a>
            <p>License：本文采用<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc/4.0/">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可</p>
        </div>
    
    <!-- paginator -->
    <ul class="post-paginator">
        <li class="next">
            
                <div class="nextSlogan">Next Post</div>
                <a href="/25-pattern-union-find/index.html" title="25. Pattern Union Find">
                    <div class="nextTitle">25. Pattern Union Find</div>
                </a>
            
        </li>
        <li class="previous">
            
                <div class="prevSlogan">Previous Post</div>
                <a href="/23-pattern-trie/index.html" title="23. Pattern Trie">
                    <div class="prevTitle">23. Pattern Trie</div>
                </a>
            
        </li>
    </ul>
    <!-- comment -->
    
        <div class="post-comment">
            <!-- 来必力 City 版安装代码 -->


            

            

            

            <!-- utteranc评论 -->


            <!-- partial('_partial/comment/changyan') -->
            <!--PC版-->


            
            

        </div>
    
    <!-- timeliness note -->
    <!-- idea from: https://hexo.fluid-dev.com/posts/hexo-injector/#%E6%96%87%E7%AB%A0%E6%97%B6%E6%95%88%E6%80%A7%E6%8F%90%E7%A4%BA -->
    
    <!-- Mathjax -->
    
</main>

                <!-- profile -->
                
            </div>
            <footer class="footer footer-unloaded">
    <!-- social  -->
    
        <div class="social">
            
    
        
            
                <a href="mailto:12345@qq.com" class="iconfont-archer email" title=email ></a>
            
        
    
        
            
                <a href="//github.com/HasuerYu" class="iconfont-archer github" target="_blank" title=github></a>
            
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


        </div>
    
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">Archer</a></span>
    </div>
    <!-- website approve for Chinese user -->
    
    <!-- 不蒜子  -->
    
        <div class="busuanzi-container">
            
             
                <span id="busuanzi_container_site_pv">PV: <span id="busuanzi_value_site_pv"></span> :)</span>
            
        </div>
    	
</footer>

        </div>
        <!-- toc -->
        
            <div class="toc-wrapper toc-wrapper-loding" style=







    top:50vh;

>
                <div class="toc-catalog">
                    <span class="iconfont-archer catalog-icon">&#xe613;</span><span>CATALOG</span>
                </div>
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Topological-Sort-medium"><span class="toc-number">2.</span> <span class="toc-text">*Topological Sort (medium)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement"><span class="toc-number">2.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Try-it-yourself"><span class="toc-number">2.2.</span> <span class="toc-text">Try it yourself</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution"><span class="toc-number">2.3.</span> <span class="toc-text">Solution</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Code"><span class="toc-number">2.3.1.</span> <span class="toc-text">Code</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-Complexity"><span class="toc-number">2.3.2.</span> <span class="toc-text">Time Complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-Complexity"><span class="toc-number">2.3.3.</span> <span class="toc-text">Space Complexity</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Similar-Problems"><span class="toc-number">2.4.</span> <span class="toc-text">Similar Problems</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tasks-Scheduling-medium"><span class="toc-number">3.</span> <span class="toc-text">Tasks Scheduling (medium)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-1"><span class="toc-number">3.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Try-it-yourself-1"><span class="toc-number">3.2.</span> <span class="toc-text">Try it yourself</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-1"><span class="toc-number">3.3.</span> <span class="toc-text">Solution</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-1"><span class="toc-number">3.3.1.</span> <span class="toc-text">Code</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity"><span class="toc-number">3.3.2.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity"><span class="toc-number">3.3.3.</span> <span class="toc-text">Space complexity</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Similar-Problems-1"><span class="toc-number">3.4.</span> <span class="toc-text">Similar Problems</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tasks-Scheduling-Order-medium"><span class="toc-number">4.</span> <span class="toc-text">Tasks Scheduling Order (medium)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-2"><span class="toc-number">4.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Try-it-yourself-2"><span class="toc-number">4.2.</span> <span class="toc-text">Try it yourself</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-2"><span class="toc-number">4.3.</span> <span class="toc-text">Solution</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-2"><span class="toc-number">4.3.1.</span> <span class="toc-text">Code</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity-1"><span class="toc-number">4.3.2.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity-1"><span class="toc-number">4.3.3.</span> <span class="toc-text">Space complexity</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Similar-Problems-2"><span class="toc-number">4.4.</span> <span class="toc-text">Similar Problems</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#All-Tasks-Scheduling-Orders-hard"><span class="toc-number">5.</span> <span class="toc-text">*All Tasks Scheduling Orders (hard)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-3"><span class="toc-number">5.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Try-it-yourself-3"><span class="toc-number">5.2.</span> <span class="toc-text">Try it yourself</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-3"><span class="toc-number">5.3.</span> <span class="toc-text">Solution</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-3"><span class="toc-number">5.3.1.</span> <span class="toc-text">Code</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-and-Space-Complexity"><span class="toc-number">5.3.2.</span> <span class="toc-text">Time and Space Complexity</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Alien-Dictionary-hard"><span class="toc-number">6.</span> <span class="toc-text">*Alien Dictionary (hard)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Problem-Statement-4"><span class="toc-number">6.1.</span> <span class="toc-text">Problem Statement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Try-it-yourself-4"><span class="toc-number">6.2.</span> <span class="toc-text">Try it yourself</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-4"><span class="toc-number">6.3.</span> <span class="toc-text">Solution</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-4"><span class="toc-number">6.3.1.</span> <span class="toc-text">Code</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity-2"><span class="toc-number">6.3.2.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity-2"><span class="toc-number">6.3.3.</span> <span class="toc-text">Space complexity</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-Challenge-1"><span class="toc-number">7.</span> <span class="toc-text">*Problem Challenge 1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Reconstructing-a-Sequence-hard"><span class="toc-number">7.1.</span> <span class="toc-text">Reconstructing a Sequence (hard)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Try-it-yourself-5"><span class="toc-number">7.2.</span> <span class="toc-text">Try it yourself</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-5"><span class="toc-number">7.3.</span> <span class="toc-text">Solution</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-5"><span class="toc-number">7.3.1.</span> <span class="toc-text">Code</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity-3"><span class="toc-number">7.3.2.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity-3"><span class="toc-number">7.3.3.</span> <span class="toc-text">Space complexity</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problem-Challenge-2"><span class="toc-number">8.</span> <span class="toc-text">*Problem Challenge 2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Minimum-Height-Trees-hard"><span class="toc-number">8.1.</span> <span class="toc-text">Minimum Height Trees (hard)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Try-it-yourself-6"><span class="toc-number">8.2.</span> <span class="toc-text">Try it yourself</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Solution-6"><span class="toc-number">8.3.</span> <span class="toc-text">Solution</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Code-6"><span class="toc-number">8.3.1.</span> <span class="toc-text">Code</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Time-complexity-4"><span class="toc-number">8.3.2.</span> <span class="toc-text">Time complexity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Space-complexity-4"><span class="toc-number">8.3.3.</span> <span class="toc-text">Space complexity</span></a></li></ol></li></ol></li></ol>
            </div>
        
        <!-- sidebar -->
        <div class="sidebar sidebar-hide">
    <ul class="sidebar-tabs sidebar-tabs-active-0">
        <li class="sidebar-tab-archives"><span class="iconfont-archer">&#xe67d;</span><span class="tab-name">Archive</span></li>
        <li class="sidebar-tab-tags"><span class="iconfont-archer">&#xe61b;</span><span class="tab-name">Tag</span></li>
        <li class="sidebar-tab-categories"><span class="iconfont-archer">&#xe666;</span><span class="tab-name">Cate</span></li>
    </ul>
    <div class="sidebar-content sidebar-content-show-archive">
        <div class="sidebar-panel-archives">
    <!-- 在 ejs 中将 archive 按照时间排序 -->
    
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    
    
    
    
    <div class="total-and-search">
        <div class="total-archive">
        Total : 81
        </div>
        <!-- search  -->
        
    </div>
    
    <div class="post-archive">
    
        
            
            
            <div class="archive-year"> 2024 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/22-pattern-backtracking/index.html">22. Pattern Backtracking</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/25-pattern-union-find/index.html">25. Pattern Union Find</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/26-ordered-set/index.html">26. Ordered Set</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/23-pattern-trie/index.html">23. Pattern Trie</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/28-pattern-multi-thread/index.html">28. Pattern Multi-thread</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/27-pattern-prefix-sum/index.html">27. Pattern Prefix Sum</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/24-pattern-topological-sort-graph/index.html">24. Pattern Topological Sort (Graph)</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/29-miscellaneous/index.html">29. Miscellaneous</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/21-pattern-01-knapsack-dynamic-programming/index.html">21. Pattern  01 Knapsack (Dynamic Programming)</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span>
            <a class="archive-post-title" href="/20-pattern-greedy-algorithms/index.html">20. Pattern Greedy Algorithms</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/19-pattern-k-way-merge/index.html">19. Pattern K-way merge</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/17-pattern-bitwise-xor/index.html">17. Pattern Bitwise XOR</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/18-pattern-top-k-elements/index.html">18. Pattern Top 'K' Elements</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/16-pattern-modified-binary-search/index.html">16. Pattern Modified Binary Search</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/15-pattern-subsets/index.html">15. Pattern Subsets</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/12-pattern-graphs/index.html">12. Pattern Graphs</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/13-pattern-island-matrix-traversal/index.html">13. Pattern Island (Matrix traversal)</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/14-pattern-two-heaps/index.html">14. Pattern Two Heaps</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/02</span>
            <a class="archive-post-title" href="/11-pattern-tree-depth-first-search/index.html">11. Pattern Tree Depth First Search</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/10-pattern-tree-breadth-first-search/index.html">10. Pattern Tree Breadth First Search</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/7-pattern-stack/index.html">7. Pattern Stack</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/8-pattern-monotonic-stack/index.html">8. Pattern Monotonic Stack</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/9-pattern-hash-maps/index.html">9. Pattern Hash Maps</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/6-pattern-in-place-reversal-of-a-linkedlist/index.html">6. Pattern In-place Reversal of a LinkedList</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/5-pattern-cyclic-sort/index.html">5. Pattern Cyclic Sort</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/4-pattern-merge-intervals/index.html">4. Pattern Merge Intervals</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/3-pattern-sliding-window/index.html">3. Pattern Sliding Window</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/2-pattern-fast-slow-pointers/index.html">2. Pattern Fast_Slow pointers</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/30</span>
            <a class="archive-post-title" href="/0-introduction/index.html">0.Introduction</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/30</span>
            <a class="archive-post-title" href="/1-pattern-two-pointers/index.html">1. Pattern Two Pointers</a>
        </li>
    
        
            
            
                
                </ul>
            
            <div class="archive-year"> 2022 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/12</span>
            <a class="archive-post-title" href="/ubuntu20-04%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEmysql8-%E8%AF%A6%E7%BB%86/index.html">Ubuntu20.04安装配置MySQL8(详细)</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/13</span>
            <a class="archive-post-title" href="/%E6%96%B0%E8%8B%B1%E6%96%87%E6%9D%82%E5%BF%97/index.html">新英文杂志</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/25</span>
            <a class="archive-post-title" href="/axios%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">Axios学习笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/23</span>
            <a class="archive-post-title" href="/promise%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">Promise学习笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/23</span>
            <a class="archive-post-title" href="/nginx%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">Nginx学习笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/23</span>
            <a class="archive-post-title" href="/ajax%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">AJAX学习笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/08</span>
            <a class="archive-post-title" href="/%E7%8A%B6%E6%80%81%E5%8E%8B%E7%BC%A9dp/index.html">状态压缩dp</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/30</span>
            <a class="archive-post-title" href="/%E8%93%9D%E6%A1%A5%E6%9D%AF/index.html">蓝桥杯</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/12</span>
            <a class="archive-post-title" href="/%E9%A9%AC%E6%96%AF%E5%85%8B%E7%9A%84%E5%86%92%E9%99%A9%E4%BA%BA%E7%94%9F/index.html">马斯克的冒险人生</a>
        </li>
    
        
            
            
                
                </ul>
            
            <div class="archive-year"> 2021 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/13</span>
            <a class="archive-post-title" href="/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%9F%BA%E7%A1%80%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/index.html">人工智能基础课堂笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/07</span>
            <a class="archive-post-title" href="/git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">Git学习笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/02</span>
            <a class="archive-post-title" href="/c-sort/index.html">C++ Sort()</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/19</span>
            <a class="archive-post-title" href="/%E4%BA%BA%E7%B1%BB%E7%AE%80%E5%8F%B2%E8%AF%BB%E5%90%8E%E6%84%9F/index.html">人类简史读后感</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/17</span>
            <a class="archive-post-title" href="/%E5%B0%91%E6%9C%89%E4%BA%BA%E8%B5%B0%E7%9A%84%E8%B7%AF-m-scott-peck/index.html">少有人走的路-M.Scott Peck</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/15</span>
            <a class="archive-post-title" href="/%E4%BA%B2%E5%AF%86%E5%85%B3%E7%B3%BB/index.html">亲密关系</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/15</span>
            <a class="archive-post-title" href="/%E6%88%91%E7%9A%84%E5%BF%83%E7%81%B5%E6%88%90%E9%95%BF%E6%97%85%E7%A8%8B/index.html">我的心灵成长旅程</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/06</span>
            <a class="archive-post-title" href="/%E9%95%BF%E6%B2%99%E4%B9%8B%E6%97%85/index.html">长沙之旅</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/20</span>
            <a class="archive-post-title" href="/postgresql-alter-table%E4%B8%AD%E6%94%B9%E5%8F%98%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%97%B6using%E7%9A%84%E7%94%A8%E6%B3%95/index.html">PostgreSQL ALTER TABLE中改变数据类型时USING的用法</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/11</span>
            <a class="archive-post-title" href="/kmp/index.html">KMP</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/06</span>
            <a class="archive-post-title" href="/%E6%88%91%E7%9A%84%E7%94%9F%E5%91%BD%E6%95%85%E4%BA%8B/index.html">我的生命故事</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/30</span>
            <a class="archive-post-title" href="/%E7%A9%B7%E6%9F%A5%E7%90%86%E5%AE%9D%E5%85%B8/index.html">穷查理宝典</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/15</span>
            <a class="archive-post-title" href="/%E8%A2%AB%E8%AE%A8%E5%8E%8C%E7%9A%84%E5%8B%87%E6%B0%94/index.html">被讨厌的勇气</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/14</span>
            <a class="archive-post-title" href="/%E5%88%B7%E9%A2%98%E6%BC%8F%E6%B4%9E/index.html">刷题漏洞</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/27</span>
            <a class="archive-post-title" href="/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/index.html">非暴力沟通</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/18</span>
            <a class="archive-post-title" href="/%E5%AF%8C%E7%88%B8%E7%88%B8%E7%A9%B7%E7%88%B8%E7%88%B8/index.html">富爸爸穷爸爸</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/14</span>
            <a class="archive-post-title" href="/latex%E8%BD%AC%E6%8D%A2markdown/index.html">latex转换markdown</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/14</span>
            <a class="archive-post-title" href="/%E4%BA%BA%E7%B1%BB%E7%AE%80%E5%8F%B2/index.html">人类简史</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/23</span>
            <a class="archive-post-title" href="/%E6%94%B9%E5%8F%98vscode%E9%BB%98%E8%AE%A4%E4%BB%A3%E7%A0%81%E6%A0%BC%E5%BC%8F/index.html">改变vscode默认代码格式</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/22</span>
            <a class="archive-post-title" href="/matlab-plot/index.html">Matlab_plot</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/16</span>
            <a class="archive-post-title" href="/pa3%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/index.html">PA3实验报告</a>
        </li>
    
        
            
            
                
                </ul>
            
            <div class="archive-year"> 2020 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/29</span>
            <a class="archive-post-title" href="/mit-6-828-homework-bigfilesforxv6/index.html">MIT 6.828 Homework_BigFilesForXV6</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/29</span>
            <a class="archive-post-title" href="/mit-6-828-homework-locking/index.html">MIT 6.828 Homework_Locking</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/29</span>
            <a class="archive-post-title" href="/mit-6-828-homework-xv6cpualarm/index.html">MIT 6.828 Homework_xv6CPUAlarm</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/29</span>
            <a class="archive-post-title" href="/mit-6-828-homework-lazypageallocation/index.html">MIT 6.828 Homework_LazyPageAllocation</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/28</span>
            <a class="archive-post-title" href="/mit-6-828-homework-systemcall/index.html">MIT 6.828 Homework_SystemCall</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/15</span>
            <a class="archive-post-title" href="/mit-6-828-assignment-barriers/index.html">MIT 6.828 Assignment_Barriers</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/10</span>
            <a class="archive-post-title" href="/pa2%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/index.html">PA2实验报告</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/06</span>
            <a class="archive-post-title" href="/mit-6-828-assignment-threadsandlocks/index.html">MIT 6.828 Assignment_ThreadsandLocks</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/03</span>
            <a class="archive-post-title" href="/%E6%89%93%E5%8D%B0%E5%A4%9A%E4%B8%AAhello/index.html">打印多个hello</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/31</span>
            <a class="archive-post-title" href="/pv%E9%A2%98/index.html">PV题</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/24</span>
            <a class="archive-post-title" href="/132-pattern/index.html">132 Pattern</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/24</span>
            <a class="archive-post-title" href="/%E5%A4%96%E5%88%8A%E5%8F%A5%E5%AD%90/index.html">外刊句子</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/21</span>
            <a class="archive-post-title" href="/book-xv6-chapter-0/index.html">book_xv6:Chapter_0</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/21</span>
            <a class="archive-post-title" href="/blog%E7%9B%AE%E5%BD%95/index.html">Blog目录</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/21</span>
            <a class="archive-post-title" href="/mit-6-828-operating-system-engineering/index.html">MIT 6.828 Operating System Engineering</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/20</span>
            <a class="archive-post-title" href="/mit-6-828-assignment-shell/index.html">MIT 6.828 Assignment_Shell</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/18</span>
            <a class="archive-post-title" href="/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/index.html">归并排序</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/15</span>
            <a class="archive-post-title" href="/09-working-with-processes/index.html">09 Working with processes</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/13</span>
            <a class="archive-post-title" href="/%E3%80%90%E5%93%88%E4%BD%9B%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%91justice/index.html">【哈佛公开课】Justice</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/10</span>
            <a class="archive-post-title" href="/pa1%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/index.html">PA1实验报告</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/07</span>
            <a class="archive-post-title" href="/hello-world/index.html">Hello World</a>
        </li>
    
    </div>
</div>

        <div class="sidebar-panel-tags">
    <div class="sidebar-tags-name">
        
            <span class="sidebar-tag-name" data-tags="Interview">
                <span class="iconfont-archer">&#xe606;</span>
                Interview
            </span>
        
            <span class="sidebar-tag-name" data-tags="stack">
                <span class="iconfont-archer">&#xe606;</span>
                stack
            </span>
        
            <span class="sidebar-tag-name" data-tags="MIT OS">
                <span class="iconfont-archer">&#xe606;</span>
                MIT OS
            </span>
        
            <span class="sidebar-tag-name" data-tags="NEMU实验">
                <span class="iconfont-archer">&#xe606;</span>
                NEMU实验
            </span>
        
            <span class="sidebar-tag-name" data-tags="进程管理">
                <span class="iconfont-archer">&#xe606;</span>
                进程管理
            </span>
        
            <span class="sidebar-tag-name" data-tags="Linux 基础">
                <span class="iconfont-archer">&#xe606;</span>
                Linux 基础
            </span>
        
            <span class="sidebar-tag-name" data-tags="人文">
                <span class="iconfont-archer">&#xe606;</span>
                人文
            </span>
        
            <span class="sidebar-tag-name" data-tags="社会">
                <span class="iconfont-archer">&#xe606;</span>
                社会
            </span>
        
            <span class="sidebar-tag-name" data-tags="人类史">
                <span class="iconfont-archer">&#xe606;</span>
                人类史
            </span>
        
            <span class="sidebar-tag-name" data-tags="历史">
                <span class="iconfont-archer">&#xe606;</span>
                历史
            </span>
        
            <span class="sidebar-tag-name" data-tags="心理学">
                <span class="iconfont-archer">&#xe606;</span>
                心理学
            </span>
        
            <span class="sidebar-tag-name" data-tags="人际关系">
                <span class="iconfont-archer">&#xe606;</span>
                人际关系
            </span>
        
            <span class="sidebar-tag-name" data-tags="情感">
                <span class="iconfont-archer">&#xe606;</span>
                情感
            </span>
        
            <span class="sidebar-tag-name" data-tags="新英文杂志">
                <span class="iconfont-archer">&#xe606;</span>
                新英文杂志
            </span>
        
            <span class="sidebar-tag-name" data-tags="投资理财">
                <span class="iconfont-archer">&#xe606;</span>
                投资理财
            </span>
        
            <span class="sidebar-tag-name" data-tags="财商">
                <span class="iconfont-archer">&#xe606;</span>
                财商
            </span>
        
            <span class="sidebar-tag-name" data-tags="思维模式">
                <span class="iconfont-archer">&#xe606;</span>
                思维模式
            </span>
        
            <span class="sidebar-tag-name" data-tags="成长">
                <span class="iconfont-archer">&#xe606;</span>
                成长
            </span>
        
            <span class="sidebar-tag-name" data-tags="心智">
                <span class="iconfont-archer">&#xe606;</span>
                心智
            </span>
        
            <span class="sidebar-tag-name" data-tags="排序算法">
                <span class="iconfont-archer">&#xe606;</span>
                排序算法
            </span>
        
            <span class="sidebar-tag-name" data-tags="投资">
                <span class="iconfont-archer">&#xe606;</span>
                投资
            </span>
        
            <span class="sidebar-tag-name" data-tags="思维">
                <span class="iconfont-archer">&#xe606;</span>
                思维
            </span>
        
            <span class="sidebar-tag-name" data-tags="人生哲学">
                <span class="iconfont-archer">&#xe606;</span>
                人生哲学
            </span>
        
            <span class="sidebar-tag-name" data-tags="心灵成长">
                <span class="iconfont-archer">&#xe606;</span>
                心灵成长
            </span>
        
            <span class="sidebar-tag-name" data-tags="哲学">
                <span class="iconfont-archer">&#xe606;</span>
                哲学
            </span>
        
            <span class="sidebar-tag-name" data-tags="沟通">
                <span class="iconfont-archer">&#xe606;</span>
                沟通
            </span>
        
            <span class="sidebar-tag-name" data-tags="人物传记，企业管理">
                <span class="iconfont-archer">&#xe606;</span>
                人物传记，企业管理
            </span>
        
    </div>
    <div class="iconfont-archer sidebar-tags-empty">&#xe678;</div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
        缺失模块，请参考主题文档进行安装配置：https://github.com/fi3ework/hexo-theme-archer#%E5%AE%89%E8%A3%85%E4%B8%BB%E9%A2%98
    </div> 
    <div class="sidebar-tags-list"></div>
</div>

        <div class="sidebar-panel-categories">
    <div class="sidebar-categories-name">
    
        <span class="sidebar-category-name" data-categories="Algorithm">
            <span class="iconfont-archer">&#xe60a;</span>
            Algorithm
        </span>
    
        <span class="sidebar-category-name" data-categories="LeetCode">
            <span class="iconfont-archer">&#xe60a;</span>
            LeetCode
        </span>
    
        <span class="sidebar-category-name" data-categories="技术笔记">
            <span class="iconfont-archer">&#xe60a;</span>
            技术笔记
        </span>
    
        <span class="sidebar-category-name" data-categories="操作系统原理">
            <span class="iconfont-archer">&#xe60a;</span>
            操作系统原理
        </span>
    
        <span class="sidebar-category-name" data-categories="操作系统实验">
            <span class="iconfont-archer">&#xe60a;</span>
            操作系统实验
        </span>
    
        <span class="sidebar-category-name" data-categories="Matlab">
            <span class="iconfont-archer">&#xe60a;</span>
            Matlab
        </span>
    
        <span class="sidebar-category-name" data-categories="计算机组成原理">
            <span class="iconfont-archer">&#xe60a;</span>
            计算机组成原理
        </span>
    
        <span class="sidebar-category-name" data-categories="tips">
            <span class="iconfont-archer">&#xe60a;</span>
            tips
        </span>
    
        <span class="sidebar-category-name" data-categories="阅读笔记">
            <span class="iconfont-archer">&#xe60a;</span>
            阅读笔记
        </span>
    
        <span class="sidebar-category-name" data-categories="随笔">
            <span class="iconfont-archer">&#xe60a;</span>
            随笔
        </span>
    
        <span class="sidebar-category-name" data-categories="Vscode-tips">
            <span class="iconfont-archer">&#xe60a;</span>
            Vscode-tips
        </span>
    
    </div>
    <div class="iconfont-archer sidebar-categories-empty">&#xe678;</div>
    <div class="sidebar-categories-list"></div>
</div>

    </div>
</div>

        <!-- site-meta -->
        <script>
    var siteMeta = {
        root: "/",
        author: "Hasuer"
    }
</script>

        <!-- import experimental options here -->
        <!-- Custom Font -->


        <!-- main func -->
        <script src="/scripts/main.js?v=20210823"></script>
        <!-- dark mode -->
        <script src="/scripts/dark.js?v=20210823"></script>
        <!-- fancybox -->
        <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" defer></script>
        <!-- algolia -->
        
        <!-- busuanzi -->
        
            <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
        
        <!-- CNZZ -->
        
        <!-- async load share.js -->
        
            <script src="/scripts/share.js?v=20210823" async></script>
        
        <!-- mermaid -->
        
    </body>
</html>
